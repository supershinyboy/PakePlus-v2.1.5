import{k as XA,c as g,i as v,a as s,x as qA,s as ZA,r as W,o as ae,O as kt,p as I,y as jA,d as Z,b as p,B as iA,t as f,A as tA,w as C,j as X,F as vA,g as yA,P as ie,Q as Ot,R as It,n as ne,S as GA,G as rn,e as pA,T as Uo,M as lt,z as zA,U as Us,V as ye,W as kn,X as St,Y as Ei,Z as _o,_ as Qn,u as _A,$ as zt,a0 as ya,l as yn,a1 as Si,a2 as qe,a3 as ko,a4 as Br,a5 as Ti,a6 as Pe,a7 as Re,E as $i,a8 as Di,a9 as Li,aa as Mi,ab as pr,ac as On,ad as mr,ae as Za,f as Ki}from"./index-BpMbMj_Q.js";import{_ as Ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as Fe,d as Oi,e as At,u as yt,f as Se,_ as ue,F as Io,I as Ho,h as Eo,j as _s,k as So,g as we,l as He,B as Ke,c as Zt,m as In,n as Ar,o as xi,s as To,a as $o,T as Do,p as Lo,q as bn,r as Mo,t as Pi}from"./index-DBlk97ae.js";import{R as Hn,I as Ri,a as Vi}from"./render-function-C-9MvElU.js";import{g as Ni}from"./get-value-by-path-gns-Noqw.js";import{R as _e}from"./Refresh-CoAARex0.js";import{C as Me,M as Gi}from"./index-B_NaE_cW.js";import{D as Wi}from"./dailyTaskRunner-DfnZIvdK.js";import{S as Yi}from"./Settings-CPXUluj0.js";import{C as zi}from"./CheckmarkCircle-BjktXHAb.js";import{_ as Ko}from"./xiaoyugan-Dwisk7G8.js";const Xi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ji=s("path",{d:"M480 128a64 64 0 0 0-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4z",fill:"currentColor"},null,-1),qi=s("path",{d:"M32 416a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3H35a3 3 0 0 0-3 3zm344-208a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24a24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24a24 24 0 0 1 24-24z",fill:"currentColor"},null,-1),ji=[Ji,qi],Zi=XA({name:"Calendar",render:function(e,t){return v(),g("svg",Xi,ji)}}),Au={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},eu=s("path",{d:"M424.44 227.25a16 16 0 0 1-12.12-12.39c-7.68-36.68-24.45-68.15-49.18-92A153.57 153.57 0 0 0 256 80c-35.5 0-68.24 11.69-94.68 33.8a156.24 156.24 0 0 0-42 56a16 16 0 0 1-11.37 9.15c-27 5.62-51.07 17.34-69.18 33.87C13.39 235.88 0 267.42 0 304c0 36 14.38 68.88 40.49 92.59C65.64 419.43 99.56 432 136 432h260c32.37 0 60.23-8.57 80.59-24.77C499.76 388.78 512 361.39 512 328c0-57.57-42-90.58-87.56-100.75zm-95.2-8.94l-107.8 128a16 16 0 0 1-12 5.69h-.27a16 16 0 0 1-11.88-5.28l-45.9-50.87c-5.77-6.39-5.82-16.33.3-22.4a16 16 0 0 1 23.16.63l33.9 37.58l96-114a16 16 0 1 1 24.48 20.62z",fill:"currentColor"},null,-1),tu=[eu],nu=XA({name:"CloudDone",render:function(e,t){return v(),g("svg",Au,tu)}}),su={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},au=s("path",{d:"M428 224H288a48 48 0 0 1-48-48V36a4 4 0 0 0-4-4h-92a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h224a64 64 0 0 0 64-64V228a4 4 0 0 0-4-4zm-92 160H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32zm0-80H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32z",fill:"currentColor"},null,-1),ru=s("path",{d:"M419.22 188.59L275.41 44.78a2 2 0 0 0-3.41 1.41V176a16 16 0 0 0 16 16h129.81a2 2 0 0 0 1.41-3.41z",fill:"currentColor"},null,-1),ou=[au,ru],it=XA({name:"DocumentText",render:function(e,t){return v(),g("svg",su,ou)}}),lu={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},iu=s("circle",{cx:"256",cy:"256",r:"192",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),uu=[iu],cu=XA({name:"EllipseOutline",render:function(e,t){return v(),g("svg",lu,uu)}}),du={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},vu=s("path",{d:"M464 80h-60.1a4 4 0 0 1-4-4V63.92a32 32 0 0 0-32-31.92l-223.79.26a32 32 0 0 0-31.94 31.93V76a4 4 0 0 1-4 4H48a16 16 0 0 0-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 0 1 5.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61c20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 0 1 6.25 7.8V444a4 4 0 0 1-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 0 0 176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 0 0 336 448h-60a4 4 0 0 1-4-4v-86.86a8 8 0 0 1 6.25-7.8c22.42-5 47.36-16.65 68.27-32.48c27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 0 1 5.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 0 0-16-16zM112 198.22a4 4 0 0 1-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89c-11.91-17.69-19-40.67-19.79-63.63a4 4 0 0 1 4-4.15h40a4 4 0 0 1 4 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 0 1-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 0 1 4-4h40a4 4 0 0 1 4 4.15c-.79 22.96-7.9 45.94-19.81 63.63z",fill:"currentColor"},null,-1),fu=[vu],gu=XA({name:"Trophy",render:function(e,t){return v(),g("svg",du,fu)}}),Bu="/icons/%E7%96%AF%E7%8B%82%E8%B5%9B%E8%BD%A6.png",pu={class:"status-card club-car-king"},mu={class:"card-header"},hu={class:"card-content"},wu={class:"car-toolbar"},Cu={key:0,class:"hint"},Qu={key:1,class:"hint"},yu={key:2,class:"car-grid"},bu={class:"car-header"},Fu=["src","alt"],Uu={class:"car-name"},_u={class:"car-meta"},ku={class:"kv"},Iu={class:"v"},Hu={key:0,class:"kv"},Eu={class:"v"},Su={key:1,class:"kv"},Tu={class:"v"},$u={class:"kv"},Du={class:"v"},Lu={class:"kv"},Mu={class:"v"},Ku={key:2,class:"kv"},Ou={key:0,class:"car-rewards-full"},xu={class:"rewards-list"},Pu={class:"car-actions"},Ru={class:"helper-body"},Vu={class:"helper-row"},hr=4*60*60*1e3,Nu={__name:"ClubCarKing",setup(A){const e=qA(),t=ZA(),n=W(!1),a=W(null),o=W(!1),r=W(0),i=W(Date.now());let l=null;ae(()=>{l=setInterval(()=>{i.value=Date.now()},6e4)}),kt(()=>{l&&clearInterval(l)});const c=I(()=>new Date(i.value).getHours()>=20),d=I(()=>{const x=new Date(i.value).getDay();return x>=1&&x<=3}),u=I(()=>{const eA=e.selectedToken;return eA?e.getWebSocketStatus(eA.id)==="connected":!1}),b=eA=>{const x=eA||{},U=x.body||x,AA=U.roleCar||U.rolecar||{},nA=AA.carDataMap||AA.cardatamap;if(nA&&typeof nA=="object")return Object.entries(nA).map(([oA,cA],CA)=>({key:CA,id:oA,...cA||{}}));let uA=U.cars||U.list||U.data||U.carList||U.vehicles||[];return!Array.isArray(uA)&&typeof uA=="object"&&uA!==null&&(uA=Object.values(uA)),Array.isArray(U)&&uA.length===0&&(uA=U),(Array.isArray(uA)?uA:[]).map((oA,cA)=>({key:cA,...oA}))},w=I(()=>b(a.value)),Q=I(()=>(w.value||[]).filter(eA=>Number(eA.refreshCount??0)===0).length),H=I(()=>Q.value>0),M=eA=>({1:"绿·普通",2:"蓝·稀有",3:"紫·史诗",4:"橙·传说",5:"红·神话",6:"金·传奇"})[eA]||"未知",F=eA=>"/"+({1:"/icons/大众.svg",2:"/icons/特斯拉.svg",3:"/icons/奥迪.svg",4:"/icons/奔驰.svg",5:"/icons/保时捷.svg",6:"/icons/兰博基尼.svg"}[eA]||"/icons/大众.svg").replace(/^\//,""),h={1001:"招募令",1003:"进阶石",1006:"精铁",1007:"竞技场门票",1008:"木柴火把",1009:"青铜火把",1010:"咸神火把",1011:"普通鱼竿",1012:"黄金鱼竿",1013:"珍珠",1014:"军团币",1016:"晶石",1017:"复活丹",1019:"盐靛",1020:"皮肤币",1021:"扫荡魔毯",1022:"白玉",1023:"彩玉",1026:"扳手",1033:"贝壳",1035:"金盐靛",10002:"蓝玉",10003:"红玉",10101:"四圣碎片",2001:"木制宝箱",2002:"青铜宝箱",2003:"黄金宝箱",2004:"铂金宝箱",2005:"钻石宝箱",2101:"助威币",3001:"金币袋子",3002:"金砖袋子",3005:"紫色随机碎片",3006:"橙色随机碎片",3007:"红色随机碎片",3008:"精铁袋子",3009:"进阶袋子",3010:"梦魇袋子",3011:"白玉袋子",3012:"扳手袋子",3020:"聚宝盆",3021:"豪华聚宝盆",3201:"红色万能碎片",3302:"橙色万能碎片",35002:"刷新券",35009:"零件"},V=eA=>h[eA]||`未知物品(${eA})`,P=eA=>{const x=Number(eA);return x>=1e12?(x/1e12).toFixed(2)+"兆":x>=1e8?(x/1e8).toFixed(2)+"亿":x>=1e4?(x/1e4).toFixed(2)+"万":x.toString()},k=eA=>{const x=eA.type||0,U=eA.itemId||0,AA=eA.value||0;return x===1?`金币: ${P(AA)}`:x===2?`金砖: ${AA.toLocaleString()}`:x===3?`${V(U)}: ${AA}`:`类型${x}物品${U}: ${AA}`},E=eA=>{const x=Number(eA.type||0),U=Number(eA.itemId||0);return Number(eA.value||0),[{type:3,itemId:3201},{type:3,itemId:1001},{type:2,itemId:0},{type:3,itemId:1022},{type:3,itemId:1023}].some(nA=>nA.type===x&&nA.itemId===U)},D=eA=>{const x=Number(eA.type||0),U=Number(eA.itemId||0);return x===3&&U===35002},R=eA=>{const x=D(eA),U=E(eA);return x?"refresh-ticket":U?"high-value":""},N=eA=>Array.isArray(eA)?[...eA].sort((x,U)=>{const AA=E(x),nA=E(U),uA=D(x),oA=D(U);return AA&&!nA?-1:!AA&&nA?1:uA&&!oA?-1:!uA&&oA?1:0}):[],_=eA=>{const x=[{type:3,itemId:3201,value:10},{type:3,itemId:1001,value:10},{type:3,itemId:1022,value:2e3},{type:2,itemId:0,value:2e3},{type:3,itemId:1023,value:5},{type:3,itemId:1022,value:2500},{type:3,itemId:1001,value:12}];return Array.isArray(eA)?x.some(U=>eA.find(AA=>AA.type===U.type&&AA.itemId===U.itemId&&Number(AA.value||0)>=U.value)):!1},J=eA=>Array.isArray(eA)?eA.reduce((x,U)=>x+(U.type===3&&U.itemId===35002?Number(U.value||0):0),0):0,z=(eA,x)=>{const U=Number((eA==null?void 0:eA.color)||0),AA=Array.isArray(eA==null?void 0:eA.rewards)?eA.rewards:[],nA=J(AA);return x>=6?U>=4&&(U>=5||nA>=4||_(AA)):U>=4||nA>=2||_(AA)},L=async()=>{var x,U,AA;const eA=e.selectedToken;if(!eA||!u.value){t.warning("请先选择 Token 并建立连接");return}n.value=!0;try{const nA=await e.sendMessageWithPromise(eA.id,"car_getrolecar",{},1e4);try{const uA=await e.sendMessageWithPromise(eA.id,"role_getroleinfo",{},1e4),oA=(AA=(U=(x=uA==null?void 0:uA.role)==null?void 0:x.items)==null?void 0:U[35002])==null?void 0:AA.quantity;r.value=Number(oA||0)}catch{}a.value=(nA==null?void 0:nA.body)??nA,o.value=!0,b(a.value).length?t.success("疯狂赛车数据已更新"):t.info("未识别到车辆字段，已启用智能解析。如仍为空请提供返回示例")}catch(nA){t.error("获取车辆数据失败："+(nA.message||"未知错误"))}finally{n.value=!1}};jA(u,eA=>{eA&&!o.value&&L()});const $=async eA=>{var U,AA,nA,uA,oA;const x=e.selectedToken;if(!x||!u.value){t.warning("请先选择 Token 并建立连接");return}if(!(eA!=null&&eA.id)){t.warning("未找到车辆ID");return}if(Number(eA.sendAt||0)!==0){t.warning("仅未发车的车辆可刷新品阶");return}try{Number(eA.refreshCount??0)!==0&&t.info("将消耗车票进行刷新");const cA=await e.sendMessageWithPromise(x.id,"car_refresh",{carId:String(eA.id)},1e4),CA=(cA==null?void 0:cA.car)||((U=cA==null?void 0:cA.body)==null?void 0:U.car)||cA;if(CA&&typeof CA=="object"){if(CA.color!=null&&(eA.color=Number(CA.color)),CA.refreshCount!=null){eA.refreshCount=Number(CA.refreshCount);const HA=((AA=a.value)==null?void 0:AA.body)||a.value||{};HA.roleCar&&HA.roleCar.refreshCount!=null&&(HA.roleCar.refreshCount=Number(CA.refreshCount))}const rA=M(eA.color);t.success(`刷新完成：${rA}`)}else await L(),t.success("品阶刷新完成");try{const rA=await e.sendMessageWithPromise(x.id,"role_getroleinfo",{},8e3);r.value=Number(((oA=(uA=(nA=rA==null?void 0:rA.role)==null?void 0:nA.items)==null?void 0:uA[35002])==null?void 0:oA.quantity)||0)}catch{}}catch(cA){t.error("刷新失败："+(cA.message||"未知错误"))}},m=async eA=>{var U;const x=e.selectedToken;if(!x||!u.value){t.warning("请先选择 Token 并建立连接");return}if(Number(eA.sendAt||0)!==0){t.info("该车辆已发车");return}if(!d.value){t.warning("非活动时间不可发车（仅周一至周三开放）");return}if(!(eA!=null&&eA.id)){t.warning("未找到车辆ID");return}if(Number(eA.sendAt||0)!==0){t.info("该车辆已发车");return}try{t.info("发车中...");const AA=await e.sendMessageWithPromise(x.id,"car_send",{carId:String(eA.id),helperId:Number(eA.helperId||0),text:"",isUpgrade:!1},1e4),nA=(AA==null?void 0:AA.body)||AA,uA=(nA==null?void 0:nA.roleCar)||(nA==null?void 0:nA.rolecar),oA=(uA==null?void 0:uA.carDataMap)||(uA==null?void 0:uA.cardatamap);if(oA&&oA[eA.id]){const cA=oA[eA.id],CA=((U=a.value)==null?void 0:U.body)||a.value||{};CA.roleCar&&CA.roleCar.carDataMap&&CA.roleCar.carDataMap[eA.id]&&(CA.roleCar.carDataMap[eA.id]={...CA.roleCar.carDataMap[eA.id],...cA}),cA.sendAt!=null&&(eA.sendAt=cA.sendAt),cA.color!=null&&(eA.color=cA.color),cA.refreshCount!=null&&(eA.refreshCount=cA.refreshCount),t.success("已发车")}else await L(),t.success("已发车")}catch(AA){t.error("发车失败："+(AA.message||"未知错误"))}},B=eA=>{const x=Number((eA==null?void 0:eA.sendAt)||0);if(!x)return!1;const U=x<1e12?x*1e3:x;return i.value-U>=hr},y=async eA=>{var U;const x=e.selectedToken;if(!x||!u.value)return t.warning("请先选择 Token 并建立连接");if(!(eA!=null&&eA.id))return t.warning("未找到车辆ID");if(!B(eA))return t.warning("未到可收车时间（需超过4小时）");try{t.info("收车中...");const AA=await e.sendMessageWithPromise(x.id,"car_claim",{carId:String(eA.id)},1e4);eA.sendAt=0;const nA=((U=a.value)==null?void 0:U.body)||a.value||{};nA.roleCar&&nA.roleCar.carDataMap&&nA.roleCar.carDataMap[eA.id]&&(nA.roleCar.carDataMap[eA.id]={...nA.roleCar.carDataMap[eA.id],sendAt:0}),t.success("收车完成")}catch(AA){t.error("收车失败："+(AA.message||"未知错误"))}},T=eA=>{const x=Number((eA==null?void 0:eA.sendAt)||0);return x?(x<1e12?x*1e3:x)+hr-i.value:0},G=eA=>{if(eA<=0)return"0分";const x=Math.ceil(eA/1e3),U=Math.floor(x/3600),AA=Math.floor(x%3600/60);return U>0?`${U}小时${AA}分`:`${AA}分`},S=eA=>Number((eA==null?void 0:eA.sendAt)||0)!==0?B(eA)?"收车":`收车(剩余${G(T(eA))})`:"发车",O=eA=>Number((eA==null?void 0:eA.sendAt)||0)!==0?!B(eA):c.value||!d.value,K=async eA=>{if(!(Number((eA==null?void 0:eA.sendAt)||0)!==0))return m(eA);if(B(eA))return y(eA);{const U=G(T(eA));t.info(`未到可收车时间，剩余 ${U}`)}},Y=async()=>{if(!e.selectedToken||!u.value)return t.warning("请先选择 Token 并建立连接");try{const x=(w.value||[]).filter(U=>B(U));for(const U of x){try{await y(U)}catch{}await new Promise(AA=>setTimeout(AA,300))}await L(),t.success("一键收车完成")}catch(x){t.error("一键收车失败："+(x.message||"未知错误"))}},q=async()=>{if(!e.selectedToken||!u.value)return t.warning("请先选择 Token 并建立连接");try{await L();let x=Number(r.value||0);for(const U of w.value){if(Number(U.sendAt||0)!==0)continue;if(z(U,x)){await m(U),await new Promise(uA=>setTimeout(uA,500));continue}let AA=!1;const nA=Number(U.refreshCount??0)===0;if(x>=6)AA=!0;else if(nA)AA=!0;else{await m(U),await new Promise(uA=>setTimeout(uA,500));continue}for(;AA;){if(await $(U),x=Number(r.value||0),z(U,x)){await m(U),await new Promise(oA=>setTimeout(oA,500));break}const uA=Number(U.refreshCount??0)===0;if(x>=6)AA=!0;else if(uA)AA=!0;else{await m(U),await new Promise(oA=>setTimeout(oA,500));break}}}await L(),t.success("智能发车完成")}catch(x){t.error("智能发车失败："+(x.message||"未知错误"))}},j=W(!1),sA=W(!1),wA=W([]),fA=W(null),FA=W(null),UA=I(()=>{var eA;return((eA=e.gameData)==null?void 0:eA.legionInfo)||null}),RA=I(()=>{var eA;return((eA=UA.value)==null?void 0:eA.info)||{}}),SA=I(()=>{var eA;return((eA=RA.value)==null?void 0:eA.members)||{}}),OA=I(()=>Object.values(SA.value||{})),WA=async eA=>{var U;const x=e.selectedToken;if(!x||!u.value)return t.warning("请先选择 Token 并建立连接");if(Number(eA.color||0)<5)return t.warning("仅品阶≥5的车辆可设置护卫");if(Number(eA.sendAt||0)!==0)return t.warning("已发车车辆不可设置护卫");FA.value=eA,j.value=!0,sA.value=!0,fA.value=eA.helperId?String(eA.helperId):null;try{const AA=await e.sendMessageWithPromise(x.id,"car_getmemberhelpingcnt",{},1e4),nA=((U=AA==null?void 0:AA.body)==null?void 0:U.memberHelpingCntMap)||(AA==null?void 0:AA.memberHelpingCntMap)||{},uA=OA.value.map(oA=>{var dA,DA;const cA=String(oA.roleId),CA=Number(nA[cA]??0),rA=P(oA.power||((dA=oA.custom)==null?void 0:dA.s_power)||0),HA=((DA=oA.custom)==null?void 0:DA.red_quench_cnt)||0;return{label:`${oA.name||oA.nickname||cA}（战力: ${rA} | 红粹: ${HA} | 已护卫 ${CA}/4）`,value:cA,disabled:CA>=4}});wA.value=uA}catch(AA){t.error("获取护卫数据失败："+(AA.message||"未知错误")),wA.value=[]}finally{sA.value=!1}},YA=()=>{FA.value&&(FA.value.helperId=fA.value?String(fA.value):null),j.value=!1},xA=()=>{j.value=!1};return(eA,x)=>{const U=Z("n-button"),AA=Z("n-tag"),nA=Z("n-space"),uA=Z("n-select"),oA=Z("n-modal");return v(),g(vA,null,[s("div",pu,[s("div",mu,[x[3]||(x[3]=s("img",{class:"status-icon",src:Bu,alt:"疯狂赛车"},null,-1)),x[4]||(x[4]=s("div",{class:"status-info"},[s("h3",null,"疯狂赛车"),s("p",null,"车辆仓库与品阶")],-1)),s("div",{class:iA(["status-badge",{active:w.value.length>0}])},[x[2]||(x[2]=s("div",{class:"status-dot"},null,-1)),s("span",null,f(w.value.length>0?`共 ${w.value.length} 辆`:"暂无数据"),1)],2)]),s("div",hu,[s("div",wu,[p(nA,{size:"small"},{default:C(()=>[p(U,{type:"primary",size:"small",loading:n.value,onClick:L},{default:C(()=>[X(f(n.value?"加载中...":"刷新数据"),1)]),_:1},8,["loading"]),p(U,{size:"small",secondary:"",disabled:n.value||!u.value,onClick:q},{default:C(()=>[...x[5]||(x[5]=[X("智能发车",-1)])]),_:1},8,["disabled"]),p(U,{size:"small",secondary:"",disabled:n.value||!u.value,onClick:Y},{default:C(()=>[...x[6]||(x[6]=[X("一键收车",-1)])]),_:1},8,["disabled"]),p(AA,{size:"small",type:H.value?"success":"default"},{default:C(()=>[X(f(H.value?`有 ${Q.value} 辆可免费刷新`:"无免费刷新"),1)]),_:1},8,["type"]),p(AA,{size:"small",type:"info"},{default:C(()=>[X("剩余车票: "+f(r.value),1)]),_:1})]),_:1})]),u.value?w.value.length===0&&!n.value?(v(),g("div",Qu," 暂无车辆数据 ")):tA("",!0):(v(),g("div",Cu,"请先选择 Token 并建立连接")),w.value.length>0?(v(),g("div",yu,[(v(!0),g(vA,null,yA(w.value,cA=>(v(),g("div",{key:cA.key,class:"car-card"},[s("div",bu,[s("img",{class:"car-brand-icon",src:F(cA.color),alt:M(cA.color)},null,8,Fu),s("div",{class:iA(["car-badge","grade-"+(cA.color||0)])},f(M(cA.color)),3),s("div",Uu,f(cA.name||cA.carName||"车辆 #"+(cA.id||cA.key)),1)]),s("div",_u,[s("div",ku,[x[7]||(x[7]=s("span",{class:"k"},"品阶",-1)),s("span",Iu,[s("span",{class:iA(["grade-dot","grade-"+(cA.color||0)])},null,2),X(f(M(cA.color)),1)])]),cA.level!=null?(v(),g("div",Hu,[x[8]||(x[8]=s("span",{class:"k"},"等级",-1)),s("span",Eu,f(cA.level),1)])):tA("",!0),cA.star!=null?(v(),g("div",Su,[x[9]||(x[9]=s("span",{class:"k"},"星级",-1)),s("span",Tu,f(cA.star),1)])):tA("",!0),s("div",$u,[x[10]||(x[10]=s("span",{class:"k"},"状态",-1)),s("span",Du,f(Number(cA.sendAt||0)===0?"未发车":"已发车"),1)]),s("div",Lu,[x[11]||(x[11]=s("span",{class:"k"},"帮手",-1)),s("span",Mu,f(Number(cA.color||0)>=5?"可携带":"—"),1)]),_(cA.rewards)?(v(),g("div",Ku,[...x[12]||(x[12]=[s("span",{class:"k"},"奖励",-1),s("span",{class:"v",style:{color:"#f59e0b"}},"包含大奖",-1)])])):tA("",!0)]),cA.rewards&&cA.rewards.length>0?(v(),g("div",Ou,[s("div",xu,[(v(!0),g(vA,null,yA(N(cA.rewards),(CA,rA)=>(v(),g("span",{key:rA,class:iA(["reward-item",R(CA)])},f(k(CA)),3))),128))])])):tA("",!0),s("div",Pu,[p(U,{size:"small",type:Number(cA.refreshCount??0)===0?"success":"warning",disabled:n.value||Number(cA.sendAt||0)!==0,onClick:CA=>$(cA)},{default:C(()=>[X(f(Number(cA.refreshCount??0)===0?"免费刷新品阶":"刷新品阶(需车票)"),1)]),_:2},1032,["type","disabled","onClick"]),p(U,{size:"small",type:"primary",disabled:n.value||O(cA),onClick:CA=>K(cA)},{default:C(()=>[X(f(S(cA)),1)]),_:2},1032,["disabled","onClick"]),p(U,{size:"small",quaternary:"",disabled:n.value||Number(cA.color||0)<5||Number(cA.sendAt||0)!==0,onClick:CA=>WA(cA)},{default:C(()=>[...x[13]||(x[13]=[X(" 护卫 ",-1)])]),_:1},8,["disabled","onClick"])])]))),128))])):tA("",!0)])]),p(oA,{show:j.value,"onUpdate:show":x[1]||(x[1]=cA=>j.value=cA),preset:"card",title:"选择护卫",style:{width:"600px"}},{footer:C(()=>[p(nA,null,{default:C(()=>[p(U,{onClick:xA},{default:C(()=>[...x[16]||(x[16]=[X("取消",-1)])]),_:1}),p(U,{type:"primary",onClick:YA},{default:C(()=>[...x[17]||(x[17]=[X("确定",-1)])]),_:1})]),_:1})]),default:C(()=>[s("div",Ru,[s("div",Vu,[x[14]||(x[14]=s("span",{class:"label"},"护卫成员",-1)),p(uA,{value:fA.value,"onUpdate:value":x[0]||(x[0]=cA=>fA.value=cA),options:wA.value,placeholder:"选择俱乐部成员",loading:sA.value,filterable:"","max-tag-count":1,style:{width:"420px"}},null,8,["value","options","loading"])]),x[15]||(x[15]=s("div",{class:"tips"},"说明：次数满 4 的成员不可再被选择。",-1))])]),_:1},8,["show"])],64)}}},Gu=Ae(Nu,[["__scopeId","data-v-bedf5daf"]]),Wu={class:"status-card"},Yu={class:"card-header"},zu={class:"status-icon"},Xu={class:"status-title"},Ju={class:"card-content"},De=XA({__name:"MyCard",props:{statusClass:{}},setup(A){return(e,t)=>(v(),g("div",Wu,[s("div",Yu,[s("div",zu,[ie(e.$slots,"icon")]),s("div",Xu,[ie(e.$slots,"title")]),s("div",{class:iA(["status-badge",A.statusClass])},[t[0]||(t[0]=s("div",{class:"status-dot"},null,-1)),ie(e.$slots,"badge")],2),ie(e.$slots,"extra")]),s("div",Ju,[ie(e.$slots,"default")]),s("div",{class:iA(["card-action",A.statusClass])},[ie(e.$slots,"action")],2)]))}}),er="/icons/1733492491706152.png";var En=function(A){return function(e){return Math.pow(e,A)}},Sn=function(A){return function(e){return 1-Math.abs(Math.pow(e-1,A))}},ks=function(A){return function(e){return e<.5?En(A)(e*2)/2:Sn(A)(e*2-1)/2+.5}},qu=function(A){return A},ju=En(2),Zu=Sn(2),Ac=ks(2),ec=En(3),tc=Sn(3),nc=ks(3),sc=En(4),ac=Sn(4),rc=ks(4),oc=En(5),lc=Sn(5),ic=ks(5),uc=function(A){return 1+Math.sin(Math.PI/2*A-Math.PI/2)},cc=function(A){return Math.sin(Math.PI/2*A)},dc=function(A){return(1+Math.sin(Math.PI*A-Math.PI/2))/2},tr=function(A){var e=7.5625,t=2.75;return A<1/t?e*A*A:A<2/t?(A-=1.5/t,e*A*A+.75):A<2.5/t?(A-=2.25/t,e*A*A+.9375):(A-=2.625/t,e*A*A+.984375)},Oo=function(A){return 1-tr(1-A)},vc=function(A){return A<.5?Oo(A*2)*.5:tr(A*2-1)*.5+.5},fc=Object.freeze({linear:qu,quadIn:ju,quadOut:Zu,quadInOut:Ac,cubicIn:ec,cubicOut:tc,cubicInOut:nc,quartIn:sc,quartOut:ac,quartInOut:rc,quintIn:oc,quintOut:lc,quintInOut:ic,sineIn:uc,sineOut:cc,sineInOut:dc,bounceOut:tr,bounceIn:Oo,bounceInOut:vc}),Is=function(e){var t=e.from,n=e.to,a=e.duration,o=e.delay,r=e.easing,i=e.onStart,l=e.onUpdate,c=e.onFinish;for(var d in t)n[d]===void 0&&(n[d]=t[d]);for(var u in n)t[u]===void 0&&(t[u]=n[u]);this.from=t,this.to=n,this.duration=a||500,this.delay=o||0,this.easing=r||"linear",this.onStart=i,this.onUpdate=l||function(){},this.onFinish=c,this.startTime=Date.now()+this.delay,this.started=!1,this.finished=!1,this.timer=null,this.keys={}};Is.prototype.update=function(){if(this.time=Date.now(),!(this.time<this.startTime)&&!this.finished){if(this.elapsed===this.duration){this.finished||(this.finished=!0,this.onFinish&&this.onFinish(this.keys));return}this.elapsed=this.time-this.startTime,this.elapsed=this.elapsed>this.duration?this.duration:this.elapsed;for(var e in this.to)this.keys[e]=this.from[e]+(this.to[e]-this.from[e])*fc[this.easing](this.elapsed/this.duration);this.started||(this.onStart&&this.onStart(this.keys),this.started=!0),this.onUpdate(this.keys)}};Is.prototype.start=function(){var e=this;this.startTime=Date.now()+this.delay;var t=function(){e.update(),e.timer=requestAnimationFrame(t),e.finished&&(cancelAnimationFrame(e.timer),e.timer=null)};t()};Is.prototype.stop=function(){cancelAnimationFrame(this.timer),this.timer=null};var xo={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){var t=1e3,n=6e4,a=36e5,o="millisecond",r="second",i="minute",l="hour",c="day",d="week",u="month",b="quarter",w="year",Q="date",H="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,F=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var m=["th","st","nd","rd"],B=$%100;return"["+$+(m[(B-20)%10]||m[B]||m[0])+"]"}},V=function($,m,B){var y=String($);return!y||y.length>=m?$:""+Array(m+1-y.length).join(B)+$},P={s:V,z:function($){var m=-$.utcOffset(),B=Math.abs(m),y=Math.floor(B/60),T=B%60;return(m<=0?"+":"-")+V(y,2,"0")+":"+V(T,2,"0")},m:function $(m,B){if(m.date()<B.date())return-$(B,m);var y=12*(B.year()-m.year())+(B.month()-m.month()),T=m.clone().add(y,u),G=B-T<0,S=m.clone().add(y+(G?-1:1),u);return+(-(y+(B-T)/(G?T-S:S-T))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:u,y:w,w:d,d:c,D:Q,h:l,m:i,s:r,ms:o,Q:b}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},k="en",E={};E[k]=h;var D="$isDayjsObject",R=function($){return $ instanceof z||!(!$||!$[D])},N=function $(m,B,y){var T;if(!m)return k;if(typeof m=="string"){var G=m.toLowerCase();E[G]&&(T=G),B&&(E[G]=B,T=G);var S=m.split("-");if(!T&&S.length>1)return $(S[0])}else{var O=m.name;E[O]=m,T=O}return!y&&T&&(k=T),T||!y&&k},_=function($,m){if(R($))return $.clone();var B=typeof m=="object"?m:{};return B.date=$,B.args=arguments,new z(B)},J=P;J.l=N,J.i=R,J.w=function($,m){return _($,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var z=function(){function $(B){this.$L=N(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[D]=!0}var m=$.prototype;return m.parse=function(B){this.$d=function(y){var T=y.date,G=y.utc;if(T===null)return new Date(NaN);if(J.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var S=T.match(M);if(S){var O=S[2]-1||0,K=(S[7]||"0").substring(0,3);return G?new Date(Date.UTC(S[1],O,S[3]||1,S[4]||0,S[5]||0,S[6]||0,K)):new Date(S[1],O,S[3]||1,S[4]||0,S[5]||0,S[6]||0,K)}}return new Date(T)}(B),this.init()},m.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},m.$utils=function(){return J},m.isValid=function(){return this.$d.toString()!==H},m.isSame=function(B,y){var T=_(B);return this.startOf(y)<=T&&T<=this.endOf(y)},m.isAfter=function(B,y){return _(B)<this.startOf(y)},m.isBefore=function(B,y){return this.endOf(y)<_(B)},m.$g=function(B,y,T){return J.u(B)?this[y]:this.set(T,B)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(B,y){var T=this,G=!!J.u(y)||y,S=J.p(B),O=function(FA,UA){var RA=J.w(T.$u?Date.UTC(T.$y,UA,FA):new Date(T.$y,UA,FA),T);return G?RA:RA.endOf(c)},K=function(FA,UA){return J.w(T.toDate()[FA].apply(T.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(UA)),T)},Y=this.$W,q=this.$M,j=this.$D,sA="set"+(this.$u?"UTC":"");switch(S){case w:return G?O(1,0):O(31,11);case u:return G?O(1,q):O(0,q+1);case d:var wA=this.$locale().weekStart||0,fA=(Y<wA?Y+7:Y)-wA;return O(G?j-fA:j+(6-fA),q);case c:case Q:return K(sA+"Hours",0);case l:return K(sA+"Minutes",1);case i:return K(sA+"Seconds",2);case r:return K(sA+"Milliseconds",3);default:return this.clone()}},m.endOf=function(B){return this.startOf(B,!1)},m.$set=function(B,y){var T,G=J.p(B),S="set"+(this.$u?"UTC":""),O=(T={},T[c]=S+"Date",T[Q]=S+"Date",T[u]=S+"Month",T[w]=S+"FullYear",T[l]=S+"Hours",T[i]=S+"Minutes",T[r]=S+"Seconds",T[o]=S+"Milliseconds",T)[G],K=G===c?this.$D+(y-this.$W):y;if(G===u||G===w){var Y=this.clone().set(Q,1);Y.$d[O](K),Y.init(),this.$d=Y.set(Q,Math.min(this.$D,Y.daysInMonth())).$d}else O&&this.$d[O](K);return this.init(),this},m.set=function(B,y){return this.clone().$set(B,y)},m.get=function(B){return this[J.p(B)]()},m.add=function(B,y){var T,G=this;B=Number(B);var S=J.p(y),O=function(q){var j=_(G);return J.w(j.date(j.date()+Math.round(q*B)),G)};if(S===u)return this.set(u,this.$M+B);if(S===w)return this.set(w,this.$y+B);if(S===c)return O(1);if(S===d)return O(7);var K=(T={},T[i]=n,T[l]=a,T[r]=t,T)[S]||1,Y=this.$d.getTime()+B*K;return J.w(Y,this)},m.subtract=function(B,y){return this.add(-1*B,y)},m.format=function(B){var y=this,T=this.$locale();if(!this.isValid())return T.invalidDate||H;var G=B||"YYYY-MM-DDTHH:mm:ssZ",S=J.z(this),O=this.$H,K=this.$m,Y=this.$M,q=T.weekdays,j=T.months,sA=T.meridiem,wA=function(UA,RA,SA,OA){return UA&&(UA[RA]||UA(y,G))||SA[RA].slice(0,OA)},fA=function(UA){return J.s(O%12||12,UA,"0")},FA=sA||function(UA,RA,SA){var OA=UA<12?"AM":"PM";return SA?OA.toLowerCase():OA};return G.replace(F,function(UA,RA){return RA||function(SA){switch(SA){case"YY":return String(y.$y).slice(-2);case"YYYY":return J.s(y.$y,4,"0");case"M":return Y+1;case"MM":return J.s(Y+1,2,"0");case"MMM":return wA(T.monthsShort,Y,j,3);case"MMMM":return wA(j,Y);case"D":return y.$D;case"DD":return J.s(y.$D,2,"0");case"d":return String(y.$W);case"dd":return wA(T.weekdaysMin,y.$W,q,2);case"ddd":return wA(T.weekdaysShort,y.$W,q,3);case"dddd":return q[y.$W];case"H":return String(O);case"HH":return J.s(O,2,"0");case"h":return fA(1);case"hh":return fA(2);case"a":return FA(O,K,!0);case"A":return FA(O,K,!1);case"m":return String(K);case"mm":return J.s(K,2,"0");case"s":return String(y.$s);case"ss":return J.s(y.$s,2,"0");case"SSS":return J.s(y.$ms,3,"0");case"Z":return S}return null}(UA)||S.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(B,y,T){var G,S=this,O=J.p(y),K=_(B),Y=(K.utcOffset()-this.utcOffset())*n,q=this-K,j=function(){return J.m(S,K)};switch(O){case w:G=j()/12;break;case u:G=j();break;case b:G=j()/3;break;case d:G=(q-Y)/6048e5;break;case c:G=(q-Y)/864e5;break;case l:G=q/a;break;case i:G=q/n;break;case r:G=q/t;break;default:G=q}return T?G:J.a(G)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return E[this.$L]},m.locale=function(B,y){if(!B)return this.$L;var T=this.clone(),G=N(B,y,!0);return G&&(T.$L=G),T},m.clone=function(){return J.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},$}(),L=z.prototype;return _.prototype=L,[["$ms",o],["$s",r],["$m",i],["$H",l],["$W",c],["$M",u],["$y",w],["$D",Q]].forEach(function($){L[$[1]]=function(m){return this.$g(m,$[0],$[1])}}),_.extend=function($,m){return $.$i||($(m,z,_),$.$i=!0),_},_.locale=N,_.isDayjs=R,_.unix=function($){return _(1e3*$)},_.en=E[k],_.Ls=E,_.p={},_})})(xo);var Po=xo.exports;const Ht=Ot(Po);var Ro={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,o=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,l={},c=function(M){return(M=+M)+(M>68?1900:2e3)},d=function(M){return function(F){this[M]=+F}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(M){(this.zone||(this.zone={})).offset=function(F){if(!F||F==="Z")return 0;var h=F.match(/([+-]|\d\d)/g),V=60*h[1]+(+h[2]||0);return V===0?0:h[0]==="+"?-V:V}(M)}],b=function(M){var F=l[M];return F&&(F.indexOf?F:F.s.concat(F.f))},w=function(M,F){var h,V=l.meridiem;if(V){for(var P=1;P<=24;P+=1)if(M.indexOf(V(P,0,F))>-1){h=P>12;break}}else h=M===(F?"pm":"PM");return h},Q={A:[i,function(M){this.afternoon=w(M,!1)}],a:[i,function(M){this.afternoon=w(M,!0)}],Q:[a,function(M){this.month=3*(M-1)+1}],S:[a,function(M){this.milliseconds=100*+M}],SS:[o,function(M){this.milliseconds=10*+M}],SSS:[/\d{3}/,function(M){this.milliseconds=+M}],s:[r,d("seconds")],ss:[r,d("seconds")],m:[r,d("minutes")],mm:[r,d("minutes")],H:[r,d("hours")],h:[r,d("hours")],HH:[r,d("hours")],hh:[r,d("hours")],D:[r,d("day")],DD:[o,d("day")],Do:[i,function(M){var F=l.ordinal,h=M.match(/\d+/);if(this.day=h[0],F)for(var V=1;V<=31;V+=1)F(V).replace(/\[|\]/g,"")===M&&(this.day=V)}],w:[r,d("week")],ww:[o,d("week")],M:[r,d("month")],MM:[o,d("month")],MMM:[i,function(M){var F=b("months"),h=(b("monthsShort")||F.map(function(V){return V.slice(0,3)})).indexOf(M)+1;if(h<1)throw new Error;this.month=h%12||h}],MMMM:[i,function(M){var F=b("months").indexOf(M)+1;if(F<1)throw new Error;this.month=F%12||F}],Y:[/[+-]?\d+/,d("year")],YY:[o,function(M){this.year=c(M)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};function H(M){var F,h;F=M,h=l&&l.formats;for(var V=(M=F.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,J,z){var L=z&&z.toUpperCase();return J||h[z]||t[z]||h[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,m,B){return m||B.slice(1)})})).match(n),P=V.length,k=0;k<P;k+=1){var E=V[k],D=Q[E],R=D&&D[0],N=D&&D[1];V[k]=N?{regex:R,parser:N}:E.replace(/^\[|\]$/g,"")}return function(_){for(var J={},z=0,L=0;z<P;z+=1){var $=V[z];if(typeof $=="string")L+=$.length;else{var m=$.regex,B=$.parser,y=_.slice(L),T=m.exec(y)[0];B.call(J,T),_=_.replace(T,"")}}return function(G){var S=G.afternoon;if(S!==void 0){var O=G.hours;S?O<12&&(G.hours+=12):O===12&&(G.hours=0),delete G.afternoon}}(J),J}}return function(M,F,h){h.p.customParseFormat=!0,M&&M.parseTwoDigitYear&&(c=M.parseTwoDigitYear);var V=F.prototype,P=V.parse;V.parse=function(k){var E=k.date,D=k.utc,R=k.args;this.$u=D;var N=R[1];if(typeof N=="string"){var _=R[2]===!0,J=R[3]===!0,z=_||J,L=R[2];J&&(L=R[2]),l=this.$locale(),!_&&L&&(l=h.Ls[L]),this.$d=function(y,T,G,S){try{if(["x","X"].indexOf(T)>-1)return new Date((T==="X"?1e3:1)*y);var O=H(T)(y),K=O.year,Y=O.month,q=O.day,j=O.hours,sA=O.minutes,wA=O.seconds,fA=O.milliseconds,FA=O.zone,UA=O.week,RA=new Date,SA=q||(K||Y?1:RA.getDate()),OA=K||RA.getFullYear(),WA=0;K&&!Y||(WA=Y>0?Y-1:RA.getMonth());var YA,xA=j||0,eA=sA||0,x=wA||0,U=fA||0;return FA?new Date(Date.UTC(OA,WA,SA,xA,eA,x,U+60*FA.offset*1e3)):G?new Date(Date.UTC(OA,WA,SA,xA,eA,x,U)):(YA=new Date(OA,WA,SA,xA,eA,x,U),UA&&(YA=S(YA).week(UA).toDate()),YA)}catch{return new Date("")}}(E,N,D,h),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),z&&E!=this.format(N)&&(this.$d=new Date("")),l={}}else if(N instanceof Array)for(var $=N.length,m=1;m<=$;m+=1){R[1]=N[m-1];var B=h.apply(this,R);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}m===$&&(this.$d=new Date(""))}else P.call(this,k)}}})})(Ro);var gc=Ro.exports;const Bc=Ot(gc);var Vo={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){return function(t,n,a){n.prototype.isBetween=function(o,r,i,l){var c=a(o),d=a(r),u=(l=l||"()")[0]==="(",b=l[1]===")";return(u?this.isAfter(c,i):!this.isBefore(c,i))&&(b?this.isBefore(d,i):!this.isAfter(d,i))||(u?this.isBefore(c,i):!this.isAfter(c,i))&&(b?this.isAfter(d,i):!this.isBefore(d,i))}}})})(Vo);var pc=Vo.exports;const mc=Ot(pc);var No={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){var t="week",n="year";return function(a,o,r){var i=o.prototype;i.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=r(this).startOf(n).add(1,n).date(c),u=r(this).endOf(t);if(d.isBefore(u))return 1}var b=r(this).startOf(n).date(c).startOf(t).subtract(1,"millisecond"),w=this.diff(b,t,!0);return w<0?r(this).startOf("week").week():Math.ceil(w)},i.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(No);var hc=No.exports;const wc=Ot(hc);var Go={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){return function(t,n){var a=n.prototype,o=a.format;a.format=function(r){var i=this,l=this.$locale();if(!this.isValid())return o.bind(this)(r);var c=this.$utils(),d=(r||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return l.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return l.ordinal(i.week(),"W");case"w":case"ww":return c.s(i.week(),u==="w"?1:2,"0");case"W":case"WW":return c.s(i.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return c.s(String(i.$H===0?24:i.$H),u==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return u}});return o.bind(this)(d)}}})})(Go);var Cc=Go.exports;const Qc=Ot(Cc);var Wo={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){return function(t,n){n.prototype.weekYear=function(){var a=this.month(),o=this.week(),r=this.year();return o===1&&a===11?r+1:a===0&&o>=52?r-1:r}}})})(Wo);var yc=Wo.exports;const bc=Ot(yc);var Yo={exports:{}};(function(A,e){(function(t,n){A.exports=n()})(It,function(){var t="month",n="quarter";return function(a,o){var r=o.prototype;r.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var i=r.add;r.add=function(c,d){return c=Number(c),this.$utils().p(d)===n?this.add(3*c,t):i.bind(this)(c,d)};var l=r.startOf;r.startOf=function(c,d){var u=this.$utils(),b=!!u.u(d)||d;if(u.p(c)===n){var w=this.quarter()-1;return b?this.month(3*w).startOf(t).startOf("day"):this.month(3*w+2).endOf(t).endOf("day")}return l.bind(this)(c,d)}}})})(Yo);var Fc=Yo.exports;const Uc=Ot(Fc);var _c={exports:{}};(function(A,e){(function(t,n){A.exports=n(Po)})(It,function(t){function n(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var a=n(t),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(r,i){return i==="W"?r+"周":r+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(r,i){var l=100*r+i;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(o,null,!0),o})})(_c);const kc=(A,e,t)=>{t=function(o,r){if(At(o))return o.clone();const i=typeof r=="object"?r:{};return i.date=o,i.args=arguments,new e(i)};const n=e.prototype,a=n.$utils;n.$utils=()=>{const o=a();return o.i=At,o},t.isDayjs=At};Ht.extend(kc);Ht.extend(Bc);Ht.extend(mc);Ht.extend(wc);Ht.extend(Qc);Ht.extend(bc);Ht.extend(Uc);const Ee=Ht,Ge={add(A,e,t){return A.add(e,t)},subtract(A,e,t){return A.subtract(e,t)},startOf(A,e){return A.startOf(e)},startOfWeek(A,e){const t=A.day();let n=A.subtract(t-e,"day");return n.isAfter(A)&&(n=n.subtract(7,"day")),n},endOf(A,e){return A.endOf(e)},set(A,e,t){return A.set(e,t)},isSameWeek(A,e,t){const n=a=>{const o=a.day(),r=o-t+(o<t?7:0);return a.subtract(r,"day").week()};return n(A)===n(e)}};function xe(){return Ee()}function fs(A){return[...A].sort((e,t)=>e.valueOf()-t.valueOf())}function zo(A,e){const t=(n,a)=>n===void 0&&a===void 0?!1:n&&!a||!n&&a?!0:(n==null?void 0:n.valueOf())!==(a==null?void 0:a.valueOf());return e===void 0&&A===void 0?!1:Fe(e)&&Fe(A)?t(e[0],A[0])||t(e[1],A[1]):!Fe(e)&&!Fe(A)?t(e,A):!0}function ut(A,e){const t=a=>{const o=/(Q1)|(Q2)|(Q3)|(Q4)/,r={Q1:"01",Q2:"04",Q3:"07",Q4:"10"},[i]=o.exec(a);return a.replace(o,r[i])},n=a=>{if(a){if(typeof a=="string"){if(Oi(e))return Ee(t(a),e.replace(/\[Q]Q/,"MM"));if(Ee(a,e).isValid())return Ee(a,e)}return Ee(a)}};return Fe(A)?A.map(n):n(A)}function We(A){const e=t=>t?t.toDate():void 0;return Fe(A)?A.map(e):e(A)}function Xo(A,e){Ee.locale({...Ee.Ls[A.toLocaleLowerCase()],weekStart:e})}function gn(A,e,t=" "){const n=String(A),a=n.length<e?`${t}${n}`:n;return a.length<e?gn(a,e,t):a}function Ic(A,e,t){return I(()=>!!(A[t]||e[t]))}function Hc(A){const{modelValue:e,defaultValue:t,format:n}=ne(A),a=I(()=>ut(e.value,n.value)),o=I(()=>ut(t.value,n.value)),[r,i]=yt(Se(a.value)?Se(o.value)?void 0:o.value:a.value);return jA(a,()=>{Se(a.value)&&i(void 0)}),{value:I(()=>a.value||r.value),setValue:i}}const Ec=XA({name:"DateInput",components:{IconHover:Eo,IconClose:Ho,FeedbackIcon:Io},props:{size:{type:String},focused:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},error:{type:Boolean},allowClear:{type:Boolean},placeholder:{type:String},inputValue:{type:String},value:{type:Object},format:{type:[String,Function],required:!0}},emits:["clear","press-enter","change","blur"],setup(A,{emit:e,slots:t}){const{error:n,focused:a,disabled:o,size:r,value:i,format:l,inputValue:c}=ne(A),{mergedSize:d,mergedDisabled:u,mergedError:b,feedback:w}=_s({size:r,disabled:o,error:n}),{mergedSize:Q}=So(d),H=we("picker"),M=I(()=>[H,`${H}-size-${Q.value}`,{[`${H}-focused`]:a.value,[`${H}-disabled`]:u.value,[`${H}-error`]:b.value,[`${H}-has-prefix`]:t.prefix}]),F=I(()=>{if(c!=null&&c.value)return c==null?void 0:c.value;if(i!=null&&i.value&&At(i.value))return He(l.value)?l.value(i.value):i.value.format(l.value)}),h=W();return{feedback:w,prefixCls:H,classNames:M,displayValue:F,mergedDisabled:u,refInput:h,onPressEnter(){e("press-enter")},onChange(V){e("change",V)},onClear(V){e("clear",V)},onBlur(V){e("blur",V)}}},methods:{focus(){this.refInput&&this.refInput.focus&&this.refInput.focus()},blur(){this.refInput&&this.refInput.blur&&this.refInput.blur()}}}),Sc=["disabled","placeholder","value"];function Tc(A,e,t,n,a,o){const r=Z("IconClose"),i=Z("IconHover"),l=Z("FeedbackIcon");return v(),g("div",{class:iA(A.classNames)},[A.$slots.prefix?(v(),g("div",{key:0,class:iA(`${A.prefixCls}-prefix`)},[ie(A.$slots,"prefix")],2)):tA("v-if",!0),s("div",{class:iA(`${A.prefixCls}-input`)},[s("input",GA({ref:"refInput",disabled:A.mergedDisabled,placeholder:A.placeholder,class:`${A.prefixCls}-start-time`,value:A.displayValue},A.readonly?{readonly:!0}:{},{onKeydown:e[0]||(e[0]=rn((...c)=>A.onPressEnter&&A.onPressEnter(...c),["enter"])),onInput:e[1]||(e[1]=(...c)=>A.onChange&&A.onChange(...c)),onBlur:e[2]||(e[2]=(...c)=>A.onBlur&&A.onBlur(...c))}),null,16,Sc)],2),s("div",{class:iA(`${A.prefixCls}-suffix`)},[A.allowClear&&!A.mergedDisabled&&A.displayValue?(v(),pA(i,{key:0,prefix:A.prefixCls,class:iA(`${A.prefixCls}-clear-icon`),onClick:A.onClear},{default:C(()=>[p(r)]),_:1},8,["prefix","class","onClick"])):tA("v-if",!0),s("span",{class:iA(`${A.prefixCls}-suffix-icon`)},[ie(A.$slots,"suffix-icon")],2),A.feedback?(v(),pA(l,{key:1,type:A.feedback},null,8,["type"])):tA("v-if",!0)],2)],2)}var $c=ue(Ec,[["render",Tc]]);function ba(A){const e=["H","h","m","s","a","A"],t=[];let n=!1;return e.forEach(a=>{A.indexOf(a)!==-1&&(t.push(a),(a==="a"||a==="A")&&(n=!0))}),{list:t,use12Hours:n}}const wr=new Map;function Dc(A,e,t){const n=wr.get(A);Se(n)||cancelAnimationFrame(n),t<=0&&(A.scrollTop=e),wr.set(A,requestAnimationFrame(()=>{new Is({from:{scrollTop:A.scrollTop},to:{scrollTop:e},duration:t,onUpdate:o=>{A.scrollTop=o.scrollTop}}).start()}))}function $t(A,e){const t=n=>{if(Fe(n))return n.map(a=>t(a));if(!Se(n))return n.format(e)};return t(A)}function Jo(A,e){return A?typeof A=="string"&&Ee(A,e).format(e)===A:!1}function Lc(A,{disabledHours:e,disabledMinutes:t,disabledSeconds:n}){if(!A)return!1;const a=A.hour(),o=A.minute(),r=A.second(),i=(e==null?void 0:e())||[],l=(t==null?void 0:t(a))||[],c=(n==null?void 0:n(a,o))||[],d=(u,b)=>!Se(u)&&b.includes(u);return d(a,i)||d(o,l)||d(r,c)}const qo=Symbol("PickerInjectionKey");function Tn(){const{datePickerT:A}=Uo(qo)||{};return A||((e,...t)=>e)}const Mc=XA({name:"PanelShortcuts",components:{Button:Ke,RenderFunction:Hn},props:{prefixCls:{type:String,required:!0},shortcuts:{type:Array,default:()=>[]},showNowBtn:{type:Boolean}},emits:["item-click","item-mouse-enter","item-mouse-leave","now-click"],setup(A,{emit:e}){return{datePickerT:Tn(),onItemClick:n=>{e("item-click",n)},onItemMouseEnter:n=>{e("item-mouse-enter",n)},onItemMouseLeave:n=>{e("item-mouse-leave",n)},onNowClick:()=>{e("now-click")},isFunction:He}}});function Kc(A,e,t,n,a,o){const r=Z("Button"),i=Z("RenderFunction");return v(),g("div",{class:iA(`${A.prefixCls}-shortcuts`)},[A.showNowBtn?(v(),pA(r,{key:0,size:"mini",onClick:e[0]||(e[0]=()=>A.onNowClick())},{default:C(()=>[X(f(A.datePickerT("datePicker.now")),1)]),_:1})):tA("v-if",!0),(v(!0),g(vA,null,yA(A.shortcuts,(l,c)=>(v(),pA(r,{key:c,size:"mini",onClick:()=>A.onItemClick(l),onMouseenter:()=>A.onItemMouseEnter(l),onMouseleave:()=>A.onItemMouseLeave(l)},{default:C(()=>[A.isFunction(l.label)?(v(),pA(i,{key:0,"render-func":l.label},null,8,["render-func"])):(v(),g(vA,{key:1},[X(f(l.label),1)],64))]),_:2},1032,["onClick","onMouseenter","onMouseleave"]))),128))],2)}var jo=ue(Mc,[["render",Kc]]);function qt(A){return[...Array(A)]}function Fa(A){if(!Se(A))return Fe(A)?A:[A,void 0]}function gt(A){return!!A&&At(A[0])&&At(A[1])}function Oc(A){return Se(A)||A.length===0||gt(A)}function Zo(A,e,t){const n=e||A;return(t||A).set("year",n.year()).set("month",n.month()).set("date",n.date())}const xc=XA({name:"IconDoubleLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:A=>["butt","round","square"].includes(A)},strokeLinejoin:{type:String,default:"miter",validator:A=>["arcs","bevel","miter","miter-clip","round"].includes(A)},rotate:Number,spin:Boolean},emits:{click:A=>!0},setup(A,{emit:e}){const t=we("icon"),n=I(()=>[t,`${t}-double-left`,{[`${t}-spin`]:A.spin}]),a=I(()=>{const r={};return A.size&&(r.fontSize=Zt(A.size)?`${A.size}px`:A.size),A.rotate&&(r.transform=`rotate(${A.rotate}deg)`),r});return{cls:n,innerStyle:a,onClick:r=>{e("click",r)}}}}),Pc=["stroke-width","stroke-linecap","stroke-linejoin"];function Rc(A,e,t,n,a,o){return v(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:iA(A.cls),style:lt(A.innerStyle),"stroke-width":A.strokeWidth,"stroke-linecap":A.strokeLinecap,"stroke-linejoin":A.strokeLinejoin,onClick:e[0]||(e[0]=(...r)=>A.onClick&&A.onClick(...r))},e[1]||(e[1]=[s("path",{d:"M36.857 9.9 22.715 24.042l14.142 14.142M25.544 9.9 11.402 24.042l14.142 14.142"},null,-1)]),14,Pc)}var Rs=ue(xc,[["render",Rc]]);const Vc=Object.assign(Rs,{install:(A,e)=>{var t;const n=(t=e==null?void 0:e.iconPrefix)!=null?t:"";A.component(n+Rs.name,Rs)}}),Nc=XA({name:"IconDoubleRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:A=>["butt","round","square"].includes(A)},strokeLinejoin:{type:String,default:"miter",validator:A=>["arcs","bevel","miter","miter-clip","round"].includes(A)},rotate:Number,spin:Boolean},emits:{click:A=>!0},setup(A,{emit:e}){const t=we("icon"),n=I(()=>[t,`${t}-double-right`,{[`${t}-spin`]:A.spin}]),a=I(()=>{const r={};return A.size&&(r.fontSize=Zt(A.size)?`${A.size}px`:A.size),A.rotate&&(r.transform=`rotate(${A.rotate}deg)`),r});return{cls:n,innerStyle:a,onClick:r=>{e("click",r)}}}}),Gc=["stroke-width","stroke-linecap","stroke-linejoin"];function Wc(A,e,t,n,a,o){return v(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:iA(A.cls),style:lt(A.innerStyle),"stroke-width":A.strokeWidth,"stroke-linecap":A.strokeLinecap,"stroke-linejoin":A.strokeLinejoin,onClick:e[0]||(e[0]=(...r)=>A.onClick&&A.onClick(...r))},e[1]||(e[1]=[s("path",{d:"m11.143 38.1 14.142-14.142L11.143 9.816M22.456 38.1l14.142-14.142L22.456 9.816"},null,-1)]),14,Gc)}var Vs=ue(Nc,[["render",Wc]]);const Yc=Object.assign(Vs,{install:(A,e)=>{var t;const n=(t=e==null?void 0:e.iconPrefix)!=null?t:"";A.component(n+Vs.name,Vs)}}),zc=XA({name:"PanelHeader",components:{IconLeft:Vi,IconRight:Ri,IconDoubleLeft:Vc,IconDoubleRight:Yc,RenderFunction:Hn},props:{prefixCls:{type:String,required:!0},title:{type:String,required:!0},mode:{type:String,default:"date"},value:{type:Object},icons:{type:Object},onPrev:{type:Function},onSuperPrev:{type:Function},onNext:{type:Function},onSuperNext:{type:Function},onLabelClick:{type:Function}},emits:["label-click"],setup(A){return{showPrev:I(()=>He(A.onPrev)),showSuperPrev:I(()=>He(A.onSuperPrev)),showNext:I(()=>He(A.onNext)),showSuperNext:I(()=>He(A.onSuperNext)),year:I(()=>["date","quarter","month","week"].includes(A.mode)&&A.value?A.value.format("YYYY"):""),month:I(()=>["date","week"].includes(A.mode)&&A.value?A.value.format("MM"):""),getIconClassName:e=>[`${A.prefixCls}-header-icon`,{[`${A.prefixCls}-header-icon-hidden`]:!e}]}}}),Xc={key:1};function Jc(A,e,t,n,a,o){const r=Z("RenderFunction"),i=Z("IconDoubleLeft"),l=Z("IconLeft"),c=Z("IconRight"),d=Z("IconDoubleRight");return v(),g("div",{class:iA(`${A.prefixCls}-header`)},[s("div",{class:iA(A.getIconClassName(A.showSuperPrev)),onClick:e[0]||(e[0]=(...u)=>A.onSuperPrev&&A.onSuperPrev(...u))},[A.showSuperPrev?(v(),g(vA,{key:0},[A.icons&&A.icons.prevDouble?(v(),pA(r,{key:0,"render-func":A.icons&&A.icons.prevDouble},null,8,["render-func"])):(v(),pA(i,{key:1}))],64)):tA("v-if",!0)],2),s("div",{class:iA(A.getIconClassName(A.showPrev)),onClick:e[1]||(e[1]=(...u)=>A.onPrev&&A.onPrev(...u))},[A.showPrev?(v(),g(vA,{key:0},[A.icons&&A.icons.prev?(v(),pA(r,{key:0,"render-func":A.icons&&A.icons.prev},null,8,["render-func"])):(v(),pA(l,{key:1}))],64)):tA("v-if",!0)],2),s("div",{class:iA(`${A.prefixCls}-header-title`)},[A.onLabelClick&&(A.year||A.month)?(v(),g(vA,{key:0},[A.year?(v(),g("span",{key:0,class:iA(`${A.prefixCls}-header-label`),onClick:e[2]||(e[2]=()=>A.onLabelClick&&A.onLabelClick("year"))},f(A.year),3)):tA("v-if",!0),A.year&&A.month?(v(),g("span",Xc,"-")):tA("v-if",!0),A.month?(v(),g("span",{key:2,class:iA(`${A.prefixCls}-header-label`),onClick:e[3]||(e[3]=()=>A.onLabelClick&&A.onLabelClick("month"))},f(A.month),3)):tA("v-if",!0)],64)):(v(),g(vA,{key:1},[X(f(A.title),1)],64))],2),s("div",{class:iA(A.getIconClassName(A.showNext)),onClick:e[4]||(e[4]=(...u)=>A.onNext&&A.onNext(...u))},[A.showNext?(v(),g(vA,{key:0},[A.icons&&A.icons.next?(v(),pA(r,{key:0,"render-func":A.icons&&A.icons.next},null,8,["render-func"])):(v(),pA(c,{key:1}))],64)):tA("v-if",!0)],2),s("div",{class:iA(A.getIconClassName(A.showSuperNext)),onClick:e[5]||(e[5]=(...u)=>A.onSuperNext&&A.onSuperNext(...u))},[A.showSuperNext?(v(),g(vA,{key:0},[A.icons&&A.icons.nextDouble?(v(),pA(r,{key:0,"render-func":A.icons&&A.icons.nextDouble},null,8,["render-func"])):(v(),pA(d,{key:1}))],64)):tA("v-if",!0)],2)],2)}var Hs=ue(zc,[["render",Jc]]);function qc(A){const{rangeValues:e}=ne(A),t=I(()=>e!=null&&e.value&&e.value.every(At)?fs(e.value):e==null?void 0:e.value),n=I(()=>{var o;return(o=t.value)==null?void 0:o[0]}),a=I(()=>{var o;return(o=t.value)==null?void 0:o[1]});return{getCellClassName:(o,r)=>{const{value:i,isSameTime:l,mode:c,prefixCls:d}=A,u=!o.isPrev&&!o.isNext,b=i&&l(o.value,i);let w=l(o.value,xe());c==="week"&&(w=xe().isSame(o.value,"date"));const Q=u&&n.value&&l(o.value,n.value),H=u&&a.value&&l(o.value,a.value),M=u&&n.value&&a.value&&(Q||H||o.value.isBetween(n.value,a.value,null,"[]"));return[`${d}-cell`,{[`${d}-cell-in-view`]:u,[`${d}-cell-today`]:w,[`${d}-cell-selected`]:b,[`${d}-cell-range-start`]:Q,[`${d}-cell-range-end`]:H,[`${d}-cell-in-range`]:M,[`${d}-cell-disabled`]:r},o.classNames]}}}const jc=XA({name:"PanelBody",components:{RenderFunction:Hn},props:{prefixCls:{type:String,required:!0},rows:{type:Array,default:()=>[]},value:{type:Object},disabledDate:{type:Function},isSameTime:{type:Function,required:!0},mode:{type:String},rangeValues:{type:Array},dateRender:{type:Function}},emits:["cell-click","cell-mouse-enter"],setup(A,{emit:e}){const{prefixCls:t,value:n,disabledDate:a,isSameTime:o,mode:r,rangeValues:i}=ne(A),{getCellClassName:l}=qc(zA({prefixCls:t,value:n,isSameTime:o,mode:r,rangeValues:i})),c=d=>!!(He(a==null?void 0:a.value)&&(a!=null&&a.value(We(d.value))));return{isWeek:I(()=>(r==null?void 0:r.value)==="week"),getCellClassName:d=>{const u=c(d);return l(d,u)},onCellClick:d=>{c(d)||e("cell-click",d)},onCellMouseEnter:d=>{c(d)||e("cell-mouse-enter",d)},onCellMouseLeave:d=>{c(d)||e("cell-mouse-enter",d)},getDateValue:We}}}),Zc=["onMouseenter","onMouseleave","onClick"];function Ad(A,e,t,n,a,o){const r=Z("RenderFunction");return v(),g("div",{class:iA(`${A.prefixCls}-body`)},[(v(!0),g(vA,null,yA(A.rows,(i,l)=>(v(),g("div",{key:l,class:iA([`${A.prefixCls}-row`,{[`${A.prefixCls}-row-week`]:A.isWeek}])},[(v(!0),g(vA,null,yA(i,(c,d)=>(v(),g(vA,null,[tA(" 一年中的第几周，只在 week 模式下显示 "),A.isWeek&&d===0?(v(),g("div",{key:d,class:iA([`${A.prefixCls}-cell`,`${A.prefixCls}-cell-week`])},[s("div",{class:iA(`${A.prefixCls}-date`)},[s("div",{class:iA(`${A.prefixCls}-date-value`)},f(c.label),3)],2)],2)):(v(),g("div",{key:d,class:iA(A.getCellClassName(c)),onMouseenter:()=>{A.onCellMouseEnter(c)},onMouseleave:()=>{A.onCellMouseLeave(c)},onClick:()=>{A.onCellClick(c)}},[A.dateRender?(v(),pA(r,{key:0,"render-func":A.dateRender,date:A.getDateValue(c.value)},null,8,["render-func","date"])):(v(),g("div",{key:1,class:iA(`${A.prefixCls}-date`)},[s("div",{class:iA(`${A.prefixCls}-date-value`)},f(c.label),3)],2))],42,Zc))],64))),256))],2))),128))],2)}var Es=ue(jc,[["render",Ad]]);const ed=XA({name:"PanelWeekList",props:{prefixCls:{type:String,required:!0},weekList:{type:Array,required:!0}},setup(){const A=Tn();return{labelList:I(()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map(t=>A(`datePicker.week.short.${t}`)))}}});function td(A,e,t,n,a,o){return v(),g("div",{class:iA(`${A.prefixCls}-week-list`)},[(v(!0),g(vA,null,yA(A.weekList,r=>(v(),g("div",{key:r,class:iA(`${A.prefixCls}-week-list-item`)},f(A.labelList[r]||""),3))),128))],2)}var nd=ue(ed,[["render",td]]);const sd=XA({name:"TimePickerColumn",props:{prefixCls:{type:String,required:!0},list:{type:Array,required:!0},value:{type:[Number,String]},visible:{type:Boolean}},emits:["select"],setup(A,{emit:e}){const{visible:t,value:n}=ne(A),a=W(new Map),o=W();function r(i=!1){if(!o.value||Se(n==null?void 0:n.value)||!(t!=null&&t.value))return;const l=a.value.get(n.value);l&&Dc(o.value,l.offsetTop,i?100:0)}return jA([n,t],(i,[,l])=>{t.value!==l?Us(()=>{r()}):r(!0)}),ae(()=>{r()}),{refWrapper:o,refMap:a,onItemRef(i,l){a.value.set(l.value,i)},onItemClick(i){i.disabled||e("select",i.value)}}}}),ad=["onClick"];function rd(A,e,t,n,a,o){return v(),g("div",{ref:"refWrapper",class:iA(`${A.prefixCls}-column`)},[s("ul",null,[(v(!0),g(vA,null,yA(A.list,r=>(v(),g("li",{key:r.value,ref_for:!0,ref:i=>{A.onItemRef(i,r)},class:iA([`${A.prefixCls}-cell`,{[`${A.prefixCls}-cell-disabled`]:r.disabled,[`${A.prefixCls}-cell-selected`]:r.selected}]),onClick:()=>{A.onItemClick(r)}},[s("div",{class:iA(`${A.prefixCls}-cell-inner`)},f(r.label),3)],10,ad))),128))])],2)}var od=ue(sd,[["render",rd]]);function ld(A){const{format:e,step:t,use12Hours:n,hideDisabledOptions:a,disabledHours:o,disabledMinutes:r,disabledSeconds:i,selectedHour:l,selectedMinute:c,selectedSecond:d,selectedAmpm:u,disabled:b}=ne(A),w=I(()=>{var h;const{hour:V=1}=(t==null?void 0:t.value)||{},P=((h=o==null?void 0:o.value)==null?void 0:h.call(o))||[];let k=[];for(let E=0;E<(n.value?12:24);E+=V)k.push(E);return n.value&&(k[0]=12),a.value&&P.length&&(k=k.filter(E=>P.indexOf(E)<0)),k.map(E=>({label:gn(E,2,"0"),value:E,selected:l.value===E,disabled:(b==null?void 0:b.value)||P.includes(E)}))}),Q=I(()=>{var h;const{minute:V=1}=(t==null?void 0:t.value)||{},P=((h=r==null?void 0:r.value)==null?void 0:h.call(r,l.value))||[];let k=[];for(let E=0;E<60;E+=V)k.push(E);return a.value&&P.length&&(k=k.filter(E=>P.indexOf(E)<0)),k.map(E=>({label:gn(E,2,"0"),value:E,selected:c.value===E,disabled:(b==null?void 0:b.value)||P.includes(E)}))}),H=I(()=>{var h;const{second:V=1}=(t==null?void 0:t.value)||{},P=((h=i==null?void 0:i.value)==null?void 0:h.call(i,l.value,c.value))||[];let k=[];for(let E=0;E<60;E+=V)k.push(E);return a.value&&P.length&&(k=k.filter(E=>P.indexOf(E)<0)),k.map(E=>({label:gn(E,2,"0"),value:E,selected:d.value===E,disabled:(b==null?void 0:b.value)||P.includes(E)}))}),M=["am","pm"],F=I(()=>{const h=ba(e.value).list.includes("A");return M.map(V=>({label:h?V.toUpperCase():V,value:V,selected:u.value===V,disabled:b==null?void 0:b.value}))});return{hours:w,minutes:Q,seconds:H,ampmList:F}}function Al(A){const{format:e,use12Hours:t,defaultFormat:n}=ne(A),a=I(()=>{let c=(e==null?void 0:e.value)||(n==null?void 0:n.value);return(!c||!ba(c).list.length)&&(c=t!=null&&t.value?"hh:mm:ss a":"HH:mm:ss"),c}),o=I(()=>ba(a.value)),r=I(()=>o.value.list),i=I(()=>o.value.use12Hours),l=I(()=>!!(t!=null&&t.value||i.value));return{columns:r,use12Hours:l,format:a}}function id(A){const e=t=>Lc(t,{disabledHours:A.disabledHours,disabledMinutes:A.disabledMinutes,disabledSeconds:A.disabledSeconds});return t=>Fe(t)?t.some(n=>e(n)):e(t)}const ud=XA({name:"TimePickerPanel",components:{TimeColumn:od,Button:Ke},props:{value:{type:Object},visible:{type:Boolean},format:{type:String,default:"HH:mm:ss"},use12Hours:{type:Boolean},step:{type:Object},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},hideDisabledOptions:{type:Boolean},hideFooter:{type:Boolean},isRange:{type:Boolean},disabled:{type:Boolean}},emits:{select:A=>At(A),confirm:A=>At(A)},setup(A,{emit:e}){const{value:t,visible:n,format:a,step:o,use12Hours:r,hideDisabledOptions:i,disabledHours:l,disabledMinutes:c,disabledSeconds:d,disabled:u}=ne(A),b=we("timepicker"),{t:w}=In(),{columns:Q,use12Hours:H,format:M}=Al(zA({format:a,use12Hours:r})),F=W(t==null?void 0:t.value),h=B=>{F.value=B};jA([n,t],()=>{n.value&&h(t==null?void 0:t.value)});const V=I(()=>{var B;const y=(B=F.value)==null?void 0:B.hour();return Se(y)||!H.value?y:y>12?y-12:y===0?12:y}),P=I(()=>{var B;return(B=F.value)==null?void 0:B.minute()}),k=I(()=>{var B;return(B=F.value)==null?void 0:B.second()}),E=I(()=>{var B;const y=(B=F.value)==null?void 0:B.hour();return!Se(y)&&y>=12?"pm":"am"}),{hours:D,minutes:R,seconds:N,ampmList:_}=ld(zA({format:M,step:o,use12Hours:H,hideDisabledOptions:i,disabledHours:l,disabledMinutes:c,disabledSeconds:d,selectedHour:V,selectedMinute:P,selectedSecond:k,selectedAmpm:E,disabled:u})),J=id(zA({disabledHours:l,disabledMinutes:c,disabledSeconds:d})),z=I(()=>J(F.value));function L(B){Se(B)||e("confirm",B)}function $(B){h(B),e("select",B)}function m(B,y="hour"){let T;const G=V.value||"00",S=P.value||"00",O=k.value||"00",K=E.value||"am";switch(y){case"hour":T=`${B}:${S}:${O}`;break;case"minute":T=`${G}:${B}:${O}`;break;case"second":T=`${G}:${S}:${B}`;break;case"ampm":T=`${G}:${S}:${O} ${B}`;break;default:T="00:00:00"}let Y="HH:mm:ss";H.value&&(Y="HH:mm:ss a",y!=="ampm"&&(T=`${T} ${K}`)),T=Ee(T,Y),$(T)}return{prefixCls:b,t:w,hours:D,minutes:R,seconds:N,ampmList:_,selectedValue:F,selectedHour:V,selectedMinute:P,selectedSecond:k,selectedAmpm:E,computedUse12Hours:H,confirmBtnDisabled:z,columns:Q,onSelect:m,onSelectNow(){const B=Ee(new Date);$(B)},onConfirm(){L(F.value)}}}});function cd(A,e,t,n,a,o){const r=Z("TimeColumn"),i=Z("Button");return v(),g(vA,null,[s("div",{class:iA(A.prefixCls)},[A.columns.includes("H")||A.columns.includes("h")?(v(),pA(r,{key:0,value:A.selectedHour,list:A.hours,"prefix-cls":A.prefixCls,visible:A.visible,onSelect:e[0]||(e[0]=l=>{A.onSelect(l,"hour")})},null,8,["value","list","prefix-cls","visible"])):tA("v-if",!0),A.columns.includes("m")?(v(),pA(r,{key:1,value:A.selectedMinute,list:A.minutes,"prefix-cls":A.prefixCls,visible:A.visible,onSelect:e[1]||(e[1]=l=>{A.onSelect(l,"minute")})},null,8,["value","list","prefix-cls","visible"])):tA("v-if",!0),A.columns.includes("s")?(v(),pA(r,{key:2,value:A.selectedSecond,list:A.seconds,"prefix-cls":A.prefixCls,visible:A.visible,onSelect:e[2]||(e[2]=l=>{A.onSelect(l,"second")})},null,8,["value","list","prefix-cls","visible"])):tA("v-if",!0),A.computedUse12Hours?(v(),pA(r,{key:3,value:A.selectedAmpm,list:A.ampmList,"prefix-cls":A.prefixCls,visible:A.visible,onSelect:e[3]||(e[3]=l=>{A.onSelect(l,"ampm")})},null,8,["value","list","prefix-cls","visible"])):tA("v-if",!0)],2),A.$slots["extra-footer"]?(v(),g("div",{key:0,class:iA(`${A.prefixCls}-footer-extra-wrapper`)},[ie(A.$slots,"extra-footer")],2)):tA("v-if",!0),A.hideFooter?tA("v-if",!0):(v(),g("div",{key:1,class:iA(`${A.prefixCls}-footer-btn-wrapper`)},[A.isRange?tA("v-if",!0):(v(),pA(i,{key:0,size:"mini",onClick:A.onSelectNow},{default:C(()=>[X(f(A.t("datePicker.now")),1)]),_:1},8,["onClick"])),p(i,{type:"primary",size:"mini",disabled:A.confirmBtnDisabled||!A.selectedValue,onClick:A.onConfirm},{default:C(()=>[X(f(A.t("datePicker.ok")),1)]),_:1},8,["disabled","onClick"])],2))],64)}var dd=ue(ud,[["render",cd]]);const vd=XA({name:"IconCalendar",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:A=>["butt","round","square"].includes(A)},strokeLinejoin:{type:String,default:"miter",validator:A=>["arcs","bevel","miter","miter-clip","round"].includes(A)},rotate:Number,spin:Boolean},emits:{click:A=>!0},setup(A,{emit:e}){const t=we("icon"),n=I(()=>[t,`${t}-calendar`,{[`${t}-spin`]:A.spin}]),a=I(()=>{const r={};return A.size&&(r.fontSize=Zt(A.size)?`${A.size}px`:A.size),A.rotate&&(r.transform=`rotate(${A.rotate}deg)`),r});return{cls:n,innerStyle:a,onClick:r=>{e("click",r)}}}}),fd=["stroke-width","stroke-linecap","stroke-linejoin"];function gd(A,e,t,n,a,o){return v(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:iA(A.cls),style:lt(A.innerStyle),"stroke-width":A.strokeWidth,"stroke-linecap":A.strokeLinecap,"stroke-linejoin":A.strokeLinejoin,onClick:e[0]||(e[0]=(...r)=>A.onClick&&A.onClick(...r))},e[1]||(e[1]=[s("path",{d:"M7 22h34M14 5v8m20-8v8M8 41h32a1 1 0 0 0 1-1V10a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v30a1 1 0 0 0 1 1Z"},null,-1)]),14,fd)}var Ns=ue(vd,[["render",gd]]);const nr=Object.assign(Ns,{install:(A,e)=>{var t;const n=(t=e==null?void 0:e.iconPrefix)!=null?t:"";A.component(n+Ns.name,Ns)}}),Bd=XA({name:"IconClockCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:A=>["butt","round","square"].includes(A)},strokeLinejoin:{type:String,default:"miter",validator:A=>["arcs","bevel","miter","miter-clip","round"].includes(A)},rotate:Number,spin:Boolean},emits:{click:A=>!0},setup(A,{emit:e}){const t=we("icon"),n=I(()=>[t,`${t}-clock-circle`,{[`${t}-spin`]:A.spin}]),a=I(()=>{const r={};return A.size&&(r.fontSize=Zt(A.size)?`${A.size}px`:A.size),A.rotate&&(r.transform=`rotate(${A.rotate}deg)`),r});return{cls:n,innerStyle:a,onClick:r=>{e("click",r)}}}}),pd=["stroke-width","stroke-linecap","stroke-linejoin"];function md(A,e,t,n,a,o){return v(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:iA(A.cls),style:lt(A.innerStyle),"stroke-width":A.strokeWidth,"stroke-linecap":A.strokeLinecap,"stroke-linejoin":A.strokeLinejoin,onClick:e[0]||(e[0]=(...r)=>A.onClick&&A.onClick(...r))},e[1]||(e[1]=[s("path",{d:"M24 14v10h9.5m8.5 0c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1)]),14,pd)}var Gs=ue(Bd,[["render",md]]);const hd=Object.assign(Gs,{install:(A,e)=>{var t;const n=(t=e==null?void 0:e.iconPrefix)!=null?t:"";A.component(n+Gs.name,Gs)}}),el=6,Ua=7,wd=el*Ua;function Cd(A){return{label:A.date(),value:A}}const Qd=XA({name:"DatePanel",components:{PanelHeader:Hs,PanelBody:Es,PanelWeekList:nd,TimePanel:dd,IconCalendar:nr,IconClockCircle:hd},props:{isRange:{type:Boolean},value:{type:Object},rangeValues:{type:Array},headerValue:{type:Object,required:!0},footerValue:{type:Object},timePickerValue:{type:Object},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},dayStartOfWeek:{type:Number,default:0},disabledDate:{type:Function},disabledTime:{type:Function},isSameTime:{type:Function},mode:{type:String,default:"date"},showTime:{type:Boolean},timePickerProps:{type:Object},currentView:{type:String},dateRender:{type:Function},disabled:{type:Boolean},onHeaderLabelClick:{type:Function}},emits:["select","time-picker-select","cell-mouse-enter","current-view-change","update:currentView"],setup(A,{emit:e}){const{isRange:t,headerValue:n,footerValue:a,dayStartOfWeek:o,isSameTime:r,mode:i,showTime:l,currentView:c,disabledTime:d}=ne(A),u=Tn(),b=I(()=>(i==null?void 0:i.value)==="week"),w=I(()=>we(b.value?"panel-week":"panel-date")),Q=we("picker"),[H,M]=Ar("date",zA({value:c})),F=I(()=>l.value&&t.value),h=I(()=>!l.value||!F.value||H.value==="date"),V=I(()=>l.value&&(!F.value||H.value==="time")),P=I(()=>[w.value,{[`${w.value}-with-view-tabs`]:F.value}]),k=I(()=>n.value.format("YYYY-MM")),E=I(()=>{var L;return l.value&&((L=d==null?void 0:d.value)==null?void 0:L.call(d,We((a==null?void 0:a.value)||xe())))||{}}),D=I(()=>{const L=[0,1,2,3,4,5,6],$=Math.max(o.value%7,0);return[...L.slice($),...L.slice(0,$)]}),R=I(()=>{const L=Ge.startOf(n.value,"month"),$=L.day(),m=L.daysInMonth(),B=D.value.indexOf($),y=qt(wd);for(let G=0;G<y.length;G++)y[G]={...Cd(Ge.add(L,G-B,"day")),isPrev:G<B,isNext:G>B+m-1};return qt(el).map((G,S)=>{const O=y.slice(S*Ua,(S+1)*Ua);if(b.value){const K=O[0].value;O.unshift({label:K.week(),value:K})}return O})}),N=I(()=>(r==null?void 0:r.value)||((L,$)=>L.isSame($,"day")));function _(L){e("select",L.value)}function J(L){e("time-picker-select",L)}function z(L){e("cell-mouse-enter",L.value)}return{prefixCls:w,classNames:P,pickerPrefixCls:Q,headerTitle:k,rows:R,weekList:I(()=>b.value?[-1,...D.value]:D.value),mergedIsSameTime:N,disabledTimeProps:E,onCellClick:_,onCellMouseEnter:z,onTimePanelSelect:J,showViewTabs:F,showDateView:h,showTimeView:V,changeViewTo:L=>{e("current-view-change",L),e("update:currentView",L),M(L)},datePickerT:u}}});function yd(A,e,t,n,a,o){const r=Z("PanelHeader"),i=Z("PanelWeekList"),l=Z("PanelBody"),c=Z("TimePanel"),d=Z("IconCalendar"),u=Z("IconClockCircle");return v(),g("div",{class:iA(A.classNames)},[A.showDateView?(v(),g("div",{key:0,class:iA(`${A.prefixCls}-inner`)},[p(r,GA({...A.headerOperations,icons:A.headerIcons},{"prefix-cls":A.pickerPrefixCls,title:A.headerTitle,mode:A.mode,value:A.headerValue,"on-label-click":A.onHeaderLabelClick}),null,16,["prefix-cls","title","mode","value","on-label-click"]),p(i,{"prefix-cls":A.pickerPrefixCls,"week-list":A.weekList},null,8,["prefix-cls","week-list"]),p(l,{mode:A.mode,"prefix-cls":A.pickerPrefixCls,rows:A.rows,value:A.isRange?void 0:A.value,"range-values":A.rangeValues,"disabled-date":A.disabledDate,"is-same-time":A.mergedIsSameTime,"date-render":A.dateRender,onCellClick:A.onCellClick,onCellMouseEnter:A.onCellMouseEnter},null,8,["mode","prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)):tA("v-if",!0),A.showTimeView?(v(),g("div",{key:1,class:iA(`${A.prefixCls}-timepicker`)},[s("header",{class:iA(`${A.prefixCls}-timepicker-title`)},f(A.datePickerT("datePicker.selectTime")),3),p(c,GA({...A.timePickerProps,...A.disabledTimeProps},{"hide-footer":"",value:A.value||A.isRange?A.timePickerValue:void 0,disabled:A.disabled,onSelect:A.onTimePanelSelect}),null,16,["value","disabled","onSelect"])],2)):tA("v-if",!0),A.showViewTabs?(v(),g("div",{key:2,class:iA(`${A.prefixCls}-footer`)},[s("div",{class:iA(`${A.prefixCls}-view-tabs`)},[s("div",{class:iA([`${A.prefixCls}-view-tab-pane`,{[`${A.prefixCls}-view-tab-pane-active`]:A.showDateView}]),onClick:e[0]||(e[0]=()=>A.changeViewTo("date"))},[p(d),s("span",{class:iA(`${A.prefixCls}-view-tab-pane-text`)},f(A.footerValue&&A.footerValue.format("YYYY-MM-DD")),3)],2),s("div",{class:iA([`${A.prefixCls}-view-tab-pane`,{[`${A.prefixCls}-view-tab-pane-active`]:A.showTimeView}]),onClick:e[1]||(e[1]=()=>A.changeViewTo("time"))},[p(u),s("span",{class:iA(`${A.prefixCls}-view-tab-pane-text`)},f(A.timePickerValue&&A.timePickerValue.format("HH:mm:ss")),3)],2)],2)],2)):tA("v-if",!0)],2)}var sr=ue(Qd,[["render",yd]]);const bd=XA({name:"WeekPanel",components:{DatePanel:sr},props:{dayStartOfWeek:{type:Number,default:0}},emits:["select","cell-mouse-enter"],setup(A,{emit:e}){return In(),{isSameTime:(n,a)=>Ge.isSameWeek(n,a,A.dayStartOfWeek),onSelect:n=>{const a=Ge.startOfWeek(n,A.dayStartOfWeek);e("select",a)},onCellMouseEnter:n=>{const a=Ge.startOfWeek(n,A.dayStartOfWeek);e("cell-mouse-enter",a)}}}});function Fd(A,e,t,n,a,o){const r=Z("DatePanel");return v(),pA(r,GA(A.$attrs,{mode:"week","is-week":"","day-start-of-week":A.dayStartOfWeek,"is-same-time":A.isSameTime,onSelect:A.onSelect,onCellMouseEnter:A.onCellMouseEnter}),null,16,["day-start-of-week","is-same-time","onSelect","onCellMouseEnter"])}var tl=ue(bd,[["render",Fd]]);const Ud=["January","February","March","April","May","June","July","August","September","October","November","December"],_d=12,kd=4,Cr=3,Id=XA({name:"MonthPanel",components:{PanelHeader:Hs,PanelBody:Es},props:{headerValue:{type:Object,required:!0},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},value:{type:Object},disabledDate:{type:Function},rangeValues:{type:Array},dateRender:{type:Function},onHeaderLabelClick:{type:Function},abbreviation:{type:Boolean,default:!0}},emits:["select","cell-mouse-enter"],setup(A,{emit:e}){const t=Tn(),{headerValue:n}=ne(A),a=I(()=>we("panel-month")),o=we("picker"),r=I(()=>n.value.format("YYYY")),i=I(()=>{const u=n.value.year(),b=A.abbreviation?"short":"long",w=qt(_d).map((H,M)=>({label:t(`datePicker.month.${b}.${Ud[M]}`),value:Ee(`${u}-${M+1}`,"YYYY-M")}));return qt(kd).map((H,M)=>w.slice(M*Cr,(M+1)*Cr))}),l=(u,b)=>u.isSame(b,"month");function c(u){e("select",u.value)}function d(u){e("cell-mouse-enter",u.value)}return{prefixCls:a,pickerPrefixCls:o,headerTitle:r,rows:i,isSameTime:l,onCellClick:c,onCellMouseEnter:d}}});function Hd(A,e,t,n,a,o){const r=Z("PanelHeader"),i=Z("PanelBody");return v(),g("div",{class:iA(A.prefixCls)},[s("div",{class:iA(`${A.prefixCls}-inner`)},[p(r,GA({...A.headerOperations,icons:A.headerIcons},{"prefix-cls":A.pickerPrefixCls,title:A.headerTitle,mode:"month",value:A.headerValue,"on-label-click":A.onHeaderLabelClick}),null,16,["prefix-cls","title","value","on-label-click"]),p(i,{mode:"month","prefix-cls":A.pickerPrefixCls,rows:A.rows,value:A.value,"range-values":A.rangeValues,"disabled-date":A.disabledDate,"is-same-time":A.isSameTime,"date-render":A.dateRender,onCellClick:A.onCellClick,onCellMouseEnter:A.onCellMouseEnter},null,8,["prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)],2)}var nl=ue(Id,[["render",Hd]]);const _a=4,is=3,Ed=_a*is,Ws=10,Sd=XA({name:"YearPanel",components:{PanelHeader:Hs,PanelBody:Es},props:{headerValue:{type:Object,required:!0},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},value:{type:Object},disabledDate:{type:Function},rangeValues:{type:Array},dateRender:{type:Function}},emits:["select","cell-mouse-enter"],setup(A,{emit:e}){const{headerValue:t}=ne(A),n=I(()=>we("panel-year")),a=we("picker"),o=I(()=>{const d=Math.floor(t.value.year()/Ws)*Ws-1,u=qt(Ed).map((w,Q)=>({label:d+Q,value:Ee(`${d+Q}`,"YYYY"),isPrev:Q<1,isNext:Q>Ws}));return qt(_a).map((w,Q)=>u.slice(Q*is,(Q+1)*is))}),r=I(()=>`${o.value[0][1].label}-${o.value[_a-1][is-1].label}`),i=(d,u)=>d.isSame(u,"year");function l(d){e("select",d.value)}function c(d){e("cell-mouse-enter",d.value)}return{prefixCls:n,pickerPrefixCls:a,headerTitle:r,rows:o,isSameTime:i,onCellClick:l,onCellMouseEnter:c}}});function Td(A,e,t,n,a,o){const r=Z("PanelHeader"),i=Z("PanelBody");return v(),g("div",{class:iA(A.prefixCls)},[s("div",{class:iA(`${A.prefixCls}-inner`)},[p(r,GA({...A.headerOperations,icons:A.headerIcons},{"prefix-cls":A.pickerPrefixCls,title:A.headerTitle}),null,16,["prefix-cls","title"]),p(i,{mode:"year","prefix-cls":A.pickerPrefixCls,rows:A.rows,value:A.value,"range-values":A.rangeValues,"disabled-date":A.disabledDate,"is-same-time":A.isSameTime,"date-render":A.dateRender,onCellClick:A.onCellClick,onCellMouseEnter:A.onCellMouseEnter},null,8,["prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)],2)}var sl=ue(Sd,[["render",Td]]);const $d=XA({name:"QuarterPanel",components:{PanelHeader:Hs,PanelBody:Es},props:{headerValue:{type:Object,required:!0},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},value:{type:Object},disabledDate:{type:Function},rangeValues:{type:Array},dateRender:{type:Function},onHeaderLabelClick:{type:Function}},emits:["select","cell-mouse-enter"],setup(A,{emit:e}){const{headerValue:t}=ne(A),n=I(()=>we("panel-quarter")),a=we("picker"),o=I(()=>t.value.format("YYYY")),r=I(()=>{const d=t.value.year();return[[1,2,3,4].map(u=>({label:`Q${u}`,value:Ee(`${d}-${gn((u-1)*3+1,2,"0")}-01`)}))]}),i=(d,u)=>d.isSame(u,"month")||d.isSame(u,"year")&&Math.floor(d.month()/3)===Math.floor(u.month()/3);function l(d){e("select",d.value)}function c(d){e("cell-mouse-enter",d.value)}return{prefixCls:n,pickerPrefixCls:a,headerTitle:o,rows:r,isSameTime:i,onCellClick:l,onCellMouseEnter:c}}});function Dd(A,e,t,n,a,o){const r=Z("PanelHeader"),i=Z("PanelBody");return v(),g("div",{class:iA(A.prefixCls)},[s("div",{class:iA(`${A.prefixCls}-inner`)},[p(r,GA({...A.headerOperations,icons:A.headerIcons},{"prefix-cls":A.pickerPrefixCls,title:A.headerTitle,mode:"quarter",value:A.headerValue,"on-label-click":A.onHeaderLabelClick}),null,16,["prefix-cls","title","value","on-label-click"]),p(i,{mode:"quarter","prefix-cls":A.pickerPrefixCls,rows:A.rows,value:A.value,"range-values":A.rangeValues,"disabled-date":A.disabledDate,"is-same-time":A.isSameTime,"date-render":A.dateRender,onCellClick:A.onCellClick,onCellMouseEnter:A.onCellMouseEnter},null,8,["prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)],2)}var al=ue($d,[["render",Dd]]);const Ld=XA({name:"IconLink",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:A=>["butt","round","square"].includes(A)},strokeLinejoin:{type:String,default:"miter",validator:A=>["arcs","bevel","miter","miter-clip","round"].includes(A)},rotate:Number,spin:Boolean},emits:{click:A=>!0},setup(A,{emit:e}){const t=we("icon"),n=I(()=>[t,`${t}-link`,{[`${t}-spin`]:A.spin}]),a=I(()=>{const r={};return A.size&&(r.fontSize=Zt(A.size)?`${A.size}px`:A.size),A.rotate&&(r.transform=`rotate(${A.rotate}deg)`),r});return{cls:n,innerStyle:a,onClick:r=>{e("click",r)}}}}),Md=["stroke-width","stroke-linecap","stroke-linejoin"];function Kd(A,e,t,n,a,o){return v(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:iA(A.cls),style:lt(A.innerStyle),"stroke-width":A.strokeWidth,"stroke-linecap":A.strokeLinecap,"stroke-linejoin":A.strokeLinejoin,onClick:e[0]||(e[0]=(...r)=>A.onClick&&A.onClick(...r))},e[1]||(e[1]=[s("path",{d:"m14.1 25.414-4.95 4.95a6 6 0 0 0 8.486 8.485l8.485-8.485a6 6 0 0 0 0-8.485m7.779.707 4.95-4.95a6 6 0 1 0-8.486-8.485l-8.485 8.485a6 6 0 0 0 0 8.485"},null,-1)]),14,Md)}var Ys=ue(Ld,[["render",Kd]]);const Od=Object.assign(Ys,{install:(A,e)=>{var t;const n=(t=e==null?void 0:e.iconPrefix)!=null?t:"";A.component(n+Ys.name,Ys)}}),xd=XA({name:"Link",components:{IconLink:Od,IconLoading:xi},props:{href:String,status:{type:String,default:"normal"},hoverable:{type:Boolean,default:!0},icon:Boolean,loading:Boolean,disabled:Boolean},emits:{click:A=>!0},setup(A,{slots:e,emit:t}){const n=we("link"),a=Ic(A,e,"icon"),o=i=>{if(A.disabled||A.loading){i.preventDefault();return}t("click",i)};return{cls:I(()=>[n,`${n}-status-${A.status}`,{[`${n}-disabled`]:A.disabled,[`${n}-loading`]:A.loading,[`${n}-hoverless`]:!A.hoverable,[`${n}-with-icon`]:A.loading||a.value}]),prefixCls:n,showIcon:a,handleClick:o}}}),Pd=["href"];function Rd(A,e,t,n,a,o){const r=Z("icon-loading"),i=Z("icon-link");return v(),g("a",{href:A.disabled?void 0:A.href,class:iA(A.cls),onClick:e[0]||(e[0]=(...l)=>A.handleClick&&A.handleClick(...l))},[A.loading||A.showIcon?(v(),g("span",{key:0,class:iA(`${A.prefixCls}-icon`)},[A.loading?(v(),pA(r,{key:0})):ie(A.$slots,"icon",{key:1},()=>[p(i)])],2)):tA("v-if",!0),ie(A.$slots,"default")],10,Pd)}var zs=ue(xd,[["render",Rd]]);const Vd=Object.assign(zs,{install:(A,e)=>{To(A,e);const t=$o(e);A.component(t+zs.name,zs)}}),Nd=XA({name:"PanelFooter",components:{Link:Vd,Button:Ke},props:{prefixCls:{type:String,required:!0},showTodayBtn:{type:Boolean},showConfirmBtn:{type:Boolean},confirmBtnDisabled:{type:Boolean}},emits:["today-btn-click","confirm-btn-click"],setup(A,{emit:e}){return{datePickerT:Tn(),onTodayClick:()=>{e("today-btn-click")},onConfirmBtnClick:()=>{e("confirm-btn-click")}}}});function Gd(A,e,t,n,a,o){const r=Z("Link"),i=Z("Button");return v(),g("div",{class:iA(`${A.prefixCls}-footer`)},[A.$slots.extra?(v(),g("div",{key:0,class:iA(`${A.prefixCls}-footer-extra-wrapper`)},[ie(A.$slots,"extra")],2)):tA("v-if",!0),A.showTodayBtn?(v(),g("div",{key:1,class:iA(`${A.prefixCls}-footer-now-wrapper`)},[p(r,{onClick:A.onTodayClick},{default:C(()=>[X(f(A.datePickerT("datePicker.today")),1)]),_:1},8,["onClick"])],2)):tA("v-if",!0),A.$slots.btn||A.showConfirmBtn?(v(),g("div",{key:2,class:iA(`${A.prefixCls}-footer-btn-wrapper`)},[ie(A.$slots,"btn"),A.showConfirmBtn?(v(),pA(i,{key:0,class:iA(`${A.prefixCls}-btn-confirm`),type:"primary",size:"mini",disabled:A.confirmBtnDisabled,onClick:A.onConfirmBtnClick},{default:C(()=>[X(f(A.datePickerT("datePicker.ok")),1)]),_:1},8,["class","disabled","onClick"])):tA("v-if",!0)],2)):tA("v-if",!0)],2)}var rl=ue(Nd,[["render",Gd]]);function ol(A){const{mode:e}=ne(A),t=I(()=>({date:1,week:1,year:10*12,quarter:12,month:12})[e.value]),n=I(()=>["year"].includes(e.value)?10*12:12);return{span:t,superSpan:n}}function gs(A){const{mode:e,value:t,defaultValue:n,selectedValue:a,format:o,onChange:r}=ne(A),i=I(()=>(e==null?void 0:e.value)||"date"),{span:l,superSpan:c}=ol(zA({mode:i})),d=(k,E)=>{const D=i.value==="date"||i.value==="week"?"M":"y";return k.isSame(E,D)},u=I(()=>ut(t==null?void 0:t.value,o.value)),b=I(()=>ut(n==null?void 0:n.value,o.value)),w=W(b.value||xe()),Q=I(()=>u.value||w.value),H=k=>{k&&(w.value=k)},M=(k,E=!0)=>{var D;k&&(E&&!d(Q.value,k)&&((D=r==null?void 0:r.value)==null||D.call(r,k)),H(k))};a!=null&&a.value&&H(a.value),jA(()=>a==null?void 0:a.value,k=>{M(k)});function F(){return(a==null?void 0:a.value)||b.value||xe()}function h(k=!0){const E=F();k?M(E):H(E)}const V=I(()=>l.value!==c.value),P=I(()=>({onSuperPrev:()=>{M(Ge.subtract(Q.value,c.value,"M"))},onPrev:V.value?()=>{M(Ge.subtract(Q.value,l.value,"M"))}:void 0,onNext:V.value?()=>{M(Ge.add(Q.value,l.value,"M"))}:void 0,onSuperNext:()=>{M(Ge.add(Q.value,c.value,"M"))}}));return{headerValue:Q,setHeaderValue:M,headerOperations:P,resetHeaderValue:h,getDefaultLocalValue:F}}const Wd=XA({name:"DatePikerPanel",components:{DatePanel:sr,PanelShortcuts:jo,PanelFooter:rl,WeekPanel:tl,MonthPanel:nl,YearPanel:sl,QuarterPanel:al,RenderFunction:Hn},props:{mode:{type:String},headerMode:{type:String},prefixCls:{type:String,required:!0},value:{type:Object},headerValue:{type:Object,required:!0},timePickerValue:{type:Object},showTime:{type:Boolean},showConfirmBtn:{type:Boolean},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},format:{type:String,required:!0},dayStartOfWeek:{type:Number,default:0},disabledDate:{type:Function},disabledTime:{type:Function},timePickerProps:{type:Object},extra:{type:Function},dateRender:{type:Function},hideTrigger:{type:Boolean},confirmBtnDisabled:{type:Boolean},showNowBtn:{type:Boolean},headerIcons:{type:Object,default:()=>({})},headerOperations:{type:Object},abbreviation:{type:Boolean}},emits:["cell-click","time-picker-select","shortcut-click","shortcut-mouse-enter","shortcut-mouse-leave","confirm","today-btn-click","header-label-click","header-select","month-header-click"],setup(A,{emit:e}){const{prefixCls:t,shortcuts:n,shortcutsPosition:a,format:o,value:r,disabledDate:i,hideTrigger:l,showNowBtn:c,dateRender:d,showConfirmBtn:u,headerValue:b,headerIcons:w,headerOperations:Q,headerMode:H}=ne(A),M=I(()=>!!(n.value&&n.value.length)),F=I(()=>c.value&&u.value&&!M.value),h=I(()=>F.value||M.value),V=I(()=>h.value&&a.value==="left"),P=I(()=>h.value&&a.value==="right"),k=I(()=>h.value&&a.value==="bottom"),E=I(()=>[`${t.value}-container`,{[`${t.value}-container-panel-only`]:l.value,[`${t.value}-container-shortcuts-placement-left`]:V.value,[`${t.value}-container-shortcuts-placement-right`]:P.value}]),D=I(()=>(r==null?void 0:r.value)||xe()),{headerValue:R,setHeaderValue:N,headerOperations:_}=gs(zA({mode:H,format:o}));jA(b,q=>{N(q)});function J(q){const{value:j}=q;return ut(He(j)?j():j,q.format||o.value)}function z(q){e("shortcut-click",J(q),q)}function L(q){e("shortcut-mouse-enter",J(q))}function $(q){e("shortcut-mouse-leave",J(q))}function m(q){e("cell-click",q)}function B(q){e("time-picker-select",q)}function y(){e("today-btn-click",xe())}function T(){e("confirm")}function G(q){e("header-label-click",q)}function S(q){e("header-select",q)}function O(){e("month-header-click")}const K=zA({prefixCls:t,shortcuts:n,showNowBtn:F,onItemClick:z,onItemMouseEnter:L,onItemMouseLeave:$,onNowClick:y}),Y=zA({value:r,headerValue:b,headerIcons:w,headerOperations:Q,disabledDate:i,dateRender:d,onSelect:m,onHeaderLabelClick:G});return{classNames:E,showShortcutsInLeft:V,showShortcutsInRight:P,showShortcutsInBottom:k,shortcutsProps:K,commonPanelProps:Y,footerValue:D,onTodayBtnClick:y,onConfirmBtnClick:T,onTimePickerSelect:B,onHeaderPanelSelect:S,headerPanelHeaderValue:R,headerPanelHeaderOperations:_,onMonthHeaderLabelClick:O}}});function Yd(A,e,t,n,a,o){const r=Z("PanelShortcuts"),i=Z("YearPanel"),l=Z("MonthPanel"),c=Z("WeekPanel"),d=Z("QuarterPanel"),u=Z("DatePanel"),b=Z("RenderFunction"),w=Z("PanelFooter");return v(),g("div",{class:iA(A.classNames)},[A.showShortcutsInLeft?(v(),pA(r,ye(GA({key:0},A.shortcutsProps)),null,16)):tA("v-if",!0),s("div",{class:iA(`${A.prefixCls}-panel-wrapper`)},[A.headerMode?(v(),g(vA,{key:0},[A.headerMode==="year"?(v(),pA(i,{key:0,"header-value":A.headerPanelHeaderValue,"header-icons":A.headerIcons,"header-operations":A.headerPanelHeaderOperations,onSelect:A.onHeaderPanelSelect},null,8,["header-value","header-icons","header-operations","onSelect"])):A.headerMode==="month"?(v(),pA(l,{key:1,"header-value":A.headerPanelHeaderValue,"header-icons":A.headerIcons,"header-operations":A.headerPanelHeaderOperations,abbreviation:A.abbreviation,onSelect:A.onHeaderPanelSelect,onHeaderLabelClick:A.onMonthHeaderLabelClick},null,8,["header-value","header-icons","header-operations","abbreviation","onSelect","onHeaderLabelClick"])):tA("v-if",!0)],64)):(v(),g(vA,{key:1},[A.mode==="week"?(v(),pA(c,GA({key:0},A.commonPanelProps,{"day-start-of-week":A.dayStartOfWeek}),null,16,["day-start-of-week"])):A.mode==="month"?(v(),pA(l,GA({key:1,abbreviation:A.abbreviation},A.commonPanelProps),null,16,["abbreviation"])):A.mode==="year"?(v(),pA(i,ye(GA({key:2},A.commonPanelProps)),null,16)):A.mode==="quarter"?(v(),pA(d,ye(GA({key:3},A.commonPanelProps)),null,16)):(v(),pA(u,GA({key:4},A.commonPanelProps,{mode:"date","show-time":A.showTime,"time-picker-props":A.timePickerProps,"day-start-of-week":A.dayStartOfWeek,"footer-value":A.footerValue,"time-picker-value":A.timePickerValue,"disabled-time":A.disabledTime,onTimePickerSelect:A.onTimePickerSelect}),null,16,["show-time","time-picker-props","day-start-of-week","footer-value","time-picker-value","disabled-time","onTimePickerSelect"])),p(w,{"prefix-cls":A.prefixCls,"show-today-btn":A.showNowBtn&&!(A.showConfirmBtn||A.showShortcutsInBottom),"show-confirm-btn":A.showConfirmBtn,"confirm-btn-disabled":A.confirmBtnDisabled,onTodayBtnClick:A.onTodayBtnClick,onConfirmBtnClick:A.onConfirmBtnClick},kn({_:2},[A.extra?{name:"extra",fn:C(()=>[A.extra?(v(),pA(b,{key:0,"render-func":A.extra},null,8,["render-func"])):tA("v-if",!0)]),key:"0"}:void 0,A.showShortcutsInBottom?{name:"btn",fn:C(()=>[p(r,ye(St(A.shortcutsProps)),null,16)]),key:"1"}:void 0]),1032,["prefix-cls","show-today-btn","show-confirm-btn","confirm-btn-disabled","onTodayBtnClick","onConfirmBtnClick"])],64))],2),A.showShortcutsInRight?(v(),pA(r,ye(GA({key:1},A.shortcutsProps)),null,16)):tA("v-if",!0)],2)}var zd=ue(Wd,[["render",Yd]]);function Xd(A="date",e=!1){switch(A){case"date":return e?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";case"week":return"gggg-wo";case"quarter":return"YYYY-[Q]Q";default:return"YYYY-MM-DD"}}function Jd(A="date",e=!1){switch(A){case"date":return e?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";case"week":return"YYYY-MM-DD";case"quarter":return"YYYY-MM";default:return"YYYY-MM-DD"}}function ll(A){const{format:e,mode:t,showTime:n,valueFormat:a}=ne(A),o=I(()=>!He(e==null?void 0:e.value)&&(e==null?void 0:e.value)||Xd(t==null?void 0:t.value,n==null?void 0:n.value)),r=I(()=>(a==null?void 0:a.value)||Jd(t==null?void 0:t.value,n==null?void 0:n.value)),i=I(()=>["timestamp","Date"].includes(r.value)?o.value:r.value);return{format:o,valueFormat:r,parseValueFormat:i}}function il(A){const{mode:e,showTime:t,disabledDate:n,disabledTime:a,isRange:o}=ne(A),r=I(()=>(e==null?void 0:e.value)==="date"&&(t==null?void 0:t.value)),i=I(()=>(d,u)=>{if(!(n!=null&&n.value))return!1;const b=We(d);return o!=null&&o.value?n.value(b,u):n.value(b)}),l=(d,u)=>((u==null?void 0:u())||[]).includes(d),c=I(()=>(d,u)=>{if(!r.value||!(a!=null&&a.value))return!1;const b=We(d),w=o!=null&&o.value?a.value(b,u):a.value(b);return l(d.hour(),w.disabledHours)||l(d.minute(),w.disabledMinutes)||l(d.second(),w.disabledSeconds)});return function(u,b){return u&&(i.value(u,b||"start")||c.value(u,b||"start"))}}function ul(A){const{locale:e}=ne(A),{locale:t,t:n}=In();Ee.locale(t.value.toLowerCase());const a=(o,...r)=>{const i=o.startsWith("datePicker.")?o.split(".").slice(1).join("."):o;return Ni((e==null?void 0:e.value)||{},i)||n(o,...r)};return Ei(qo,{datePickerT:a}),a}function ka(A){const{timePickerProps:e,selectedValue:t}=ne(A),n=I(()=>{var u;return(u=e==null?void 0:e.value)==null?void 0:u.format}),a=I(()=>{var u;return!!((u=e==null?void 0:e.value)!=null&&u.use12Hours)}),{format:o}=Al(zA({format:n,use12Hours:a})),r=I(()=>{var u;return ut((u=e==null?void 0:e.value)==null?void 0:u.defaultValue,o.value)}),i=()=>(t==null?void 0:t.value)||r.value||xe(),l=W(i());function c(u){u&&(l.value=u)}function d(){l.value=i()}return jA(t,u=>{c(u)}),[l,c,d]}function cl(A,e){return e==="timestamp"?A.toDate().getTime():e==="Date"?A.toDate():A.format(e)}function qd(A){const{format:e}=ne(A);return t=>cl(t,e.value)}function Xs(A,e){return A.map(t=>t?cl(t,e):void 0)}const jd=XA({name:"Picker",components:{DateInput:$c,Trigger:Do,PickerPanel:zd,IconCalendar:nr},inheritAttrs:!1,props:{locale:{type:Object},hideTrigger:{type:Boolean},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean},error:{type:Boolean},size:{type:String},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},position:{type:String,default:"bl"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},triggerProps:{type:Object},unmountOnClose:{type:Boolean},placeholder:{type:String},disabled:{type:Boolean},disabledDate:{type:Function},disabledTime:{type:Function},pickerValue:{type:[Object,String,Number]},defaultPickerValue:{type:[Object,String,Number]},popupContainer:{type:[String,Object]},mode:{type:String,default:"date"},format:{type:[String,Function]},valueFormat:{type:String},previewShortcut:{type:Boolean,default:!0},showConfirmBtn:{type:Boolean},showTime:{type:Boolean},timePickerProps:{type:Object},showNowBtn:{type:Boolean,default:!0},dayStartOfWeek:{type:Number,default:0},modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},disabledInput:{type:Boolean,default:!1},abbreviation:{type:Boolean,default:!0}},emits:{change:(A,e,t)=>!0,"update:modelValue":A=>!0,select:(A,e,t)=>!0,"popup-visible-change":A=>!0,"update:popupVisible":A=>!0,ok:(A,e,t)=>!0,clear:()=>!0,"select-shortcut":A=>!0,"picker-value-change":(A,e,t)=>!0,"update:pickerValue":A=>!0},setup(A,{emit:e,slots:t}){const{mode:n,modelValue:a,defaultValue:o,format:r,valueFormat:i,placeholder:l,popupVisible:c,defaultPopupVisible:d,disabled:u,showTime:b,timePickerProps:w,disabledDate:Q,disabledTime:H,readonly:M,locale:F,pickerValue:h,defaultPickerValue:V,dayStartOfWeek:P,previewShortcut:k,showConfirmBtn:E}=ne(A),{locale:D}=In();_o(()=>{Xo(D.value,P.value)});const{mergedDisabled:R,eventHandlers:N}=_s({disabled:u}),_=ul(zA({locale:F})),J=we("picker"),z=W(),L=I(()=>(l==null?void 0:l.value)||{date:_("datePicker.placeholder.date"),month:_("datePicker.placeholder.month"),year:_("datePicker.placeholder.year"),week:_("datePicker.placeholder.week"),quarter:_("datePicker.placeholder.quarter")}[n.value]||_("datePicker.placeholder.date")),{format:$,valueFormat:m,parseValueFormat:B}=ll(zA({format:r,mode:n,showTime:b,valueFormat:i})),y=I(()=>r&&He(r.value)?hA=>{var PA;return(PA=r.value)==null?void 0:PA.call(r,We(hA))}:$.value),T=qd(zA({format:m})),G=il(zA({mode:n,disabledDate:Q,disabledTime:H,showTime:b})),S=I(()=>b.value||E.value),O=I(()=>S.value&&(!FA.value||G(FA.value))),K=I(()=>n.value==="date"&&b.value),{value:Y,setValue:q}=Hc(zA({modelValue:a,defaultValue:o,format:B})),[j,sA]=yt(),[wA,fA]=yt(),FA=I(()=>{var hA;return(hA=j.value)!=null?hA:Y.value}),UA=I(()=>{var hA,PA;return(PA=(hA=wA.value)!=null?hA:j.value)!=null?PA:Y.value}),[RA,SA]=yt(),[OA,WA]=Ar(d.value,zA({value:c})),YA=hA=>{OA.value!==hA&&(WA(hA),e("popup-visible-change",hA),e("update:popupVisible",hA))},{headerValue:xA,setHeaderValue:eA,headerOperations:x,resetHeaderValue:U}=gs(zA({mode:n,value:h,defaultValue:V,selectedValue:UA,format:B,onChange:hA=>{const PA=T(hA),ce=$t(hA,B.value),Xe=We(hA);e("picker-value-change",PA,Xe,ce),e("update:pickerValue",PA)}})),[AA,,nA]=ka(zA({timePickerProps:w,selectedValue:UA})),uA=I(()=>!M.value&&!He(y.value)),oA=W();jA(OA,hA=>{sA(void 0),fA(void 0),oA.value=void 0,hA&&(U(),nA()),hA||SA(void 0)});function cA(hA,PA){var ce,Xe;const nt=hA?T(hA):void 0,en=$t(hA,B.value),Mn=We(hA);zo(hA,Y.value)&&(e("update:modelValue",nt),e("change",nt,Mn,en),(Xe=(ce=N.value)==null?void 0:ce.onChange)==null||Xe.call(ce)),PA&&e("ok",nt,Mn,en)}function CA(hA,PA,ce){G(hA)||(cA(hA,ce),q(hA),sA(void 0),fA(void 0),SA(void 0),oA.value=void 0,Mo(PA)&&YA(PA))}function rA(hA,PA){if(sA(hA),fA(void 0),SA(void 0),oA.value=void 0,PA){const ce=hA?T(hA):void 0,Xe=$t(hA,B.value),nt=We(hA);e("select",ce,nt,Xe)}}function HA(hA){z.value&&z.value.focus&&z.value.focus(hA)}function dA(hA,PA){return!K.value&&!w.value?hA:Zo(xe(),hA,PA)}function DA(hA){R.value||YA(hA)}function aA(hA){hA.stopPropagation(),CA(void 0),e("clear")}function TA(){var hA,PA;(PA=(hA=N.value)==null?void 0:hA.onBlur)==null||PA.call(hA)}function gA(hA){YA(!0);const PA=hA.target.value;if(SA(PA),!Jo(PA,$.value))return;const ce=Ee(PA,$.value);G(ce)||(S.value?rA(ce):CA(ce,!0))}function lA(){CA(UA.value,!1)}function bA(hA){S.value?rA(hA,!0):CA(hA,!1)}function LA(hA){const PA=dA(hA,AA.value);bA(PA)}function EA(hA){const PA=dA(UA.value||xe(),hA);bA(PA)}function NA(){CA(UA.value,!1,!0)}function QA(){A.disabledInput&&HA()}let BA;kt(()=>{clearTimeout(BA)});function KA(hA){clearTimeout(BA),fA(hA),SA(void 0)}function MA(){clearTimeout(BA),BA=setTimeout(()=>{fA(void 0)},100)}function VA(hA,PA){e("select-shortcut",PA),CA(hA,!1)}function Qe(hA){oA.value=hA}function de(){oA.value="year"}function me(hA){let PA=xA.value;if(PA=PA.set("year",hA.year()),oA.value==="month"&&(PA=PA.set("month",hA.month())),eA(PA),n.value==="quarter"||n.value==="month"){oA.value=void 0;return}oA.value=oA.value==="year"?"month":void 0}const ge=I(()=>({format:$.value,...Lo((w==null?void 0:w.value)||{},["defaultValue"]),visible:OA.value})),re=I(()=>({...bn(A,["mode","shortcuts","shortcutsPosition","dayStartOfWeek","disabledDate","disabledTime","showTime","hideTrigger","abbreviation"]),showNowBtn:A.showNowBtn&&n.value==="date",prefixCls:J,format:B.value,value:UA.value,visible:OA.value,showConfirmBtn:S.value,confirmBtnDisabled:O.value,timePickerProps:ge.value,extra:t.extra,dateRender:t.cell,headerValue:xA.value,headerIcons:{prev:t["icon-prev"],prevDouble:t["icon-prev-double"],next:t["icon-next"],nextDouble:t["icon-next-double"]},headerOperations:x.value,timePickerValue:AA.value,headerMode:oA.value,onCellClick:LA,onTimePickerSelect:EA,onConfirm:NA,onShortcutClick:VA,onShortcutMouseEnter:k.value?KA:void 0,onShortcutMouseLeave:k.value?MA:void 0,onTodayBtnClick:bA,onHeaderLabelClick:Qe,onHeaderSelect:me,onMonthHeaderClick:de}));return{prefixCls:J,refInput:z,panelProps:re,panelValue:UA,inputValue:RA,selectedValue:Y,inputFormat:y,computedPlaceholder:L,panelVisible:OA,inputEditable:uA,needConfirm:S,mergedDisabled:R,onPanelVisibleChange:DA,onInputClear:aA,onInputChange:gA,onInputPressEnter:lA,onInputBlur:TA,onPanelClick:QA}}});function Zd(A,e,t,n,a,o){const r=Z("IconCalendar"),i=Z("DateInput"),l=Z("PickerPanel"),c=Z("Trigger");return A.hideTrigger?(v(),pA(l,ye(GA({key:1},{...A.$attrs,...A.panelProps})),null,16)):(v(),pA(c,GA({key:0,trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","click-to-close":!1,"popup-offset":4},A.triggerProps,{position:A.position,disabled:A.mergedDisabled||A.readonly,"prevent-focus":!0,"popup-visible":A.panelVisible,"unmount-on-close":A.unmountOnClose,"popup-container":A.popupContainer,onPopupVisibleChange:A.onPanelVisibleChange}),{content:C(()=>[p(l,GA(A.panelProps,{onClick:A.onPanelClick}),null,16,["onClick"])]),default:C(()=>[ie(A.$slots,"default",{},()=>[p(i,GA(A.$attrs,{ref:"refInput",size:A.size,focused:A.panelVisible,visible:A.panelVisible,error:A.error,disabled:A.mergedDisabled,readonly:!A.inputEditable||A.disabledInput,"allow-clear":A.allowClear&&!A.readonly,placeholder:A.computedPlaceholder,"input-value":A.inputValue,value:A.needConfirm?A.panelValue:A.selectedValue,format:A.inputFormat,onClear:A.onInputClear,onChange:A.onInputChange,onPressEnter:A.onInputPressEnter,onBlur:A.onInputBlur}),kn({"suffix-icon":C(()=>[ie(A.$slots,"suffix-icon",{},()=>[p(r)])]),_:2},[A.$slots.prefix?{name:"prefix",fn:C(()=>[ie(A.$slots,"prefix")]),key:"0"}:void 0]),1040,["size","focused","visible","error","disabled","readonly","allow-clear","placeholder","input-value","value","format","onClear","onChange","onPressEnter","onBlur"])])]),_:3},16,["position","disabled","popup-visible","unmount-on-close","popup-container","onPopupVisibleChange"]))}var $n=ue(jd,[["render",Zd]]),Js=XA({name:"DatePicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:[String,Function]},dayStartOfWeek:{type:Number,default:0},showTime:{type:Boolean},timePickerProps:{type:Object},disabled:{type:Boolean},disabledDate:{type:Function},disabledTime:{type:Function},showNowBtn:{type:Boolean,default:!0}},setup(A,{attrs:e,slots:t}){return()=>p($n,GA(A,e,{mode:"date"}),t)}}),qs=XA({name:"WeekPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"gggg-wo"},valueFormat:{type:String,default:"YYYY-MM-DD"},dayStartOfWeek:{type:Number,default:0}},setup(A,{attrs:e,slots:t}){return()=>p($n,GA(A,e,{mode:"week"}),t)}}),js=XA({name:"MonthPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"YYYY-MM"}},setup(A,{attrs:e,slots:t}){return()=>p($n,GA(A,e,{mode:"month"}),t)}}),Zs=XA({name:"YearPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"YYYY"}},setup(A,{attrs:e,slots:t}){return()=>p($n,GA(A,e,{mode:"year"}),t)}}),Aa=XA({name:"QuarterPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"YYYY-[Q]Q"},valueFormat:{type:String,default:"YYYY-MM"}},setup(A,{attrs:e,slots:t}){return()=>p($n,GA(A,e,{mode:"quarter"}),t)}});function Av(A){const{modelValue:e,defaultValue:t,format:n}=ne(A),a=I(()=>ut(Fa(e.value),n.value)),o=I(()=>ut(Fa(t.value),n.value)),[r,i]=yt(Se(a.value)?Se(o.value)?[]:o.value:a.value);return jA(a,()=>{Se(a.value)&&i([])}),{value:I(()=>a.value||r.value),setValue:i}}function ev(A){const{startHeaderMode:e,endHeaderMode:t,mode:n,value:a,defaultValue:o,selectedValue:r,format:i,onChange:l}=ne(A),c=I(()=>["date","week"].includes(n.value)),d=I(()=>c.value?"M":"y"),u=(j,sA)=>j.isSame(sA,d.value),{span:b,superSpan:w}=ol(zA({mode:n})),Q=I(()=>(e==null?void 0:e.value)||n.value),H=I(()=>(t==null?void 0:t.value)||n.value),M=I(()=>{var j;return(j=a.value)==null?void 0:j[0]}),F=I(()=>{var j;return(j=a.value)==null?void 0:j[1]}),h=I(()=>{var j;return(j=o.value)==null?void 0:j[0]}),V=I(()=>{var j;return(j=o.value)==null?void 0:j[1]}),P=j=>{l!=null&&l.value&&l.value(j)},{headerValue:k,setHeaderValue:E,headerOperations:D,getDefaultLocalValue:R}=gs(zA({mode:Q,value:M,defaultValue:h,selectedValue:void 0,format:i,onChange:j=>{P([j,N.value])}})),{headerValue:N,setHeaderValue:_,headerOperations:J,getDefaultLocalValue:z}=gs(zA({mode:H,value:F,defaultValue:V,selectedValue:void 0,format:i,onChange:j=>{P([k.value,j])}})),L=j=>{const sA=u(k.value,j[0]),wA=u(N.value,j[1]);E(j[0],!1),_(j[1],!1),(!sA||!wA)&&l!=null&&l.value&&(l==null||l.value(j))};function $(j){let[sA,wA]=fs(j);const fA=Ge.add(sA,b.value,"M");return wA.isBefore(fA,d.value)&&(wA=fA),[sA,wA]}function m(){var j,sA;let wA=(j=r.value)==null?void 0:j[0],fA=(sA=r.value)==null?void 0:sA[1];return wA&&fA&&([wA,fA]=fs([wA,fA])),[wA,fA]}const[B,y]=m(),[T,G]=$([B||k.value,y||N.value]);E(T,!1),_(G,!1);const S=()=>{const j=R(),sA=z();Us(()=>{const[wA,fA]=m(),[FA,UA]=$([wA||j,fA||sA]);L([FA,UA])})},O=I(()=>Ge.add(k.value,b.value,"M").isBefore(N.value,d.value)),K=I(()=>Ge.add(k.value,w.value,"M").isBefore(N.value,d.value)),Y=I(()=>{const j=["onSuperPrev"];return c.value&&j.push("onPrev"),O.value&&c&&j.push("onNext"),K.value&&j.push("onSuperNext"),bn(D.value,j)}),q=I(()=>{const j=["onSuperNext"];return c.value&&j.push("onNext"),O.value&&c.value&&j.push("onPrev"),K.value&&j.push("onSuperPrev"),bn(J.value,j)});return{startHeaderValue:k,endHeaderValue:N,startHeaderOperations:Y,endHeaderOperations:q,setHeaderValue:L,resetHeaderValue:S}}const tv=XA({name:"DateInputRange",components:{IconHover:Eo,IconClose:Ho,FeedbackIcon:Io},props:{size:{type:String},focused:{type:Boolean},focusedIndex:{type:Number},error:{type:Boolean},disabled:{type:[Boolean,Array],default:!1},readonly:{type:Boolean},allowClear:{type:Boolean},placeholder:{type:Array,default:()=>[]},inputValue:{type:Array},value:{type:Array,default:()=>[]},format:{type:[String,Function],required:!0}},emits:["focused-index-change","update:focusedIndex","change","clear","press-enter"],setup(A,{emit:e,slots:t}){const{error:n,focused:a,disabled:o,size:r,value:i,format:l,focusedIndex:c,inputValue:d}=ne(A),{mergedSize:u,mergedDisabled:b,mergedError:w,feedback:Q}=_s({size:r,error:n}),{mergedSize:H}=So(u),M=W(),F=W(),h=B=>b.value?b.value:Fe(o.value)?o.value[B]:o.value,V=I(()=>h(0)),P=I(()=>h(1)),k=we("picker"),E=I(()=>[k,`${k}-range`,`${k}-size-${H.value}`,{[`${k}-focused`]:a.value,[`${k}-disabled`]:V.value&&P.value,[`${k}-error`]:w.value,[`${k}-has-prefix`]:t.prefix}]);function D(B){return[`${k}-input`,{[`${k}-input-active`]:B===(c==null?void 0:c.value)}]}function R(B){var y,T;if(d!=null&&d.value)return(y=d==null?void 0:d.value)==null?void 0:y[B];const G=(T=i==null?void 0:i.value)==null?void 0:T[B];if(G&&At(G))return He(l.value)?l.value(G):G.format(l.value)}const N=I(()=>R(0)),_=I(()=>R(1));function J(B){e("focused-index-change",B),e("update:focusedIndex",B)}function z(B){B.stopPropagation(),e("change",B)}function L(){e("press-enter")}function $(B){B.preventDefault()}function m(B){e("clear",B)}return{prefixCls:k,classNames:E,refInput0:M,refInput1:F,disabled0:V,disabled1:P,mergedDisabled:b,getDisabled:h,getInputWrapClassName:D,displayValue0:N,displayValue1:_,changeFocusedInput:J,onChange:z,onPressEnter:L,onPressTab:$,onClear:m,feedback:Q}},methods:{focus(A){const e=Zt(A)?A:this.focusedIndex,t=e===0?this.refInput0:this.refInput1;!Se(e)&&!this.getDisabled(e)&&t&&t.focus&&t.focus()},blur(){const A=this.focusedIndex===0?this.refInput0:this.refInput1;A&&A.blur&&A.blur()}}}),nv=["disabled","placeholder","value"],sv=["disabled","placeholder","value"];function av(A,e,t,n,a,o){const r=Z("IconClose"),i=Z("IconHover"),l=Z("FeedbackIcon");return v(),g("div",{class:iA(A.classNames)},[A.$slots.prefix?(v(),g("div",{key:0,class:iA(`${A.prefixCls}-prefix`)},[ie(A.$slots,"prefix")],2)):tA("v-if",!0),s("div",{class:iA(A.getInputWrapClassName(0))},[s("input",GA({ref:"refInput0",disabled:A.disabled0,placeholder:A.placeholder[0],value:A.displayValue0},A.readonly?{readonly:!0}:{},{onInput:e[0]||(e[0]=(...c)=>A.onChange&&A.onChange(...c)),onKeydown:[e[1]||(e[1]=rn((...c)=>A.onPressEnter&&A.onPressEnter(...c),["enter"])),e[2]||(e[2]=rn((...c)=>A.onPressTab&&A.onPressTab(...c),["tab"]))],onClick:e[3]||(e[3]=()=>A.changeFocusedInput(0))}),null,16,nv)],2),s("span",{class:iA(`${A.prefixCls}-separator`)},[ie(A.$slots,"separator",{},()=>[e[8]||(e[8]=X(" - "))])],2),s("div",{class:iA(A.getInputWrapClassName(1))},[s("input",GA({ref:"refInput1",disabled:A.disabled1,placeholder:A.placeholder[1],value:A.displayValue1},A.readonly?{readonly:!0}:{},{onInput:e[4]||(e[4]=(...c)=>A.onChange&&A.onChange(...c)),onKeydown:[e[5]||(e[5]=rn((...c)=>A.onPressEnter&&A.onPressEnter(...c),["enter"])),e[6]||(e[6]=rn((...c)=>A.onPressTab&&A.onPressTab(...c),["tab"]))],onClick:e[7]||(e[7]=()=>A.changeFocusedInput(1))}),null,16,sv)],2),s("div",{class:iA(`${A.prefixCls}-suffix`)},[A.allowClear&&!A.mergedDisabled&&A.value.length===2?(v(),pA(i,{key:0,prefix:A.prefixCls,class:iA(`${A.prefixCls}-clear-icon`),onClick:A.onClear},{default:C(()=>[p(r)]),_:1},8,["prefix","class","onClick"])):tA("v-if",!0),s("span",{class:iA(`${A.prefixCls}-suffix-icon`)},[ie(A.$slots,"suffix-icon")],2),A.feedback?(v(),pA(l,{key:1,type:A.feedback},null,8,["type"])):tA("v-if",!0)],2)],2)}var rv=ue(tv,[["render",av]]);const ov=XA({name:"DateRangePikerPanel",components:{PanelShortcuts:jo,PanelFooter:rl,RenderFunction:Hn,DatePanel:sr,WeekPanel:tl,MonthPanel:nl,YearPanel:sl,QuarterPanel:al},props:{mode:{type:String,default:"date"},value:{type:Array,default:()=>[]},footerValue:{type:Array},timePickerValue:{type:Array},showTime:{type:Boolean},showConfirmBtn:{type:Boolean},prefixCls:{type:String,required:!0},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},format:{type:String,required:!0},dayStartOfWeek:{type:Number,default:0},disabledDate:{type:Function},disabledTime:{type:Function},timePickerProps:{type:Object},extra:{type:Function},dateRender:{type:Function},hideTrigger:{type:Boolean},startHeaderProps:{type:Object,default:()=>({})},endHeaderProps:{type:Object,default:()=>({})},confirmBtnDisabled:{type:Boolean},disabled:{type:Array,default:()=>[!1,!1]},visible:{type:Boolean},startHeaderMode:{type:String},endHeaderMode:{type:String},abbreviation:{type:Boolean}},emits:["cell-click","cell-mouse-enter","time-picker-select","shortcut-click","shortcut-mouse-enter","shortcut-mouse-leave","confirm","start-header-label-click","end-header-label-click","start-header-select","end-header-select"],setup(A,{emit:e}){const{prefixCls:t,shortcuts:n,shortcutsPosition:a,format:o,hideTrigger:r,value:i,disabledDate:l,disabledTime:c,startHeaderProps:d,endHeaderProps:u,dateRender:b,visible:w,startHeaderMode:Q,endHeaderMode:H}=ne(A),M=I(()=>Fe(n.value)&&n.value.length),F=I(()=>[`${t.value}-range-container`,{[`${t.value}-range-container-panel-only`]:r.value,[`${t.value}-range-container-shortcuts-placement-left`]:M.value&&a.value==="left",[`${t.value}-range-container-shortcuts-placement-right`]:M.value&&a.value==="right"}]),h=W("date");jA(w,(K,Y)=>{K&&!Y&&(h.value="date")});function V(K){return ut(Fa(He(K.value)?K.value():K.value),K.format||o.value)}function P(K){e("shortcut-click",V(K),K)}function k(K){e("shortcut-mouse-enter",V(K))}function E(K){e("shortcut-mouse-leave",V(K))}function D(K){e("cell-click",K)}function R(K){e("cell-mouse-enter",K)}function N(){e("confirm")}function _(K){e("time-picker-select",K,"start")}function J(K){e("time-picker-select",K,"end")}function z(K){e("start-header-label-click",K)}function L(K){e("end-header-label-click",K)}function $(K){e("start-header-select",K)}function m(K){e("end-header-select",K)}function B(K){return He(l==null?void 0:l.value)?Y=>{var q;return((q=l==null?void 0:l.value)==null?void 0:q.call(l,Y,K===0?"start":"end"))||!1}:void 0}function y(K){return He(c==null?void 0:c.value)?Y=>{var q;return((q=c==null?void 0:c.value)==null?void 0:q.call(c,Y,K===0?"start":"end"))||!1}:void 0}function T(K){return He(b==null?void 0:b.value)?Y=>{var q;const j={...Y,type:K===0?"start":"end"};return(q=b==null?void 0:b.value)==null?void 0:q.call(b,j)}:void 0}const G=zA({prefixCls:t,shortcuts:n,onItemClick:P,onItemMouseEnter:k,onItemMouseLeave:E}),S=I(()=>({...d.value,rangeValues:i.value,disabledDate:B(0),dateRender:T(0),onSelect:Q.value?$:D,onCellMouseEnter:R,onHeaderLabelClick:z})),O=I(()=>({...u.value,rangeValues:i.value,disabledDate:B(1),dateRender:T(1),onSelect:H.value?m:D,onCellMouseEnter:R,onHeaderLabelClick:L}));return{pick:bn,classNames:F,showShortcuts:M,shortcutsProps:G,startPanelProps:S,endPanelProps:O,getDisabledTimeFunc:y,onConfirmBtnClick:N,currentDateView:h,onStartTimePickerSelect:_,onEndTimePickerSelect:J,onStartHeaderPanelSelect:$,onEndHeaderPanelSelect:m}}});function lv(A,e,t,n,a,o){const r=Z("PanelShortcuts"),i=Z("YearPanel"),l=Z("MonthPanel"),c=Z("WeekPanel"),d=Z("QuarterPanel"),u=Z("DatePanel"),b=Z("RenderFunction"),w=Z("PanelFooter");return v(),g("div",{class:iA(A.classNames)},[A.showShortcuts&&A.shortcutsPosition==="left"?(v(),pA(r,ye(GA({key:0},A.shortcutsProps)),null,16)):tA("v-if",!0),s("div",{class:iA(`${A.prefixCls}-range-panel-wrapper`)},[tA(" panel "),s("div",{class:iA(`${A.prefixCls}-range`)},[s("div",{class:iA(`${A.prefixCls}-range-wrapper`)},[A.startHeaderMode||A.endHeaderMode?(v(),g(vA,{key:0},[A.startHeaderMode==="year"?(v(),pA(i,ye(GA({key:0},A.startPanelProps)),null,16)):tA("v-if",!0),A.endHeaderMode==="year"?(v(),pA(i,ye(GA({key:1},A.endPanelProps)),null,16)):A.startHeaderMode==="month"?(v(),pA(l,GA({key:2},A.startPanelProps,{abbreviation:A.abbreviation}),null,16,["abbreviation"])):A.endHeaderMode==="month"?(v(),pA(l,GA({key:3},A.endPanelProps,{abbreviation:A.abbreviation}),null,16,["abbreviation"])):tA("v-if",!0)],64)):(v(),g(vA,{key:1},[tA(" week "),A.mode==="week"?(v(),g(vA,{key:0},[p(c,GA(A.startPanelProps,{"day-start-of-week":A.dayStartOfWeek}),null,16,["day-start-of-week"]),p(c,GA(A.endPanelProps,{"day-start-of-week":A.dayStartOfWeek}),null,16,["day-start-of-week"])],64)):A.mode==="month"?(v(),g(vA,{key:1},[tA(" month "),p(l,GA(A.startPanelProps,{abbreviation:A.abbreviation}),null,16,["abbreviation"]),p(l,GA(A.endPanelProps,{abbreviation:A.abbreviation}),null,16,["abbreviation"])],64)):A.mode==="year"?(v(),g(vA,{key:2},[tA(" year "),p(i,ye(St(A.startPanelProps)),null,16),p(i,ye(St(A.endPanelProps)),null,16)],64)):A.mode==="quarter"?(v(),g(vA,{key:3},[tA(" quarter "),p(d,ye(St(A.startPanelProps)),null,16),p(d,ye(St(A.endPanelProps)),null,16)],64)):(v(),g(vA,{key:4},[tA(" date "),p(u,GA({currentView:A.currentDateView,"onUpdate:currentView":e[0]||(e[0]=Q=>A.currentDateView=Q)},A.startPanelProps,{"is-range":"",value:A.value&&A.value[0],"footer-value":A.footerValue&&A.footerValue[0],"time-picker-value":A.timePickerValue&&A.timePickerValue[0],"day-start-of-week":A.dayStartOfWeek,"show-time":A.showTime,"time-picker-props":A.timePickerProps,"disabled-time":A.getDisabledTimeFunc(0),disabled:A.disabled[0],onTimePickerSelect:A.onStartTimePickerSelect}),null,16,["currentView","value","footer-value","time-picker-value","day-start-of-week","show-time","time-picker-props","disabled-time","disabled","onTimePickerSelect"]),p(u,GA({currentView:A.currentDateView,"onUpdate:currentView":e[1]||(e[1]=Q=>A.currentDateView=Q)},A.endPanelProps,{"is-range":"",value:A.value&&A.value[1],"footer-value":A.footerValue&&A.footerValue[1],"time-picker-value":A.timePickerValue&&A.timePickerValue[1],"day-start-of-week":A.dayStartOfWeek,"show-time":A.showTime,"time-picker-props":A.timePickerProps,"disabled-time":A.getDisabledTimeFunc(1),disabled:A.disabled[1],onTimePickerSelect:A.onEndTimePickerSelect}),null,16,["currentView","value","footer-value","time-picker-value","day-start-of-week","show-time","time-picker-props","disabled-time","disabled","onTimePickerSelect"])],64))],64))],2)],2),tA(" footer "),p(w,{"prefix-cls":A.prefixCls,"show-today-btn":!1,"show-confirm-btn":A.showConfirmBtn,"confirm-btn-disabled":A.confirmBtnDisabled,onConfirmBtnClick:A.onConfirmBtnClick},kn({_:2},[A.extra||A.$slots.extra?{name:"extra",fn:C(()=>[A.$slots.extra?ie(A.$slots,"extra",{key:0}):(v(),pA(b,{key:1,"render-func":A.extra},null,8,["render-func"]))]),key:"0"}:void 0,A.showShortcuts&&A.shortcutsPosition==="bottom"?{name:"btn",fn:C(()=>[p(r,ye(St(A.shortcutsProps)),null,16)]),key:"1"}:void 0]),1032,["prefix-cls","show-confirm-btn","confirm-btn-disabled","onConfirmBtnClick"])],2),A.showShortcuts&&A.shortcutsPosition==="right"?(v(),pA(r,ye(GA({key:1},A.shortcutsProps)),null,16)):tA("v-if",!0)],2)}var iv=ue(ov,[["render",lv]]);function uv(A){const{timePickerProps:e,selectedValue:t}=ne(A),n=I(()=>{var F;return(F=t==null?void 0:t.value)==null?void 0:F[0]}),a=I(()=>{var F;return(F=t==null?void 0:t.value)==null?void 0:F[1]}),o=I(()=>{var F;return(F=e==null?void 0:e.value)==null?void 0:F.defaultValue}),r=I(()=>Fe(o.value)?{...e==null?void 0:e.value,defaultValue:o.value[0]}:e==null?void 0:e.value),i=I(()=>Fe(o.value)?{...e==null?void 0:e.value,defaultValue:o.value[1]}:e==null?void 0:e.value),[l,c,d]=ka(zA({timePickerProps:r,selectedValue:n})),[u,b,w]=ka(zA({timePickerProps:i,selectedValue:a})),Q=I(()=>[l.value,u.value]);function H(F){F&&(c(F[0]),b(F[1]))}function M(){d(),w()}return[Q,H,M]}const cv=XA({name:"RangePicker",components:{RangePickerPanel:iv,DateRangeInput:rv,Trigger:Do,IconCalendar:nr},inheritAttrs:!1,props:{mode:{type:String,default:"date"},modelValue:{type:Array},defaultValue:{type:Array},pickerValue:{type:Array},defaultPickerValue:{type:Array},disabled:{type:[Boolean,Array],default:!1},dayStartOfWeek:{type:Number,default:0},format:{type:String},valueFormat:{type:String},showTime:{type:Boolean},timePickerProps:{type:Object},placeholder:{type:Array},disabledDate:{type:Function},disabledTime:{type:Function},separator:{type:String},exchangeTime:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},locale:{type:Object},hideTrigger:{type:Boolean},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean},error:{type:Boolean},size:{type:String},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},position:{type:String,default:"bl"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean},triggerProps:{type:Object},unmountOnClose:{type:Boolean},previewShortcut:{type:Boolean,default:!0},showConfirmBtn:{type:Boolean},disabledInput:{type:Boolean,default:!1},abbreviation:{type:Boolean,default:!0}},emits:{change:(A,e,t)=>!0,"update:modelValue":A=>!0,select:(A,e,t)=>!0,"popup-visible-change":A=>!0,"update:popupVisible":A=>!0,ok:(A,e,t)=>!0,clear:()=>!0,"select-shortcut":A=>!0,"picker-value-change":(A,e,t)=>!0,"update:pickerValue":A=>!0},setup(A,{emit:e,slots:t}){const{mode:n,showTime:a,format:o,modelValue:r,defaultValue:i,popupVisible:l,defaultPopupVisible:c,placeholder:d,timePickerProps:u,disabled:b,disabledDate:w,disabledTime:Q,locale:H,pickerValue:M,defaultPickerValue:F,valueFormat:h,size:V,error:P,dayStartOfWeek:k,exchangeTime:E,previewShortcut:D,showConfirmBtn:R}=ne(A),{locale:N}=In(),_=Uo(Pi,void 0);_o(()=>{Xo(N.value,k.value)});const J=I(()=>{var mA;return!(!E.value||!((mA=_==null?void 0:_.exchangeTime)==null||mA))}),{mergedSize:z,mergedDisabled:L,mergedError:$,eventHandlers:m}=_s({size:V,error:P}),B=ul(zA({locale:H})),y=we("picker"),T=I(()=>(d==null?void 0:d.value)||{date:B("datePicker.rangePlaceholder.date"),month:B("datePicker.rangePlaceholder.month"),year:B("datePicker.rangePlaceholder.year"),week:B("datePicker.rangePlaceholder.week"),quarter:B("datePicker.rangePlaceholder.quarter")}[n.value]||B("datePicker.rangePlaceholder.date")),{format:G,valueFormat:S,parseValueFormat:O}=ll(zA({mode:n,format:o,showTime:a,valueFormat:h})),K=I(()=>{const mA=b.value===!0||L.value||Fe(b.value)&&b.value[0]===!0,$A=b.value===!0||L.value||Fe(b.value)&&b.value[1]===!0;return[mA,$A]}),Y=I(()=>K.value[0]&&K.value[1]);function q(mA=0){return K.value[mA]?mA^1:mA}const j=W(),sA=W(q()),wA=I(()=>{const mA=sA.value,$A=mA^1;return K.value[$A]?mA:$A}),fA=I(()=>K.value[sA.value^1]),{value:FA,setValue:UA}=Av(zA({modelValue:r,defaultValue:i,format:O})),[RA,SA]=yt(),[OA,WA]=yt(),YA=I(()=>{var mA;return(mA=RA.value)!=null?mA:FA.value}),xA=I(()=>{var mA,$A;return($A=(mA=OA.value)!=null?mA:RA.value)!=null?$A:FA.value}),[eA,x]=yt(),U=W(),AA=W(),[nA,uA]=Ar(c.value,zA({value:l})),oA=mA=>{nA.value!==mA&&(uA(mA),e("popup-visible-change",mA),e("update:popupVisible",mA))},{startHeaderValue:cA,endHeaderValue:CA,startHeaderOperations:rA,endHeaderOperations:HA,resetHeaderValue:dA,setHeaderValue:DA}=ev(zA({mode:n,startHeaderMode:U,endHeaderMode:AA,value:M,defaultValue:F,selectedValue:xA,format:O,onChange:mA=>{const $A=Xs(mA,S.value),oe=$t(mA,O.value),Be=We(mA);e("picker-value-change",$A,Be,oe),e("update:pickerValue",$A)}}));function aA(mA){U.value=mA}function TA(mA){AA.value=mA}function gA(mA){let $A=cA.value;$A=$A.set("year",mA.year()),U.value==="month"&&($A=$A.set("month",mA.month())),DA([$A,CA.value]),U.value=void 0}function lA(mA){let $A=CA.value;$A=$A.set("year",mA.year()),AA.value==="month"&&($A=$A.set("month",mA.month())),DA([cA.value,$A]),AA.value=void 0}const bA=W([xA.value[0]||xe(),xA.value[1]||xe()]);jA(xA,()=>{const[mA,$A]=xA.value;bA.value[0]=mA||bA.value[0],bA.value[1]=$A||bA.value[1]});const[LA,EA,NA]=uv(zA({timePickerProps:u,selectedValue:xA})),QA=I(()=>n.value==="date"&&a.value),BA=I(()=>QA.value||u.value),KA=il(zA({mode:n,isRange:!0,showTime:a,disabledDate:w,disabledTime:Q})),MA=I(()=>QA.value||R.value),VA=I(()=>MA.value&&(!gt(YA.value)||KA(YA.value[0],"start")||KA(YA.value[1],"end")));jA(nA,mA=>{U.value=void 0,AA.value=void 0,SA(void 0),WA(void 0),mA&&(dA(),NA(),sA.value=q(sA.value),Us(()=>PA(sA.value))),mA||x(void 0)}),jA(sA,()=>{A.disabledInput&&(PA(sA.value),x(void 0))});function Qe(mA,$A){var oe,Be;const Te=mA?Xs(mA,S.value):void 0,st=$t(mA,O.value),gr=We(mA);zo(mA,FA.value)&&(e("update:modelValue",Te),e("change",Te,gr,st),(Be=(oe=m.value)==null?void 0:oe.onChange)==null||Be.call(oe)),$A&&e("ok",Te,gr,st)}function de(mA){let $A=fs(mA);return BA.value&&!J.value&&($A=[ce($A[0],mA[0]),ce($A[1],mA[1])]),$A}function me(mA,$A,oe){if(KA(mA==null?void 0:mA[0],"start")||KA(mA==null?void 0:mA[1],"end"))return;let Be=mA?[...mA]:void 0;gt(Be)&&(Be=de(Be)),Qe(Be,oe),UA(Be||[]),SA(void 0),WA(void 0),x(void 0),U.value=void 0,AA.value=void 0,Mo($A)&&oA($A)}function ge(mA){const $A=Xs(mA,S.value),oe=$t(mA,O.value),Be=We(mA);e("select",$A,Be,oe)}function re(mA,$A){const{emitSelect:oe=!1,updateHeader:Be=!1}=$A||{};let Te=[...mA];gt(Te)&&(Te=de(Te)),SA(Te),WA(void 0),x(void 0),U.value=void 0,AA.value=void 0,oe&&ge(Te),Be&&dA()}function hA(mA,$A){const{updateHeader:oe=!1}=$A||{};WA(mA),x(void 0),oe&&dA()}function PA(mA){j.value&&j.value.focus&&j.value.focus(mA)}function ce(mA,$A){return BA.value?Zo(xe(),mA,$A):mA}function Xe(mA){oA(mA)}function nt(mA){if(RA.value&&xA.value[wA.value]&&(!MA.value||!gt(RA.value))){const $A=[...xA.value],oe=ce(mA,LA.value[sA.value]);$A[sA.value]=oe,hA($A)}}function en(mA=!1){return fA.value?[...FA.value]:RA.value?mA||!gt(RA.value)?[...RA.value]:[]:mA?[...FA.value]:[]}function Mn(mA){const $A=en(),oe=ce(mA,LA.value[sA.value]);$A[sA.value]=oe,ge($A),!MA.value&&gt($A)?me($A,!1):(re($A),gt($A)?sA.value=0:sA.value=wA.value)}function hi(mA,$A){const oe=$A==="start"?0:1,Be=ce(LA.value[oe],mA),Te=[...LA.value];Te[oe]=Be,EA(Te);const st=en(!0);st[oe]&&(st[oe]=Be,re(st,{emitSelect:!0}))}let Kn;kt(()=>{clearTimeout(Kn)});function wi(mA){clearTimeout(Kn),hA(mA,{updateHeader:!0})}function Ci(){clearTimeout(Kn),Kn=setTimeout(()=>{WA(void 0),x(void 0),dA()},100)}function Qi(mA,$A){e("select-shortcut",$A),me(mA,!1)}function yi(){me(xA.value,!1,!0)}function bi(mA){mA.stopPropagation(),me(void 0),e("clear")}function Fi(mA){oA(!0);const $A=mA.target.value;if(!$A){x(void 0);return}const oe=$t(xA.value,G.value),Be=Fe(eA.value)?[...eA.value]:oe||[];if(Be[sA.value]=$A,x(Be),!Jo($A,G.value))return;const Te=Ee($A,G.value);if(KA(Te,sA.value===0?"start":"end"))return;const st=Fe(xA.value)?[...xA.value]:[];st[sA.value]=Te,re(st,{updateHeader:!0})}function Ui(){Oc(xA.value)?me(xA.value,!1):sA.value=wA.value}const _i=I(()=>({format:G.value,...Lo((u==null?void 0:u.value)||{},["defaultValue"]),visible:nA.value})),fr=I(()=>({prev:t["icon-prev"],prevDouble:t["icon-prev-double"],next:t["icon-next"],nextDouble:t["icon-next-double"]})),ki=zA({headerValue:cA,headerOperations:rA,headerIcons:fr}),Ii=zA({headerValue:CA,headerOperations:HA,headerIcons:fr}),Hi=I(()=>({...bn(A,["mode","showTime","shortcuts","shortcutsPosition","dayStartOfWeek","disabledDate","disabledTime","hideTrigger","abbreviation"]),prefixCls:y,format:O.value,value:xA.value,showConfirmBtn:MA.value,confirmBtnDisabled:VA.value,timePickerValue:LA.value,timePickerProps:_i.value,extra:t.extra,dateRender:t.cell,startHeaderProps:ki,endHeaderProps:Ii,footerValue:bA.value,disabled:K.value,visible:nA.value,onCellClick:Mn,onCellMouseEnter:nt,onShortcutClick:Qi,onShortcutMouseEnter:D.value?wi:void 0,onShortcutMouseLeave:D.value?Ci:void 0,onConfirm:yi,onTimePickerSelect:hi,startHeaderMode:U.value,endHeaderMode:AA.value,onStartHeaderLabelClick:aA,onEndHeaderLabelClick:TA,onStartHeaderSelect:gA,onEndHeaderSelect:lA}));return{prefixCls:y,refInput:j,computedFormat:G,computedPlaceholder:T,panelVisible:nA,panelValue:xA,inputValue:eA,focusedIndex:sA,triggerDisabled:Y,mergedSize:z,mergedError:$,onPanelVisibleChange:Xe,onInputClear:bi,onInputChange:Fi,onInputPressEnter:Ui,rangePanelProps:Hi}}});function dv(A,e,t,n,a,o){const r=Z("IconCalendar"),i=Z("DateRangeInput"),l=Z("RangePickerPanel"),c=Z("Trigger");return A.hideTrigger?(v(),pA(l,ye(GA({key:1},{...A.$attrs,...A.rangePanelProps})),null,16)):(v(),pA(c,GA({key:0,trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","click-to-close":!1,"popup-offset":4},A.triggerProps,{"unmount-on-close":A.unmountOnClose,position:A.position,disabled:A.triggerDisabled||A.readonly,"popup-visible":A.panelVisible,"popup-container":A.popupContainer,onPopupVisibleChange:A.onPanelVisibleChange}),{content:C(()=>[p(l,ye(St(A.rangePanelProps)),null,16)]),default:C(()=>[ie(A.$slots,"default",{},()=>[p(i,GA({ref:"refInput"},A.$attrs,{focusedIndex:A.focusedIndex,"onUpdate:focusedIndex":e[0]||(e[0]=d=>A.focusedIndex=d),size:A.size,focused:A.panelVisible,visible:A.panelVisible,error:A.error,disabled:A.disabled,readonly:A.readonly||A.disabledInput,"allow-clear":A.allowClear&&!A.readonly,placeholder:A.computedPlaceholder,"input-value":A.inputValue,value:A.panelValue,format:A.computedFormat,onClear:A.onInputClear,onChange:A.onInputChange,onPressEnter:A.onInputPressEnter}),kn({"suffix-icon":C(()=>[ie(A.$slots,"suffix-icon",{},()=>[p(r)])]),separator:C(()=>[ie(A.$slots,"separator",{},()=>[X(f(A.separator||"-"),1)])]),_:2},[A.$slots.prefix?{name:"prefix",fn:C(()=>[ie(A.$slots,"prefix")]),key:"0"}:void 0]),1040,["focusedIndex","size","focused","visible","error","disabled","readonly","allow-clear","placeholder","input-value","value","format","onClear","onChange","onPressEnter"])])]),_:3},16,["unmount-on-close","position","disabled","popup-visible","popup-container","onPopupVisibleChange"]))}var ea=ue(cv,[["render",dv]]);const ar=Object.assign(Js,{WeekPicker:qs,MonthPicker:js,YearPicker:Zs,QuarterPicker:Aa,RangePicker:ea,install:(A,e)=>{To(A,e);const t=$o(e);A.component(t+Js.name,Js),A.component(t+Zs.name,Zs),A.component(t+Aa.name,Aa),A.component(t+js.name,js),A.component(t+qs.name,qs),A.component(t+ea.name,ea)}});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ia=function(A,e){return Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Ia(A,e)};function je(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ia(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ha=function(){return Ha=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ha.apply(this,arguments)};function $e(A,e,t,n){function a(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function i(d){try{c(n.next(d))}catch(u){r(u)}}function l(d){try{c(n.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):a(d.value).then(i,l)}c((n=n.apply(A,[])).next())})}function ke(A,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,r;return r={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function i(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=c[0]&2?a.return:c[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,c[1])).done)return o;switch(a=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,a=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(A,t)}catch(d){c=[6,d],a=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function xn(A,e,t){if(arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return A.concat(o||e)}var ct=function(){function A(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return A.prototype.add=function(e,t,n,a){return new A(this.left+e,this.top+t,this.width+n,this.height+a)},A.fromClientRect=function(e,t){return new A(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},A.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(a){return a.width!==0});return n?new A(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A}(),Ss=function(A,e){return ct.fromClientRect(A,e.getBoundingClientRect())},vv=function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new ct(0,0,n,a)},Ts=function(A){for(var e=[],t=0,n=A.length;t<n;){var a=A.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var o=A.charCodeAt(t++);(o&64512)===56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},fe=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var n=[],a=-1,o="";++a<t;){var r=A[a];r<=65535?n.push(r):(r-=65536,n.push((r>>10)+55296,r%1024+56320)),(a+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},Qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pn=0;Pn<Qr.length;Pn++)fv[Qr.charCodeAt(Pn)]=Pn;var yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",on=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rn=0;Rn<yr.length;Rn++)on[yr.charCodeAt(Rn)]=Rn;var gv=function(A){var e=A.length*.75,t=A.length,n,a=0,o,r,i,l;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)o=on[A.charCodeAt(n)],r=on[A.charCodeAt(n+1)],i=on[A.charCodeAt(n+2)],l=on[A.charCodeAt(n+3)],d[a++]=o<<2|r>>4,d[a++]=(r&15)<<4|i>>2,d[a++]=(i&3)<<6|l&63;return c},Bv=function(A){for(var e=A.length,t=[],n=0;n<e;n+=2)t.push(A[n+1]<<8|A[n]);return t},pv=function(A){for(var e=A.length,t=[],n=0;n<e;n+=4)t.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return t},Lt=5,rr=11,ta=2,mv=rr-Lt,dl=65536>>Lt,hv=1<<Lt,na=hv-1,wv=1024>>Lt,Cv=dl+wv,Qv=Cv,yv=32,bv=Qv+yv,Fv=65536>>rr,Uv=1<<mv,_v=Uv-1,br=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},kv=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},Iv=function(A,e){var t=gv(A),n=Array.isArray(t)?pv(t):new Uint32Array(t),a=Array.isArray(t)?Bv(t):new Uint16Array(t),o=24,r=br(a,o/2,n[4]/2),i=n[5]===2?br(a,(o+n[4])/2):kv(n,Math.ceil((o+n[4])/4));return new Hv(n[0],n[1],n[2],n[3],r,i)},Hv=function(){function A(e,t,n,a,o,r){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=o,this.data=r}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Lt],t=(t<<ta)+(e&na),this.data[t];if(e<=65535)return t=this.index[dl+(e-55296>>Lt)],t=(t<<ta)+(e&na),this.data[t];if(e<this.highStart)return t=bv-Fv+(e>>rr),t=this.index[t],t+=e>>Lt&_v,t=this.index[t],t=(t<<ta)+(e&na),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ev=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vn=0;Vn<Fr.length;Vn++)Ev[Fr.charCodeAt(Vn)]=Vn;var Sv="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ur=50,Tv=1,vl=2,fl=3,$v=4,Dv=5,_r=7,gl=8,kr=9,wt=10,Ea=11,Ir=12,Sa=13,Lv=14,ln=15,Ta=16,Nn=17,tn=18,Mv=19,Hr=20,$a=21,nn=22,sa=23,xt=24,Oe=25,un=26,cn=27,Pt=28,Kv=29,Tt=30,Ov=31,Gn=32,Wn=33,Da=34,La=35,Ma=36,Fn=37,Ka=38,us=39,cs=40,aa=41,Bl=42,xv=43,Pv=[9001,65288],pl="!",JA="×",Yn="÷",Oa=Iv(Sv),at=[Tt,Ma],xa=[Tv,vl,fl,Dv],ml=[wt,gl],Er=[cn,un],Rv=xa.concat(ml),Sr=[Ka,us,cs,Da,La],Vv=[ln,Sa],Nv=function(A,e){e===void 0&&(e="strict");var t=[],n=[],a=[];return A.forEach(function(o,r){var i=Oa.get(o);if(i>Ur?(a.push(!0),i-=Ur):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(r),t.push(Ta);if(i===$v||i===Ea){if(r===0)return n.push(r),t.push(Tt);var l=t[r-1];return Rv.indexOf(l)===-1?(n.push(n[r-1]),t.push(l)):(n.push(r),t.push(Tt))}if(n.push(r),i===Ov)return t.push(e==="strict"?$a:Fn);if(i===Bl||i===Kv)return t.push(Tt);if(i===xv)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(Fn):t.push(Tt);t.push(i)}),[n,t,a]},ra=function(A,e,t,n){var a=n[t];if(Array.isArray(A)?A.indexOf(a)!==-1:A===a)for(var o=t;o<=n.length;){o++;var r=n[o];if(r===e)return!0;if(r!==wt)break}if(a===wt)for(var o=t;o>0;){o--;var i=n[o];if(Array.isArray(A)?A.indexOf(i)!==-1:A===i)for(var l=t;l<=n.length;){l++;var r=n[l];if(r===e)return!0;if(r!==wt)break}if(i!==wt)break}return!1},Tr=function(A,e){for(var t=A;t>=0;){var n=e[t];if(n===wt)t--;else return n}return 0},Gv=function(A,e,t,n,a){if(t[n]===0)return JA;var o=n-1;if(Array.isArray(a)&&a[o]===!0)return JA;var r=o-1,i=o+1,l=e[o],c=r>=0?e[r]:0,d=e[i];if(l===vl&&d===fl)return JA;if(xa.indexOf(l)!==-1)return pl;if(xa.indexOf(d)!==-1||ml.indexOf(d)!==-1)return JA;if(Tr(o,e)===gl)return Yn;if(Oa.get(A[o])===Ea||(l===Gn||l===Wn)&&Oa.get(A[i])===Ea||l===_r||d===_r||l===kr||[wt,Sa,ln].indexOf(l)===-1&&d===kr||[Nn,tn,Mv,xt,Pt].indexOf(d)!==-1||Tr(o,e)===nn||ra(sa,nn,o,e)||ra([Nn,tn],$a,o,e)||ra(Ir,Ir,o,e))return JA;if(l===wt)return Yn;if(l===sa||d===sa)return JA;if(d===Ta||l===Ta)return Yn;if([Sa,ln,$a].indexOf(d)!==-1||l===Lv||c===Ma&&Vv.indexOf(l)!==-1||l===Pt&&d===Ma||d===Hr||at.indexOf(d)!==-1&&l===Oe||at.indexOf(l)!==-1&&d===Oe||l===cn&&[Fn,Gn,Wn].indexOf(d)!==-1||[Fn,Gn,Wn].indexOf(l)!==-1&&d===un||at.indexOf(l)!==-1&&Er.indexOf(d)!==-1||Er.indexOf(l)!==-1&&at.indexOf(d)!==-1||[cn,un].indexOf(l)!==-1&&(d===Oe||[nn,ln].indexOf(d)!==-1&&e[i+1]===Oe)||[nn,ln].indexOf(l)!==-1&&d===Oe||l===Oe&&[Oe,Pt,xt].indexOf(d)!==-1)return JA;if([Oe,Pt,xt,Nn,tn].indexOf(d)!==-1)for(var u=o;u>=0;){var b=e[u];if(b===Oe)return JA;if([Pt,xt].indexOf(b)!==-1)u--;else break}if([cn,un].indexOf(d)!==-1)for(var u=[Nn,tn].indexOf(l)!==-1?r:o;u>=0;){var b=e[u];if(b===Oe)return JA;if([Pt,xt].indexOf(b)!==-1)u--;else break}if(Ka===l&&[Ka,us,Da,La].indexOf(d)!==-1||[us,Da].indexOf(l)!==-1&&[us,cs].indexOf(d)!==-1||[cs,La].indexOf(l)!==-1&&d===cs||Sr.indexOf(l)!==-1&&[Hr,un].indexOf(d)!==-1||Sr.indexOf(d)!==-1&&l===cn||at.indexOf(l)!==-1&&at.indexOf(d)!==-1||l===xt&&at.indexOf(d)!==-1||at.concat(Oe).indexOf(l)!==-1&&d===nn&&Pv.indexOf(A[i])===-1||at.concat(Oe).indexOf(d)!==-1&&l===tn)return JA;if(l===aa&&d===aa){for(var w=t[o],Q=1;w>0&&(w--,e[w]===aa);)Q++;if(Q%2!==0)return JA}return l===Gn&&d===Wn?JA:Yn},Wv=function(A,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Nv(A,e.lineBreak),n=t[0],a=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(i){return[Oe,Tt,Bl].indexOf(i)!==-1?Fn:i}));var r=e.wordBreak==="keep-all"?o.map(function(i,l){return i&&A[l]>=19968&&A[l]<=40959}):void 0;return[n,a,r]},Yv=function(){function A(e,t,n,a){this.codePoints=e,this.required=t===pl,this.start=n,this.end=a}return A.prototype.slice=function(){return fe.apply(void 0,this.codePoints.slice(this.start,this.end))},A}(),zv=function(A,e){var t=Ts(A),n=Wv(t,e),a=n[0],o=n[1],r=n[2],i=t.length,l=0,c=0;return{next:function(){if(c>=i)return{done:!0,value:null};for(var d=JA;c<i&&(d=Gv(t,o,a,++c,r))===JA;);if(d!==JA||c===i){var u=new Yv(t,d,l,c);return l=c,{value:u,done:!1}}return{done:!0,value:null}}}},Xv=1,Jv=2,Dn=4,$r=8,Bs=10,Dr=47,Bn=92,qv=9,jv=32,zn=34,sn=61,Zv=35,Af=36,ef=37,Xn=39,Jn=40,an=41,tf=95,Le=45,nf=33,sf=60,af=62,rf=64,of=91,lf=93,uf=61,cf=123,qn=63,df=125,Lr=124,vf=126,ff=128,Mr=65533,oa=42,Dt=43,gf=44,Bf=58,pf=59,Un=46,mf=0,hf=8,wf=11,Cf=14,Qf=31,yf=127,Ze=-1,hl=48,wl=97,Cl=101,bf=102,Ff=117,Uf=122,Ql=65,yl=69,bl=70,_f=85,kf=90,Ie=function(A){return A>=hl&&A<=57},If=function(A){return A>=55296&&A<=57343},Rt=function(A){return Ie(A)||A>=Ql&&A<=bl||A>=wl&&A<=bf},Hf=function(A){return A>=wl&&A<=Uf},Ef=function(A){return A>=Ql&&A<=kf},Sf=function(A){return Hf(A)||Ef(A)},Tf=function(A){return A>=ff},jn=function(A){return A===Bs||A===qv||A===jv},ps=function(A){return Sf(A)||Tf(A)||A===tf},Kr=function(A){return ps(A)||Ie(A)||A===Le},$f=function(A){return A>=mf&&A<=hf||A===wf||A>=Cf&&A<=Qf||A===yf},mt=function(A,e){return A!==Bn?!1:e!==Bs},Zn=function(A,e,t){return A===Le?ps(e)||mt(e,t):ps(A)?!0:!!(A===Bn&&mt(A,e))},la=function(A,e,t){return A===Dt||A===Le?Ie(e)?!0:e===Un&&Ie(t):Ie(A===Un?e:A)},Df=function(A){var e=0,t=1;(A[e]===Dt||A[e]===Le)&&(A[e]===Le&&(t=-1),e++);for(var n=[];Ie(A[e]);)n.push(A[e++]);var a=n.length?parseInt(fe.apply(void 0,n),10):0;A[e]===Un&&e++;for(var o=[];Ie(A[e]);)o.push(A[e++]);var r=o.length,i=r?parseInt(fe.apply(void 0,o),10):0;(A[e]===yl||A[e]===Cl)&&e++;var l=1;(A[e]===Dt||A[e]===Le)&&(A[e]===Le&&(l=-1),e++);for(var c=[];Ie(A[e]);)c.push(A[e++]);var d=c.length?parseInt(fe.apply(void 0,c),10):0;return t*(a+i*Math.pow(10,-r))*Math.pow(10,l*d)},Lf={type:2},Mf={type:3},Kf={type:4},Of={type:13},xf={type:8},Pf={type:21},Rf={type:9},Vf={type:10},Nf={type:11},Gf={type:12},Wf={type:14},As={type:23},Yf={type:1},zf={type:25},Xf={type:24},Jf={type:26},qf={type:27},jf={type:28},Zf={type:29},Ag={type:31},Pa={type:32},Fl=function(){function A(){this._value=[]}return A.prototype.write=function(e){this._value=this._value.concat(Ts(e))},A.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Pa;)e.push(t),t=this.consumeToken();return e},A.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case zn:return this.consumeStringToken(zn);case Zv:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Kr(t)||mt(n,a)){var o=Zn(t,n,a)?Jv:Xv,r=this.consumeName();return{type:5,value:r,flags:o}}break;case Af:if(this.peekCodePoint(0)===sn)return this.consumeCodePoint(),Of;break;case Xn:return this.consumeStringToken(Xn);case Jn:return Lf;case an:return Mf;case oa:if(this.peekCodePoint(0)===sn)return this.consumeCodePoint(),Wf;break;case Dt:if(la(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case gf:return Kf;case Le:var i=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(la(i,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Zn(i,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Le&&c===af)return this.consumeCodePoint(),this.consumeCodePoint(),Xf;break;case Un:if(la(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Dr:if(this.peekCodePoint(0)===oa)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===oa&&(d=this.consumeCodePoint(),d===Dr))return this.consumeToken();if(d===Ze)return this.consumeToken()}break;case Bf:return Jf;case pf:return qf;case sf:if(this.peekCodePoint(0)===nf&&this.peekCodePoint(1)===Le&&this.peekCodePoint(2)===Le)return this.consumeCodePoint(),this.consumeCodePoint(),zf;break;case rf:var u=this.peekCodePoint(0),b=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Zn(u,b,w)){var r=this.consumeName();return{type:7,value:r}}break;case of:return jf;case Bn:if(mt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case lf:return Zf;case uf:if(this.peekCodePoint(0)===sn)return this.consumeCodePoint(),xf;break;case cf:return Nf;case df:return Gf;case Ff:case _f:var Q=this.peekCodePoint(0),H=this.peekCodePoint(1);return Q===Dt&&(Rt(H)||H===qn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Lr:if(this.peekCodePoint(0)===sn)return this.consumeCodePoint(),Rf;if(this.peekCodePoint(0)===Lr)return this.consumeCodePoint(),Pf;break;case vf:if(this.peekCodePoint(0)===sn)return this.consumeCodePoint(),Vf;break;case Ze:return Pa}return jn(e)?(this.consumeWhiteSpace(),Ag):Ie(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ps(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:fe(e)}},A.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},A.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},A.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},A.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Rt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===qn&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(fe.apply(void 0,e.map(function(l){return l===qn?hl:l})),16),o=parseInt(fe.apply(void 0,e.map(function(l){return l===qn?bl:l})),16);return{type:30,start:a,end:o}}var r=parseInt(fe.apply(void 0,e),16);if(this.peekCodePoint(0)===Le&&Rt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Rt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();var o=parseInt(fe.apply(void 0,i),16);return{type:30,start:r,end:o}}else return{type:30,start:r,end:r}},A.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Jn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Jn?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},A.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ze)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Xn||t===zn){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ze||this.peekCodePoint(0)===an)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),As)}for(;;){var a=this.consumeCodePoint();if(a===Ze||a===an)return{type:22,value:fe.apply(void 0,e)};if(jn(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ze||this.peekCodePoint(0)===an?(this.consumeCodePoint(),{type:22,value:fe.apply(void 0,e)}):(this.consumeBadUrlRemnants(),As);if(a===zn||a===Xn||a===Jn||$f(a))return this.consumeBadUrlRemnants(),As;if(a===Bn)if(mt(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),As;else e.push(a)}},A.prototype.consumeWhiteSpace=function(){for(;jn(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===an||e===Ze)return;mt(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var a=Math.min(t,e);n+=fe.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},A.prototype.consumeStringToken=function(e){var t="",n=0;do{var a=this._value[n];if(a===Ze||a===void 0||a===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(a===Bs)return this._value.splice(0,n),Yf;if(a===Bn){var o=this._value[n+1];o!==Ze&&o!==void 0&&(o===Bs?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):mt(a,o)&&(t+=this.consumeStringSlice(n),t+=fe(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},A.prototype.consumeNumber=function(){var e=[],t=Dn,n=this.peekCodePoint(0);for((n===Dt||n===Le)&&e.push(this.consumeCodePoint());Ie(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Un&&Ie(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=$r;Ie(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===yl||n===Cl)&&((a===Dt||a===Le)&&Ie(o)||Ie(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=$r;Ie(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Df(e),t]},A.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),o=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Zn(a,o,r)){var i=this.consumeName();return{type:15,number:t,flags:n,unit:i}}return a===ef?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},A.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Rt(e)){for(var t=fe(e);Rt(this.peekCodePoint(0))&&t.length<6;)t+=fe(this.consumeCodePoint());jn(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||If(n)||n>1114111?Mr:n}return e===Ze?Mr:e},A.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Kr(t))e+=fe(t);else if(mt(t,this.peekCodePoint(0)))e+=fe(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},A}(),Ul=function(){function A(e){this._tokens=e}return A.create=function(e){var t=new Fl;return t.write(e),new A(t.read())},A.parseValue=function(e){return A.create(e).parseComponentValue()},A.parseValues=function(e){return A.create(e).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},A.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},A.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||tg(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},A.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Pa:e},A.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},A}(),Ln=function(A){return A.type===15},An=function(A){return A.type===17},te=function(A){return A.type===20},eg=function(A){return A.type===0},Ra=function(A,e){return te(A)&&A.value===e},_l=function(A){return A.type!==31},jt=function(A){return A.type!==31&&A.type!==4},et=function(A){var e=[],t=[];return A.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},tg=function(A,e){return e===11&&A.type===12||e===28&&A.type===29?!0:e===2&&A.type===3},Ut=function(A){return A.type===17||A.type===15},pe=function(A){return A.type===16||Ut(A)},kl=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},Ue={type:17,number:0,flags:Dn},or={type:16,number:50,flags:Dn},Ct={type:16,number:100,flags:Dn},dn=function(A,e,t){var n=A[0],a=A[1];return[se(n,e),se(typeof a<"u"?a:n,t)]},se=function(A,e){if(A.type===16)return A.number/100*e;if(Ln(A))switch(A.unit){case"rem":case"em":return 16*A.number;case"px":default:return A.number}return A.number},Il="deg",Hl="grad",El="rad",Sl="turn",$s={name:"angle",parse:function(A,e){if(e.type===15)switch(e.unit){case Il:return Math.PI*e.number/180;case Hl:return Math.PI/200*e.number;case El:return e.number;case Sl:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Tl=function(A){return A.type===15&&(A.unit===Il||A.unit===Hl||A.unit===El||A.unit===Sl)},$l=function(A){var e=A.filter(te).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ue,Ue];case"to top":case"bottom":return Ye(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ue,Ct];case"to right":case"left":return Ye(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ct,Ct];case"to bottom":case"top":return Ye(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ct,Ue];case"to left":case"right":return Ye(270)}return 0},Ye=function(A){return Math.PI*A/180},bt={name:"color",parse:function(A,e){if(e.type===18){var t=ng[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(A,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),o=e.value.substring(2,3);return Qt(parseInt(n+n,16),parseInt(a+a,16),parseInt(o+o,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),o=e.value.substring(2,3),r=e.value.substring(3,4);return Qt(parseInt(n+n,16),parseInt(a+a,16),parseInt(o+o,16),parseInt(r+r,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),o=e.value.substring(4,6);return Qt(parseInt(n,16),parseInt(a,16),parseInt(o,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),o=e.value.substring(4,6),r=e.value.substring(6,8);return Qt(parseInt(n,16),parseInt(a,16),parseInt(o,16),parseInt(r,16)/255)}}if(e.type===20){var i=ot[e.value.toUpperCase()];if(typeof i<"u")return i}return ot.TRANSPARENT}},Ft=function(A){return(255&A)===0},Ce=function(A){var e=255&A,t=255&A>>8,n=255&A>>16,a=255&A>>24;return e<255?"rgba("+a+","+n+","+t+","+e/255+")":"rgb("+a+","+n+","+t+")"},Qt=function(A,e,t,n){return(A<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},Or=function(A,e){if(A.type===17)return A.number;if(A.type===16){var t=e===3?1:255;return e===3?A.number/100*t:Math.round(A.number/100*t)}return 0},xr=function(A,e){var t=e.filter(jt);if(t.length===3){var n=t.map(Or),a=n[0],o=n[1],r=n[2];return Qt(a,o,r,1)}if(t.length===4){var i=t.map(Or),a=i[0],o=i[1],r=i[2],l=i[3];return Qt(a,o,r,l)}return 0};function ia(A,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-A)*t*6+A:t<1/2?e:t<2/3?(e-A)*6*(2/3-t)+A:A}var Pr=function(A,e){var t=e.filter(jt),n=t[0],a=t[1],o=t[2],r=t[3],i=(n.type===17?Ye(n.number):$s.parse(A,n))/(Math.PI*2),l=pe(a)?a.number/100:0,c=pe(o)?o.number/100:0,d=typeof r<"u"&&pe(r)?se(r,1):1;if(l===0)return Qt(c*255,c*255,c*255,1);var u=c<=.5?c*(l+1):c+l-c*l,b=c*2-u,w=ia(b,u,i+1/3),Q=ia(b,u,i),H=ia(b,u,i-1/3);return Qt(w*255,Q*255,H*255,d)},ng={hsl:Pr,hsla:Pr,rgb:xr,rgba:xr},pn=function(A,e){return bt.parse(A,Ul.create(e).parseComponentValue())},ot={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},sg={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(te(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ag={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ds=function(A,e){var t=bt.parse(A,e[0]),n=e[1];return n&&pe(n)?{color:t,stop:n}:{color:t,stop:null}},Rr=function(A,e){var t=A[0],n=A[A.length-1];t.stop===null&&(t.stop=Ue),n.stop===null&&(n.stop=Ct);for(var a=[],o=0,r=0;r<A.length;r++){var i=A[r].stop;if(i!==null){var l=se(i,e);l>o?a.push(l):a.push(o),o=l}else a.push(null)}for(var c=null,r=0;r<a.length;r++){var d=a[r];if(d===null)c===null&&(c=r);else if(c!==null){for(var u=r-c,b=a[c-1],w=(d-b)/(u+1),Q=1;Q<=u;Q++)a[c+Q-1]=w*Q;c=null}}return A.map(function(H,M){var F=H.color;return{color:F,stop:Math.max(Math.min(1,a[M]/e),0)}})},rg=function(A,e,t){var n=e/2,a=t/2,o=se(A[0],e)-n,r=a-se(A[1],t);return(Math.atan2(r,o)+Math.PI*2)%(Math.PI*2)},og=function(A,e,t){var n=typeof A=="number"?A:rg(A,e,t),a=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),o=e/2,r=t/2,i=a/2,l=Math.sin(n-Math.PI/2)*i,c=Math.cos(n-Math.PI/2)*i;return[a,o-c,o+c,r-l,r+l]},Je=function(A,e){return Math.sqrt(A*A+e*e)},Vr=function(A,e,t,n,a){var o=[[0,0],[0,e],[A,0],[A,e]];return o.reduce(function(r,i){var l=i[0],c=i[1],d=Je(t-l,n-c);return(a?d<r.optimumDistance:d>r.optimumDistance)?{optimumCorner:i,optimumDistance:d}:r},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},lg=function(A,e,t,n,a){var o=0,r=0;switch(A.size){case 0:A.shape===0?o=r=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):A.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-n)),r=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(A.shape===0)o=r=Math.min(Je(e,t),Je(e,t-a),Je(e-n,t),Je(e-n,t-a));else if(A.shape===1){var i=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-n)),l=Vr(n,a,e,t,!0),c=l[0],d=l[1];o=Je(c-e,(d-t)/i),r=i*o}break;case 1:A.shape===0?o=r=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-a)):A.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-n)),r=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(A.shape===0)o=r=Math.max(Je(e,t),Je(e,t-a),Je(e-n,t),Je(e-n,t-a));else if(A.shape===1){var i=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-n)),u=Vr(n,a,e,t,!1),c=u[0],d=u[1];o=Je(c-e,(d-t)/i),r=i*o}break}return Array.isArray(A.size)&&(o=se(A.size[0],n),r=A.size.length===2?se(A.size[1],a):o),[o,r]},ig=function(A,e){var t=Ye(180),n=[];return et(e).forEach(function(a,o){if(o===0){var r=a[0];if(r.type===20&&r.value==="to"){t=$l(a);return}else if(Tl(r)){t=$s.parse(A,r);return}}var i=Ds(A,a);n.push(i)}),{angle:t,stops:n,type:1}},es=function(A,e){var t=Ye(180),n=[];return et(e).forEach(function(a,o){if(o===0){var r=a[0];if(r.type===20&&["top","left","right","bottom"].indexOf(r.value)!==-1){t=$l(a);return}else if(Tl(r)){t=($s.parse(A,r)+Ye(270))%Ye(360);return}}var i=Ds(A,a);n.push(i)}),{angle:t,stops:n,type:1}},ug=function(A,e){var t=Ye(180),n=[],a=1,o=0,r=3,i=[];return et(e).forEach(function(l,c){var d=l[0];if(c===0){if(te(d)&&d.value==="linear"){a=1;return}else if(te(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var u=bt.parse(A,d.values[0]);n.push({stop:Ue,color:u})}else if(d.name==="to"){var u=bt.parse(A,d.values[0]);n.push({stop:Ct,color:u})}else if(d.name==="color-stop"){var b=d.values.filter(jt);if(b.length===2){var u=bt.parse(A,b[1]),w=b[0];An(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:u})}}}}),a===1?{angle:(t+Ye(180))%Ye(360),stops:n,type:a}:{size:r,shape:o,stops:n,position:i,type:a}},Dl="closest-side",Ll="farthest-side",Ml="closest-corner",Kl="farthest-corner",Ol="circle",xl="ellipse",Pl="cover",Rl="contain",cg=function(A,e){var t=0,n=3,a=[],o=[];return et(e).forEach(function(r,i){var l=!0;if(i===0){var c=!1;l=r.reduce(function(u,b){if(c)if(te(b))switch(b.value){case"center":return o.push(or),u;case"top":case"left":return o.push(Ue),u;case"right":case"bottom":return o.push(Ct),u}else(pe(b)||Ut(b))&&o.push(b);else if(te(b))switch(b.value){case Ol:return t=0,!1;case xl:return t=1,!1;case"at":return c=!0,!1;case Dl:return n=0,!1;case Pl:case Ll:return n=1,!1;case Rl:case Ml:return n=2,!1;case Kl:return n=3,!1}else if(Ut(b)||pe(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return u},l)}if(l){var d=Ds(A,r);a.push(d)}}),{size:n,shape:t,stops:a,position:o,type:2}},ts=function(A,e){var t=0,n=3,a=[],o=[];return et(e).forEach(function(r,i){var l=!0;if(i===0?l=r.reduce(function(d,u){if(te(u))switch(u.value){case"center":return o.push(or),!1;case"top":case"left":return o.push(Ue),!1;case"right":case"bottom":return o.push(Ct),!1}else if(pe(u)||Ut(u))return o.push(u),!1;return d},l):i===1&&(l=r.reduce(function(d,u){if(te(u))switch(u.value){case Ol:return t=0,!1;case xl:return t=1,!1;case Rl:case Dl:return n=0,!1;case Ll:return n=1,!1;case Ml:return n=2,!1;case Pl:case Kl:return n=3,!1}else if(Ut(u)||pe(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return d},l)),l){var c=Ds(A,r);a.push(c)}}),{size:n,shape:t,stops:a,position:o,type:2}},dg=function(A){return A.type===1},vg=function(A){return A.type===2},lr={name:"image",parse:function(A,e){if(e.type===22){var t={url:e.value,type:0};return A.cache.addImage(e.value),t}if(e.type===18){var n=Vl[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(A,e.values)}throw new Error("Unsupported image type "+e.type)}};function fg(A){return!(A.type===20&&A.value==="none")&&(A.type!==18||!!Vl[A.name])}var Vl={"linear-gradient":ig,"-moz-linear-gradient":es,"-ms-linear-gradient":es,"-o-linear-gradient":es,"-webkit-linear-gradient":es,"radial-gradient":cg,"-moz-radial-gradient":ts,"-ms-radial-gradient":ts,"-o-radial-gradient":ts,"-webkit-radial-gradient":ts,"-webkit-gradient":ug},gg={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return jt(n)&&fg(n)}).map(function(n){return lr.parse(A,n)})}},Bg={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(te(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pg={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,e){return et(e).map(function(t){return t.filter(pe)}).map(kl)}},mg={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,e){return et(e).map(function(t){return t.filter(te).map(function(n){return n.value}).join(" ")}).map(hg)}},hg=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Jt;(function(A){A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover"})(Jt||(Jt={}));var wg={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,e){return et(e).map(function(t){return t.filter(Cg)})}},Cg=function(A){return te(A)||pe(A)},Ls=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Qg=Ls("top"),yg=Ls("right"),bg=Ls("bottom"),Fg=Ls("left"),Ms=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return kl(t.filter(pe))}}},Ug=Ms("top-left"),_g=Ms("top-right"),kg=Ms("bottom-right"),Ig=Ms("bottom-left"),Ks=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Hg=Ks("top"),Eg=Ks("right"),Sg=Ks("bottom"),Tg=Ks("left"),Os=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ln(t)?t.number:0}}},$g=Os("top"),Dg=Os("right"),Lg=Os("bottom"),Mg=Os("left"),Kg={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Og={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},xg={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,e){return e.filter(te).reduce(function(t,n){return t|Pg(n.value)},0)}},Pg=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Rg={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vg={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},ms;(function(A){A.NORMAL="normal",A.STRICT="strict"})(ms||(ms={}));var Ng={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"strict":return ms.STRICT;case"normal":default:return ms.NORMAL}}},Gg={name:"line-height",initialValue:"normal",prefix:!1,type:4},Nr=function(A,e){return te(A)&&A.value==="normal"?1.2*e:A.type===17?e*A.number:pe(A)?se(A,e):e},Wg={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,e){return e.type===20&&e.value==="none"?null:lr.parse(A,e)}},Yg={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Va={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xs=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},zg=xs("top"),Xg=xs("right"),Jg=xs("bottom"),qg=xs("left"),jg={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,e){return e.filter(te).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Zg={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ps=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},AB=Ps("top"),eB=Ps("right"),tB=Ps("bottom"),nB=Ps("left"),sB={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},aB={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},rB={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&Ra(e[0],"none")?[]:et(e).map(function(t){for(var n={color:ot.TRANSPARENT,offsetX:Ue,offsetY:Ue,blur:Ue},a=0,o=0;o<t.length;o++){var r=t[o];Ut(r)?(a===0?n.offsetX=r:a===1?n.offsetY=r:n.blur=r,a++):n.color=bt.parse(A,r)}return n})}},oB={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},lB={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=cB[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},iB=function(A){var e=A.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},uB=function(A){var e=A.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],n=e[1];e[2],e[3];var a=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var r=e[12],i=e[13];return e[14],e[15],e.length===16?[t,n,a,o,r,i]:null},cB={matrix:iB,matrix3d:uB},Gr={type:16,number:50,flags:Dn},dB=[Gr,Gr],vB={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,e){var t=e.filter(pe);return t.length!==2?dB:[t[0],t[1]]}},fB={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},mn;(function(A){A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all"})(mn||(mn={}));var gB={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-all":return mn.BREAK_ALL;case"keep-all":return mn.KEEP_ALL;case"normal":default:return mn.NORMAL}}},BB={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,e){if(e.type===20)return{auto:!0,order:0};if(An(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Nl={name:"time",parse:function(A,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},pB={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,e){return An(e)?e.number:1}},mB={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hB={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,e){return e.filter(te).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},wB={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,e){var t=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},CB={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},QB={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,e){if(An(e))return e.number;if(te(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},yB={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.filter(te).map(function(t){return t.value})}},bB={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},he=function(A,e){return(A&e)!==0},FB={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},UB={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],a=e.filter(_l),o=0;o<a.length;o++){var r=a[o],i=a[o+1];if(r.type===20){var l=i&&An(i)?i.number:1;n.push({counter:r.value,increment:l})}}return n}},_B={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return[];for(var t=[],n=e.filter(_l),a=0;a<n.length;a++){var o=n[a],r=n[a+1];if(te(o)&&o.value!=="none"){var i=r&&An(r)?r.number:0;t.push({counter:o.value,reset:i})}}return t}},kB={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,e){return e.filter(Ln).map(function(t){return Nl.parse(A,t)})}},IB={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],a=e.filter(eg);if(a.length%2!==0)return null;for(var o=0;o<a.length;o+=2){var r=a[o].value,i=a[o+1].value;n.push({open:r,close:i})}return n}},Wr=function(A,e,t){if(!A)return"";var n=A[Math.min(e,A.length-1)];return n?t?n.open:n.close:""},HB={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&Ra(e[0],"none")?[]:et(e).map(function(t){for(var n={color:255,offsetX:Ue,offsetY:Ue,blur:Ue,spread:Ue,inset:!1},a=0,o=0;o<t.length;o++){var r=t[o];Ra(r,"inset")?n.inset=!0:Ut(r)?(a===0?n.offsetX=r:a===1?n.offsetY=r:a===2?n.blur=r:n.spread=r,a++):n.color=bt.parse(A,r)}return n})}},EB={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,e){var t=[0,1,2],n=[];return e.filter(te).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},SB={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},TB={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Ln(e)?e.number:0}},$B=function(){function A(e,t){var n,a;this.animationDuration=IA(e,kB,t.animationDuration),this.backgroundClip=IA(e,sg,t.backgroundClip),this.backgroundColor=IA(e,ag,t.backgroundColor),this.backgroundImage=IA(e,gg,t.backgroundImage),this.backgroundOrigin=IA(e,Bg,t.backgroundOrigin),this.backgroundPosition=IA(e,pg,t.backgroundPosition),this.backgroundRepeat=IA(e,mg,t.backgroundRepeat),this.backgroundSize=IA(e,wg,t.backgroundSize),this.borderTopColor=IA(e,Qg,t.borderTopColor),this.borderRightColor=IA(e,yg,t.borderRightColor),this.borderBottomColor=IA(e,bg,t.borderBottomColor),this.borderLeftColor=IA(e,Fg,t.borderLeftColor),this.borderTopLeftRadius=IA(e,Ug,t.borderTopLeftRadius),this.borderTopRightRadius=IA(e,_g,t.borderTopRightRadius),this.borderBottomRightRadius=IA(e,kg,t.borderBottomRightRadius),this.borderBottomLeftRadius=IA(e,Ig,t.borderBottomLeftRadius),this.borderTopStyle=IA(e,Hg,t.borderTopStyle),this.borderRightStyle=IA(e,Eg,t.borderRightStyle),this.borderBottomStyle=IA(e,Sg,t.borderBottomStyle),this.borderLeftStyle=IA(e,Tg,t.borderLeftStyle),this.borderTopWidth=IA(e,$g,t.borderTopWidth),this.borderRightWidth=IA(e,Dg,t.borderRightWidth),this.borderBottomWidth=IA(e,Lg,t.borderBottomWidth),this.borderLeftWidth=IA(e,Mg,t.borderLeftWidth),this.boxShadow=IA(e,HB,t.boxShadow),this.color=IA(e,Kg,t.color),this.direction=IA(e,Og,t.direction),this.display=IA(e,xg,t.display),this.float=IA(e,Rg,t.cssFloat),this.fontFamily=IA(e,wB,t.fontFamily),this.fontSize=IA(e,CB,t.fontSize),this.fontStyle=IA(e,bB,t.fontStyle),this.fontVariant=IA(e,yB,t.fontVariant),this.fontWeight=IA(e,QB,t.fontWeight),this.letterSpacing=IA(e,Vg,t.letterSpacing),this.lineBreak=IA(e,Ng,t.lineBreak),this.lineHeight=IA(e,Gg,t.lineHeight),this.listStyleImage=IA(e,Wg,t.listStyleImage),this.listStylePosition=IA(e,Yg,t.listStylePosition),this.listStyleType=IA(e,Va,t.listStyleType),this.marginTop=IA(e,zg,t.marginTop),this.marginRight=IA(e,Xg,t.marginRight),this.marginBottom=IA(e,Jg,t.marginBottom),this.marginLeft=IA(e,qg,t.marginLeft),this.opacity=IA(e,pB,t.opacity);var o=IA(e,jg,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=IA(e,Zg,t.overflowWrap),this.paddingTop=IA(e,AB,t.paddingTop),this.paddingRight=IA(e,eB,t.paddingRight),this.paddingBottom=IA(e,tB,t.paddingBottom),this.paddingLeft=IA(e,nB,t.paddingLeft),this.paintOrder=IA(e,EB,t.paintOrder),this.position=IA(e,aB,t.position),this.textAlign=IA(e,sB,t.textAlign),this.textDecorationColor=IA(e,mB,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=IA(e,hB,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=IA(e,rB,t.textShadow),this.textTransform=IA(e,oB,t.textTransform),this.transform=IA(e,lB,t.transform),this.transformOrigin=IA(e,vB,t.transformOrigin),this.visibility=IA(e,fB,t.visibility),this.webkitTextStrokeColor=IA(e,SB,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=IA(e,TB,t.webkitTextStrokeWidth),this.wordBreak=IA(e,gB,t.wordBreak),this.zIndex=IA(e,BB,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},A.prototype.isTransparent=function(){return Ft(this.backgroundColor)},A.prototype.isTransformed=function(){return this.transform!==null},A.prototype.isPositioned=function(){return this.position!==0},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return this.float!==0},A.prototype.isInlineLevel=function(){return he(this.display,4)||he(this.display,33554432)||he(this.display,268435456)||he(this.display,536870912)||he(this.display,67108864)||he(this.display,134217728)},A}(),DB=function(){function A(e,t){this.content=IA(e,FB,t.content),this.quotes=IA(e,IB,t.quotes)}return A}(),Yr=function(){function A(e,t){this.counterIncrement=IA(e,UB,t.counterIncrement),this.counterReset=IA(e,_B,t.counterReset)}return A}(),IA=function(A,e,t){var n=new Fl,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(a);var o=new Ul(n.read());switch(e.type){case 2:var r=o.parseComponentValue();return e.parse(A,te(r)?r.value:e.initialValue);case 0:return e.parse(A,o.parseComponentValue());case 1:return e.parse(A,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return $s.parse(A,o.parseComponentValue());case"color":return bt.parse(A,o.parseComponentValue());case"image":return lr.parse(A,o.parseComponentValue());case"length":var i=o.parseComponentValue();return Ut(i)?i:Ue;case"length-percentage":var l=o.parseComponentValue();return pe(l)?l:Ue;case"time":return Nl.parse(A,o.parseComponentValue())}break}},LB="data-html2canvas-debug",MB=function(A){var e=A.getAttribute(LB);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Na=function(A,e){var t=MB(A);return t===1||e===t},tt=function(){function A(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Na(t,3))debugger;this.styles=new $B(e,window.getComputedStyle(t,null)),Ya(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Ss(this.context,t),Na(t,4)&&(this.flags|=16)}return A}(),KB="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ns=0;ns<zr.length;ns++)vn[zr.charCodeAt(ns)]=ns;var OB=function(A){var e=A.length*.75,t=A.length,n,a=0,o,r,i,l;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)o=vn[A.charCodeAt(n)],r=vn[A.charCodeAt(n+1)],i=vn[A.charCodeAt(n+2)],l=vn[A.charCodeAt(n+3)],d[a++]=o<<2|r>>4,d[a++]=(r&15)<<4|i>>2,d[a++]=(i&3)<<6|l&63;return c},xB=function(A){for(var e=A.length,t=[],n=0;n<e;n+=2)t.push(A[n+1]<<8|A[n]);return t},PB=function(A){for(var e=A.length,t=[],n=0;n<e;n+=4)t.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return t},Mt=5,ir=11,ua=2,RB=ir-Mt,Gl=65536>>Mt,VB=1<<Mt,ca=VB-1,NB=1024>>Mt,GB=Gl+NB,WB=GB,YB=32,zB=WB+YB,XB=65536>>ir,JB=1<<RB,qB=JB-1,Xr=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},jB=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},ZB=function(A,e){var t=OB(A),n=Array.isArray(t)?PB(t):new Uint32Array(t),a=Array.isArray(t)?xB(t):new Uint16Array(t),o=24,r=Xr(a,o/2,n[4]/2),i=n[5]===2?Xr(a,(o+n[4])/2):jB(n,Math.ceil((o+n[4])/4));return new Ap(n[0],n[1],n[2],n[3],r,i)},Ap=function(){function A(e,t,n,a,o,r){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=o,this.data=r}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Mt],t=(t<<ua)+(e&ca),this.data[t];if(e<=65535)return t=this.index[Gl+(e-55296>>Mt)],t=(t<<ua)+(e&ca),this.data[t];if(e<this.highStart)return t=zB-XB+(e>>ir),t=this.index[t],t+=e>>Mt&qB,t=this.index[t],t=(t<<ua)+(e&ca),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),Jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ep=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ss=0;ss<Jr.length;ss++)ep[Jr.charCodeAt(ss)]=ss;var tp=1,da=2,va=3,qr=4,jr=5,np=7,Zr=8,fa=9,ga=10,Ao=11,eo=12,to=13,no=14,Ba=15,sp=function(A){for(var e=[],t=0,n=A.length;t<n;){var a=A.charCodeAt(t++);if(a>=55296&&a<=56319&&t<n){var o=A.charCodeAt(t++);(o&64512)===56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},ap=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var n=[],a=-1,o="";++a<t;){var r=A[a];r<=65535?n.push(r):(r-=65536,n.push((r>>10)+55296,r%1024+56320)),(a+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},rp=ZB(KB),Ve="×",pa="÷",op=function(A){return rp.get(A)},lp=function(A,e,t){var n=t-2,a=e[n],o=e[t-1],r=e[t];if(o===da&&r===va)return Ve;if(o===da||o===va||o===qr||r===da||r===va||r===qr)return pa;if(o===Zr&&[Zr,fa,Ao,eo].indexOf(r)!==-1||(o===Ao||o===fa)&&(r===fa||r===ga)||(o===eo||o===ga)&&r===ga||r===to||r===jr||r===np||o===tp)return Ve;if(o===to&&r===no){for(;a===jr;)a=e[--n];if(a===no)return Ve}if(o===Ba&&r===Ba){for(var i=0;a===Ba;)i++,a=e[--n];if(i%2===0)return Ve}return pa},ip=function(A){var e=sp(A),t=e.length,n=0,a=0,o=e.map(op);return{next:function(){if(n>=t)return{done:!0,value:null};for(var r=Ve;n<t&&(r=lp(e,o,++n))===Ve;);if(r!==Ve||n===t){var i=ap.apply(null,e.slice(a,n));return a=n,{value:i,done:!1}}return{done:!0,value:null}}}},up=function(A){for(var e=ip(A),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},cp=function(A){var e=123;if(A.createRange){var t=A.createRange();if(t.getBoundingClientRect){var n=A.createElement("boundtest");n.style.height=e+"px",n.style.display="block",A.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),o=Math.round(a.height);if(A.body.removeChild(n),o===e)return!0}}return!1},dp=function(A){var e=A.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",A.body.appendChild(e);var t=A.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=Ts(n.data).map(function(l){return fe(l)}),o=0,r={},i=a.every(function(l,c){t.setStart(n,o),t.setEnd(n,o+l.length);var d=t.getBoundingClientRect();o+=l.length;var u=d.x>r.x||d.y>r.y;return r=d,c===0?!0:u});return A.body.removeChild(e),i},vp=function(){return typeof new Image().crossOrigin<"u"},fp=function(){return typeof new XMLHttpRequest().responseType=="string"},gp=function(A){var e=new Image,t=A.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},so=function(A){return A[0]===0&&A[1]===255&&A[2]===0&&A[3]===255},Bp=function(A){var e=A.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var a=new Image,o=e.toDataURL();a.src=o;var r=Ga(t,t,0,0,a);return n.fillStyle="red",n.fillRect(0,0,t,t),ao(r).then(function(i){n.drawImage(i,0,0);var l=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var c=A.createElement("div");return c.style.backgroundImage="url("+o+")",c.style.height=t+"px",so(l)?ao(Ga(t,t,0,0,c)):Promise.reject(!1)}).then(function(i){return n.drawImage(i,0,0),so(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Ga=function(A,e,t,n,a){var o="http://www.w3.org/2000/svg",r=document.createElementNS(o,"svg"),i=document.createElementNS(o,"foreignObject");return r.setAttributeNS(null,"width",A.toString()),r.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"x",t.toString()),i.setAttributeNS(null,"y",n.toString()),i.setAttributeNS(null,"externalResourcesRequired","true"),r.appendChild(i),i.appendChild(a),r},ao=function(A){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},be={get SUPPORT_RANGE_BOUNDS(){var A=cp(document);return Object.defineProperty(be,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=be.SUPPORT_RANGE_BOUNDS&&dp(document);return Object.defineProperty(be,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=gp(document);return Object.defineProperty(be,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A=typeof Array.from=="function"&&typeof window.fetch=="function"?Bp(document):Promise.resolve(!1);return Object.defineProperty(be,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=vp();return Object.defineProperty(be,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=fp();return Object.defineProperty(be,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(be,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(be,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},hn=function(){function A(e,t){this.text=e,this.bounds=t}return A}(),pp=function(A,e,t,n){var a=wp(e,t),o=[],r=0;return a.forEach(function(i){if(t.textDecorationLine.length||i.trim().length>0)if(be.SUPPORT_RANGE_BOUNDS){var l=ro(n,r,i.length).getClientRects();if(l.length>1){var c=ur(i),d=0;c.forEach(function(b){o.push(new hn(b,ct.fromDOMRectList(A,ro(n,d+r,b.length).getClientRects()))),d+=b.length})}else o.push(new hn(i,ct.fromDOMRectList(A,l)))}else{var u=n.splitText(i.length);o.push(new hn(i,mp(A,n))),n=u}else be.SUPPORT_RANGE_BOUNDS||(n=n.splitText(i.length));r+=i.length}),o},mp=function(A,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var o=Ss(A,n);return n.firstChild&&a.replaceChild(n.firstChild,n),o}}return ct.EMPTY},ro=function(A,e,t){var n=A.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(A,e),a.setEnd(A,e+t),a},ur=function(A){if(be.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(A)).map(function(t){return t.segment})}return up(A)},hp=function(A,e){if(be.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(A)).map(function(n){return n.segment})}return Qp(A,e)},wp=function(A,e){return e.letterSpacing!==0?ur(A):hp(A,e)},Cp=[32,160,4961,65792,65793,4153,4241],Qp=function(A,e){for(var t=zv(A,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,o=function(){if(a.value){var r=a.value.slice(),i=Ts(r),l="";i.forEach(function(c){Cp.indexOf(c)===-1?l+=fe(c):(l.length&&n.push(l),n.push(fe(c)),l="")}),l.length&&n.push(l)}};!(a=t.next()).done;)o();return n},yp=function(){function A(e,t,n){this.text=bp(t.data,n.textTransform),this.textBounds=pp(e,this.text,n,t)}return A}(),bp=function(A,e){switch(e){case 1:return A.toLowerCase();case 3:return A.replace(Fp,Up);case 2:return A.toUpperCase();default:return A}},Fp=/(^|\s|:|-|\(|\))([a-z])/g,Up=function(A,e,t){return A.length>0?e+t.toUpperCase():A},Wl=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(tt),Yl=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(tt),zl=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this,o=new XMLSerializer,r=Ss(t,n);return n.setAttribute("width",r.width+"px"),n.setAttribute("height",r.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(tt),Xl=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.value=n.value,a}return e}(tt),Wa=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(tt),_p=[{type:15,flags:0,unit:"px",number:3}],kp=[{type:16,flags:0,number:50}],Ip=function(A){return A.width>A.height?new ct(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new ct(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A},Hp=function(A){var e=A.type===Ep?new Array(A.value.length+1).join("•"):A.value;return e.length===0?A.placeholder||"":e},hs="checkbox",ws="radio",Ep="password",oo=707406591,cr=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Hp(n),(a.type===hs||a.type===ws)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Ip(a.bounds)),a.type){case hs:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=_p;break;case ws:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=kp;break}return a}return e}(tt),Jl=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return a.value=o&&o.text||"",a}return e}(tt),ql=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.value=n.value,a}return e}(tt),jl=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Ai(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?pn(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ot.TRANSPARENT,r=n.contentWindow.document.body?pn(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):ot.TRANSPARENT;a.backgroundColor=Ft(o)?Ft(r)?a.styles.backgroundColor:r:o}}catch{}return a}return e}(tt),Sp=["OL","UL","MENU"],ds=function(A,e,t,n){for(var a=e.firstChild,o=void 0;a;a=o)if(o=a.nextSibling,ei(a)&&a.data.trim().length>0)t.textNodes.push(new yp(A,a,t.styles));else if(Xt(a))if(ai(a)&&a.assignedNodes)a.assignedNodes().forEach(function(i){return ds(A,i,t,n)});else{var r=Zl(A,a);r.styles.isVisible()&&(Tp(a,r,n)?r.flags|=4:$p(r.styles)&&(r.flags|=2),Sp.indexOf(a.tagName)!==-1&&(r.flags|=8),t.elements.push(r),a.slot,a.shadowRoot?ds(A,a.shadowRoot,r,n):!Cs(a)&&!ti(a)&&!Qs(a)&&ds(A,a,r,n))}},Zl=function(A,e){return za(e)?new Wl(A,e):ni(e)?new Yl(A,e):ti(e)?new zl(A,e):Dp(e)?new Xl(A,e):Lp(e)?new Wa(A,e):Mp(e)?new cr(A,e):Qs(e)?new Jl(A,e):Cs(e)?new ql(A,e):si(e)?new jl(A,e):new tt(A,e)},Ai=function(A,e){var t=Zl(A,e);return t.flags|=4,ds(A,e,t,t),t},Tp=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||dr(A)&&t.styles.isTransparent()},$p=function(A){return A.isPositioned()||A.isFloating()},ei=function(A){return A.nodeType===Node.TEXT_NODE},Xt=function(A){return A.nodeType===Node.ELEMENT_NODE},Ya=function(A){return Xt(A)&&typeof A.style<"u"&&!vs(A)},vs=function(A){return typeof A.className=="object"},Dp=function(A){return A.tagName==="LI"},Lp=function(A){return A.tagName==="OL"},Mp=function(A){return A.tagName==="INPUT"},Kp=function(A){return A.tagName==="HTML"},ti=function(A){return A.tagName==="svg"},dr=function(A){return A.tagName==="BODY"},ni=function(A){return A.tagName==="CANVAS"},lo=function(A){return A.tagName==="VIDEO"},za=function(A){return A.tagName==="IMG"},si=function(A){return A.tagName==="IFRAME"},io=function(A){return A.tagName==="STYLE"},Op=function(A){return A.tagName==="SCRIPT"},Cs=function(A){return A.tagName==="TEXTAREA"},Qs=function(A){return A.tagName==="SELECT"},ai=function(A){return A.tagName==="SLOT"},uo=function(A){return A.tagName.indexOf("-")>0},xp=function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},A.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},A.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,o=!0;n!==null&&n.forEach(function(i){var l=t.counters[i.counter];l&&i.increment!==0&&(o=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=i.increment)});var r=[];return o&&a.forEach(function(i){var l=t.counters[i.counter];r.push(i.counter),l||(l=t.counters[i.counter]=[]),l.push(i.reset)}),r},A}(),co={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},vo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Pp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Rp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Vt=function(A,e,t,n,a,o){return A<e||A>t?_n(A,a,o.length>0):n.integers.reduce(function(r,i,l){for(;A>=i;)A-=i,r+=n.values[l];return r},"")+o},ri=function(A,e,t,n){var a="";do t||A--,a=n(A)+a,A/=e;while(A*e>=e);return a},ve=function(A,e,t,n,a){var o=t-e+1;return(A<0?"-":"")+(ri(Math.abs(A),o,n,function(r){return fe(Math.floor(r%o)+e)})+a)},Et=function(A,e,t){t===void 0&&(t=". ");var n=e.length;return ri(Math.abs(A),n,!1,function(a){return e[Math.floor(a%n)]})+t},Wt=1,Bt=2,pt=4,fn=8,rt=function(A,e,t,n,a,o){if(A<-9999||A>9999)return _n(A,4,a.length>0);var r=Math.abs(A),i=a;if(r===0)return e[0]+i;for(var l=0;r>0&&l<=4;l++){var c=r%10;c===0&&he(o,Wt)&&i!==""?i=e[c]+i:c>1||c===1&&l===0||c===1&&l===1&&he(o,Bt)||c===1&&l===1&&he(o,pt)&&A>100||c===1&&l>1&&he(o,fn)?i=e[c]+(l>0?t[l-1]:"")+i:c===1&&l>0&&(i=t[l-1]+i),r=Math.floor(r/10)}return(A<0?n:"")+i},fo="十百千萬",go="拾佰仟萬",Bo="マイナス",ma="마이너스",_n=function(A,e,t){var n=t?". ":"",a=t?"、":"",o=t?", ":"",r=t?" ":"";switch(e){case 0:return"•"+r;case 1:return"◦"+r;case 2:return"◾"+r;case 5:var i=ve(A,48,57,!0,n);return i.length<4?"0"+i:i;case 4:return Et(A,"〇一二三四五六七八九",a);case 6:return Vt(A,1,3999,co,3,n).toLowerCase();case 7:return Vt(A,1,3999,co,3,n);case 8:return ve(A,945,969,!1,n);case 9:return ve(A,97,122,!1,n);case 10:return ve(A,65,90,!1,n);case 11:return ve(A,1632,1641,!0,n);case 12:case 49:return Vt(A,1,9999,vo,3,n);case 35:return Vt(A,1,9999,vo,3,n).toLowerCase();case 13:return ve(A,2534,2543,!0,n);case 14:case 30:return ve(A,6112,6121,!0,n);case 15:return Et(A,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return Et(A,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return rt(A,"零一二三四五六七八九",fo,"負",a,Bt|pt|fn);case 47:return rt(A,"零壹貳參肆伍陸柒捌玖",go,"負",a,Wt|Bt|pt|fn);case 42:return rt(A,"零一二三四五六七八九",fo,"负",a,Bt|pt|fn);case 41:return rt(A,"零壹贰叁肆伍陆柒捌玖",go,"负",a,Wt|Bt|pt|fn);case 26:return rt(A,"〇一二三四五六七八九","十百千万",Bo,a,0);case 25:return rt(A,"零壱弐参四伍六七八九","拾百千万",Bo,a,Wt|Bt|pt);case 31:return rt(A,"영일이삼사오육칠팔구","십백천만",ma,o,Wt|Bt|pt);case 33:return rt(A,"零一二三四五六七八九","十百千萬",ma,o,0);case 32:return rt(A,"零壹貳參四五六七八九","拾百千",ma,o,Wt|Bt|pt);case 18:return ve(A,2406,2415,!0,n);case 20:return Vt(A,1,19999,Rp,3,n);case 21:return ve(A,2790,2799,!0,n);case 22:return ve(A,2662,2671,!0,n);case 22:return Vt(A,1,10999,Pp,3,n);case 23:return Et(A,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Et(A,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return ve(A,3302,3311,!0,n);case 28:return Et(A,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return Et(A,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return ve(A,3792,3801,!0,n);case 37:return ve(A,6160,6169,!0,n);case 38:return ve(A,4160,4169,!0,n);case 39:return ve(A,2918,2927,!0,n);case 40:return ve(A,1776,1785,!0,n);case 43:return ve(A,3046,3055,!0,n);case 44:return ve(A,3174,3183,!0,n);case 45:return ve(A,3664,3673,!0,n);case 46:return ve(A,3872,3881,!0,n);case 3:default:return ve(A,48,57,!0,n)}},oi="data-html2canvas-ignore",po=function(){function A(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new xp,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(e,t){var n=this,a=Vp(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,r=e.defaultView.pageYOffset,i=a.contentWindow,l=i.document,c=Wp(a).then(function(){return $e(n,void 0,void 0,function(){var d,u;return ke(this,function(b){switch(b.label){case 0:return this.scrolledElements.forEach(Jp),i&&(i.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(i.scrollY!==t.top||i.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(i.scrollX-t.left,i.scrollY-t.top,0,0))),d=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:b.sent(),b.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Gp(l)]:[3,4];case 3:b.sent(),b.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,u)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(zp(document.doctype)+"<html></html>"),Xp(this.referenceElement.ownerDocument,o,r),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},A.prototype.createElementClone=function(e){if(Na(e,2))debugger;if(ni(e))return this.createCanvasClone(e);if(lo(e))return this.createVideoClone(e);if(io(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return za(t)&&(za(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),uo(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return ha(e.style,t),t},A.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(o,r){return r&&typeof r.cssText=="string"?o+r.cssText:o},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},A.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var o=e.getContext("2d"),r=a.getContext("2d");if(r)if(!this.options.allowTaint&&o)r.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var i=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(i){var l=i.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}r.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},A.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},A.prototype.appendChildNode=function(e,t,n){(!Xt(t)||!Op(t)&&!t.hasAttribute(oi)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Xt(t)||!io(t))&&e.appendChild(this.cloneNode(t,n))},A.prototype.cloneChildNodes=function(e,t,n){for(var a=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(Xt(o)&&ai(o)&&typeof o.assignedNodes=="function"){var r=o.assignedNodes();r.length&&r.forEach(function(i){return a.appendChildNode(t,i,n)})}else this.appendChildNode(t,o,n)},A.prototype.cloneNode=function(e,t){if(ei(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Xt(e)&&(Ya(e)||vs(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var o=n.getComputedStyle(e),r=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&Ya(a)&&(this.clonedReferenceElement=a),dr(a)&&Zp(a);var l=this.counters.parse(new Yr(this.context,o)),c=this.resolvePseudoContent(e,a,r,wn.BEFORE);uo(e)&&(t=!0),lo(e)||this.cloneChildNodes(e,a,t),c&&a.insertBefore(c,a.firstChild);var d=this.resolvePseudoContent(e,a,i,wn.AFTER);return d&&a.appendChild(d),this.counters.pop(l),(o&&(this.options.copyStyles||vs(e))&&!si(e)||t)&&ha(o,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Cs(e)||Qs(e))&&(Cs(a)||Qs(a))&&(a.value=e.value),a}return e.cloneNode(!1)},A.prototype.resolvePseudoContent=function(e,t,n,a){var o=this;if(n){var r=n.content,i=t.ownerDocument;if(!(!i||!r||r==="none"||r==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Yr(this.context,n));var l=new DB(this.context,n),c=i.createElement("html2canvaspseudoelement");ha(n,c),l.content.forEach(function(u){if(u.type===0)c.appendChild(i.createTextNode(u.value));else if(u.type===22){var b=i.createElement("img");b.src=u.value,b.style.opacity="1",c.appendChild(b)}else if(u.type===18){if(u.name==="attr"){var w=u.values.filter(te);w.length&&c.appendChild(i.createTextNode(e.getAttribute(w[0].value)||""))}else if(u.name==="counter"){var Q=u.values.filter(jt),H=Q[0],M=Q[1];if(H&&te(H)){var F=o.counters.getCounterValue(H.value),h=M&&te(M)?Va.parse(o.context,M.value):3;c.appendChild(i.createTextNode(_n(F,h,!1)))}}else if(u.name==="counters"){var V=u.values.filter(jt),H=V[0],P=V[1],M=V[2];if(H&&te(H)){var k=o.counters.getCounterValues(H.value),E=M&&te(M)?Va.parse(o.context,M.value):3,D=P&&P.type===0?P.value:"",R=k.map(function(J){return _n(J,E,!1)}).join(D);c.appendChild(i.createTextNode(R))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(i.createTextNode(Wr(l.quotes,o.quoteDepth++,!0)));break;case"close-quote":c.appendChild(i.createTextNode(Wr(l.quotes,--o.quoteDepth,!1)));break;default:c.appendChild(i.createTextNode(u.value))}}),c.className=Xa+" "+Ja;var d=a===wn.BEFORE?" "+Xa:" "+Ja;return vs(t)?t.className.baseValue+=d:t.className+=d,c}}},A.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},A}(),wn;(function(A){A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER"})(wn||(wn={}));var Vp=function(A,e){var t=A.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(oi,"true"),A.body.appendChild(t),t},Np=function(A){return new Promise(function(e){if(A.complete){e();return}if(!A.src){e();return}A.onload=e,A.onerror=e})},Gp=function(A){return Promise.all([].slice.call(A.images,0).map(Np))},Wp=function(A){return new Promise(function(e,t){var n=A.contentWindow;if(!n)return t("No window assigned for iframe");var a=n.document;n.onload=A.onload=function(){n.onload=A.onload=null;var o=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(o),e(A))},50)}})},Yp=["all","d","content"],ha=function(A,e){for(var t=A.length-1;t>=0;t--){var n=A.item(t);Yp.indexOf(n)===-1&&e.style.setProperty(n,A.getPropertyValue(n))}return e},zp=function(A){var e="";return A&&(e+="<!DOCTYPE ",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='"'+A.publicId+'"'),A.systemId&&(e+='"'+A.systemId+'"'),e+=">"),e},Xp=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},Jp=function(A){var e=A[0],t=A[1],n=A[2];e.scrollLeft=t,e.scrollTop=n},qp=":before",jp=":after",Xa="___html2canvas___pseudoelement_before",Ja="___html2canvas___pseudoelement_after",mo=`{
    content: "" !important;
    display: none !important;
}`,Zp=function(A){A0(A,"."+Xa+qp+mo+`
         .`+Ja+jp+mo)},A0=function(A,e){var t=A.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,A.appendChild(n)}},li=function(){function A(){}return A.getOrigin=function(e){var t=A._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},A.isSameOrigin=function(e){return A.getOrigin(e)===A._origin},A.setContext=function(e){A._link=e.document.createElement("a"),A._origin=A.getOrigin(e.location.href)},A._origin="about:blank",A}(),e0=function(){function A(e,t){this.context=e,this._options=t,this._cache={}}return A.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Ca(e)||a0(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},A.prototype.match=function(e){return this._cache[e]},A.prototype.loadImage=function(e){return $e(this,void 0,void 0,function(){var t,n,a,o,r=this;return ke(this,function(i){switch(i.label){case 0:return t=li.isSameOrigin(e),n=!wa(e)&&this._options.useCORS===!0&&be.SUPPORT_CORS_IMAGES&&!t,a=!wa(e)&&!t&&!Ca(e)&&typeof this._options.proxy=="string"&&be.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!wa(e)&&!Ca(e)&&!a&&!n?[2]:(o=e,a?[4,this.proxy(o)]:[3,2]);case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var d=new Image;d.onload=function(){return l(d)},d.onerror=c,(r0(o)||n)&&(d.crossOrigin="anonymous"),d.src=o,d.complete===!0&&setTimeout(function(){return l(d)},500),r._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+r._options.imageTimeout+"ms) loading image")},r._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},A.prototype.has=function(e){return typeof this._cache[e]<"u"},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(o,r){var i=be.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(i==="text")o(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return o(u.result)},!1),u.addEventListener("error",function(b){return r(b)},!1),u.readAsDataURL(l.response)}else r("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=r;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+i),i!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=i),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return r("Timed out ("+d+"ms) proxying "+a)}}l.send()})},A}(),t0=/^data:image\/svg\+xml/i,n0=/^data:image\/.*;base64,/i,s0=/^data:image\/.*/i,a0=function(A){return be.SUPPORT_SVG_DRAWING||!o0(A)},wa=function(A){return s0.test(A)},r0=function(A){return n0.test(A)},Ca=function(A){return A.substr(0,4)==="blob"},o0=function(A){return A.substr(-3).toLowerCase()==="svg"||t0.test(A)},kA=function(){function A(e,t){this.type=0,this.x=e,this.y=t}return A.prototype.add=function(e,t){return new A(this.x+e,this.y+t)},A}(),Nt=function(A,e,t){return new kA(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)},as=function(){function A(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return A.prototype.subdivide=function(e,t){var n=Nt(this.start,this.startControl,e),a=Nt(this.startControl,this.endControl,e),o=Nt(this.endControl,this.end,e),r=Nt(n,a,e),i=Nt(a,o,e),l=Nt(r,i,e);return t?new A(this.start,n,r,l):new A(l,i,o,this.end)},A.prototype.add=function(e,t){return new A(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A}(),Ne=function(A){return A.type===1},l0=function(){function A(e){var t=e.styles,n=e.bounds,a=dn(t.borderTopLeftRadius,n.width,n.height),o=a[0],r=a[1],i=dn(t.borderTopRightRadius,n.width,n.height),l=i[0],c=i[1],d=dn(t.borderBottomRightRadius,n.width,n.height),u=d[0],b=d[1],w=dn(t.borderBottomLeftRadius,n.width,n.height),Q=w[0],H=w[1],M=[];M.push((o+l)/n.width),M.push((Q+u)/n.width),M.push((r+H)/n.height),M.push((c+b)/n.height);var F=Math.max.apply(Math,M);F>1&&(o/=F,r/=F,l/=F,c/=F,u/=F,b/=F,Q/=F,H/=F);var h=n.width-l,V=n.height-b,P=n.width-u,k=n.height-H,E=t.borderTopWidth,D=t.borderRightWidth,R=t.borderBottomWidth,N=t.borderLeftWidth,_=se(t.paddingTop,e.bounds.width),J=se(t.paddingRight,e.bounds.width),z=se(t.paddingBottom,e.bounds.width),L=se(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||r>0?le(n.left+N/3,n.top+E/3,o-N/3,r-E/3,ee.TOP_LEFT):new kA(n.left+N/3,n.top+E/3),this.topRightBorderDoubleOuterBox=o>0||r>0?le(n.left+h,n.top+E/3,l-D/3,c-E/3,ee.TOP_RIGHT):new kA(n.left+n.width-D/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=u>0||b>0?le(n.left+P,n.top+V,u-D/3,b-R/3,ee.BOTTOM_RIGHT):new kA(n.left+n.width-D/3,n.top+n.height-R/3),this.bottomLeftBorderDoubleOuterBox=Q>0||H>0?le(n.left+N/3,n.top+k,Q-N/3,H-R/3,ee.BOTTOM_LEFT):new kA(n.left+N/3,n.top+n.height-R/3),this.topLeftBorderDoubleInnerBox=o>0||r>0?le(n.left+N*2/3,n.top+E*2/3,o-N*2/3,r-E*2/3,ee.TOP_LEFT):new kA(n.left+N*2/3,n.top+E*2/3),this.topRightBorderDoubleInnerBox=o>0||r>0?le(n.left+h,n.top+E*2/3,l-D*2/3,c-E*2/3,ee.TOP_RIGHT):new kA(n.left+n.width-D*2/3,n.top+E*2/3),this.bottomRightBorderDoubleInnerBox=u>0||b>0?le(n.left+P,n.top+V,u-D*2/3,b-R*2/3,ee.BOTTOM_RIGHT):new kA(n.left+n.width-D*2/3,n.top+n.height-R*2/3),this.bottomLeftBorderDoubleInnerBox=Q>0||H>0?le(n.left+N*2/3,n.top+k,Q-N*2/3,H-R*2/3,ee.BOTTOM_LEFT):new kA(n.left+N*2/3,n.top+n.height-R*2/3),this.topLeftBorderStroke=o>0||r>0?le(n.left+N/2,n.top+E/2,o-N/2,r-E/2,ee.TOP_LEFT):new kA(n.left+N/2,n.top+E/2),this.topRightBorderStroke=o>0||r>0?le(n.left+h,n.top+E/2,l-D/2,c-E/2,ee.TOP_RIGHT):new kA(n.left+n.width-D/2,n.top+E/2),this.bottomRightBorderStroke=u>0||b>0?le(n.left+P,n.top+V,u-D/2,b-R/2,ee.BOTTOM_RIGHT):new kA(n.left+n.width-D/2,n.top+n.height-R/2),this.bottomLeftBorderStroke=Q>0||H>0?le(n.left+N/2,n.top+k,Q-N/2,H-R/2,ee.BOTTOM_LEFT):new kA(n.left+N/2,n.top+n.height-R/2),this.topLeftBorderBox=o>0||r>0?le(n.left,n.top,o,r,ee.TOP_LEFT):new kA(n.left,n.top),this.topRightBorderBox=l>0||c>0?le(n.left+h,n.top,l,c,ee.TOP_RIGHT):new kA(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||b>0?le(n.left+P,n.top+V,u,b,ee.BOTTOM_RIGHT):new kA(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=Q>0||H>0?le(n.left,n.top+k,Q,H,ee.BOTTOM_LEFT):new kA(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||r>0?le(n.left+N,n.top+E,Math.max(0,o-N),Math.max(0,r-E),ee.TOP_LEFT):new kA(n.left+N,n.top+E),this.topRightPaddingBox=l>0||c>0?le(n.left+Math.min(h,n.width-D),n.top+E,h>n.width+D?0:Math.max(0,l-D),Math.max(0,c-E),ee.TOP_RIGHT):new kA(n.left+n.width-D,n.top+E),this.bottomRightPaddingBox=u>0||b>0?le(n.left+Math.min(P,n.width-N),n.top+Math.min(V,n.height-R),Math.max(0,u-D),Math.max(0,b-R),ee.BOTTOM_RIGHT):new kA(n.left+n.width-D,n.top+n.height-R),this.bottomLeftPaddingBox=Q>0||H>0?le(n.left+N,n.top+Math.min(k,n.height-R),Math.max(0,Q-N),Math.max(0,H-R),ee.BOTTOM_LEFT):new kA(n.left+N,n.top+n.height-R),this.topLeftContentBox=o>0||r>0?le(n.left+N+L,n.top+E+_,Math.max(0,o-(N+L)),Math.max(0,r-(E+_)),ee.TOP_LEFT):new kA(n.left+N+L,n.top+E+_),this.topRightContentBox=l>0||c>0?le(n.left+Math.min(h,n.width+N+L),n.top+E+_,h>n.width+N+L?0:l-N+L,c-(E+_),ee.TOP_RIGHT):new kA(n.left+n.width-(D+J),n.top+E+_),this.bottomRightContentBox=u>0||b>0?le(n.left+Math.min(P,n.width-(N+L)),n.top+Math.min(V,n.height+E+_),Math.max(0,u-(D+J)),b-(R+z),ee.BOTTOM_RIGHT):new kA(n.left+n.width-(D+J),n.top+n.height-(R+z)),this.bottomLeftContentBox=Q>0||H>0?le(n.left+N+L,n.top+k,Math.max(0,Q-(N+L)),H-(R+z),ee.BOTTOM_LEFT):new kA(n.left+N+L,n.top+n.height-(R+z))}return A}(),ee;(function(A){A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ee||(ee={}));var le=function(A,e,t,n,a){var o=4*((Math.sqrt(2)-1)/3),r=t*o,i=n*o,l=A+t,c=e+n;switch(a){case ee.TOP_LEFT:return new as(new kA(A,c),new kA(A,c-i),new kA(l-r,e),new kA(l,e));case ee.TOP_RIGHT:return new as(new kA(A,e),new kA(A+r,e),new kA(l,c-i),new kA(l,c));case ee.BOTTOM_RIGHT:return new as(new kA(l,e),new kA(l,e+i),new kA(A+r,c),new kA(A,c));case ee.BOTTOM_LEFT:default:return new as(new kA(l,c),new kA(l-r,c),new kA(A,e+i),new kA(A,e))}},ys=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},i0=function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]},bs=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},u0=function(){function A(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return A}(),rs=function(){function A(e,t){this.path=e,this.target=t,this.type=1}return A}(),c0=function(){function A(e){this.opacity=e,this.type=2,this.target=6}return A}(),d0=function(A){return A.type===0},ii=function(A){return A.type===1},v0=function(A){return A.type===2},ho=function(A,e){return A.length===e.length?A.some(function(t,n){return t===e[n]}):!1},f0=function(A,e,t,n,a){return A.map(function(o,r){switch(r){case 0:return o.add(e,t);case 1:return o.add(e+n,t);case 2:return o.add(e+n,t+a);case 3:return o.add(e,t+a)}return o})},ui=function(){function A(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return A}(),ci=function(){function A(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new l0(this.container),this.container.styles.opacity<1&&this.effects.push(new c0(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new u0(n,a,o))}if(this.container.styles.overflowX!==0){var r=ys(this.curves),i=bs(this.curves);ho(r,i)?this.effects.push(new rs(r,6)):(this.effects.push(new rs(r,2)),this.effects.push(new rs(i,4)))}}return A.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var o=n.effects.filter(function(l){return!ii(l)});if(t||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,o),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var r=ys(n.curves),i=bs(n.curves);ho(r,i)||a.unshift(new rs(i,6))}}else a.unshift.apply(a,o);n=n.parent}return a.filter(function(l){return he(l.target,e)})},A}(),qa=function(A,e,t,n){A.container.elements.forEach(function(a){var o=he(a.flags,4),r=he(a.flags,2),i=new ci(a,A);he(a.styles.display,2048)&&n.push(i);var l=he(a.flags,8)?[]:n;if(o||r){var c=o||a.styles.isPositioned()?t:e,d=new ui(i);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var u=a.styles.zIndex.order;if(u<0){var b=0;c.negativeZIndex.some(function(Q,H){return u>Q.element.container.styles.zIndex.order?(b=H,!1):b>0}),c.negativeZIndex.splice(b,0,d)}else if(u>0){var w=0;c.positiveZIndex.some(function(Q,H){return u>=Q.element.container.styles.zIndex.order?(w=H+1,!1):w>0}),c.positiveZIndex.splice(w,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);qa(i,d,o?d:t,l)}else a.styles.isInlineLevel()?e.inlineLevel.push(i):e.nonInlineLevel.push(i),qa(i,e,t,l);he(a.flags,8)&&di(a,l)})},di=function(A,e){for(var t=A instanceof Wa?A.start:1,n=A instanceof Wa?A.reversed:!1,a=0;a<e.length;a++){var o=e[a];o.container instanceof Xl&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=_n(t,o.container.styles.listStyleType,!0),t+=n?-1:1}},g0=function(A){var e=new ci(A,null),t=new ui(e),n=[];return qa(e,t,t,n),di(e.container,n),t},wo=function(A,e){switch(e){case 0:return ze(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return ze(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return ze(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);case 3:default:return ze(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},B0=function(A,e){switch(e){case 0:return ze(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return ze(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return ze(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);case 3:default:return ze(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}},p0=function(A,e){switch(e){case 0:return ze(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return ze(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return ze(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);case 3:default:return ze(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}},m0=function(A,e){switch(e){case 0:return os(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return os(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return os(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);case 3:default:return os(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}},os=function(A,e){var t=[];return Ne(A)?t.push(A.subdivide(.5,!1)):t.push(A),Ne(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ze=function(A,e,t,n){var a=[];return Ne(A)?a.push(A.subdivide(.5,!1)):a.push(A),Ne(t)?a.push(t.subdivide(.5,!0)):a.push(t),Ne(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Ne(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},vi=function(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Fs=function(A){var e=A.styles,t=A.bounds,n=se(e.paddingLeft,t.width),a=se(e.paddingRight,t.width),o=se(e.paddingTop,t.width),r=se(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+o+r))},h0=function(A,e){return A===0?e.bounds:A===2?Fs(e):vi(e)},w0=function(A,e){return A===0?e.bounds:A===2?Fs(e):vi(e)},Qa=function(A,e,t){var n=h0(Yt(A.styles.backgroundOrigin,e),A),a=w0(Yt(A.styles.backgroundClip,e),A),o=C0(Yt(A.styles.backgroundSize,e),t,n),r=o[0],i=o[1],l=dn(Yt(A.styles.backgroundPosition,e),n.width-r,n.height-i),c=Q0(Yt(A.styles.backgroundRepeat,e),l,o,n,a),d=Math.round(n.left+l[0]),u=Math.round(n.top+l[1]);return[c,d,u,r,i]},Gt=function(A){return te(A)&&A.value===Jt.AUTO},ls=function(A){return typeof A=="number"},C0=function(A,e,t){var n=e[0],a=e[1],o=e[2],r=A[0],i=A[1];if(!r)return[0,0];if(pe(r)&&i&&pe(i))return[se(r,t.width),se(i,t.height)];var l=ls(o);if(te(r)&&(r.value===Jt.CONTAIN||r.value===Jt.COVER)){if(ls(o)){var c=t.width/t.height;return c<o!=(r.value===Jt.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var d=ls(n),u=ls(a),b=d||u;if(Gt(r)&&(!i||Gt(i))){if(d&&u)return[n,a];if(!l&&!b)return[t.width,t.height];if(b&&l){var w=d?n:a*o,Q=u?a:n/o;return[w,Q]}var H=d?n:t.width,M=u?a:t.height;return[H,M]}if(l){var F=0,h=0;return pe(r)?F=se(r,t.width):pe(i)&&(h=se(i,t.height)),Gt(r)?F=h*o:(!i||Gt(i))&&(h=F/o),[F,h]}var V=null,P=null;if(pe(r)?V=se(r,t.width):i&&pe(i)&&(P=se(i,t.height)),V!==null&&(!i||Gt(i))&&(P=d&&u?V/n*a:t.height),P!==null&&Gt(r)&&(V=d&&u?P/a*n:t.width),V!==null&&P!==null)return[V,P];throw new Error("Unable to calculate background-size for element")},Yt=function(A,e){var t=A[e];return typeof t>"u"?A[0]:t},Q0=function(A,e,t,n,a){var o=e[0],r=e[1],i=t[0],l=t[1];switch(A){case 2:return[new kA(Math.round(n.left),Math.round(n.top+r)),new kA(Math.round(n.left+n.width),Math.round(n.top+r)),new kA(Math.round(n.left+n.width),Math.round(l+n.top+r)),new kA(Math.round(n.left),Math.round(l+n.top+r))];case 3:return[new kA(Math.round(n.left+o),Math.round(n.top)),new kA(Math.round(n.left+o+i),Math.round(n.top)),new kA(Math.round(n.left+o+i),Math.round(n.height+n.top)),new kA(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new kA(Math.round(n.left+o),Math.round(n.top+r)),new kA(Math.round(n.left+o+i),Math.round(n.top+r)),new kA(Math.round(n.left+o+i),Math.round(n.top+r+l)),new kA(Math.round(n.left+o),Math.round(n.top+r+l))];default:return[new kA(Math.round(a.left),Math.round(a.top)),new kA(Math.round(a.left+a.width),Math.round(a.top)),new kA(Math.round(a.left+a.width),Math.round(a.height+a.top)),new kA(Math.round(a.left),Math.round(a.height+a.top))]}},y0="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Co="Hidden Text",b0=function(){function A(e){this._data={},this._document=e}return A.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),o=this._document.createElement("span"),r=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",r.appendChild(n),a.src=y0,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(Co)),n.appendChild(o),n.appendChild(a);var i=a.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(Co)),n.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-n.offsetTop+2;return r.removeChild(n),{baseline:i,middle:l}},A.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},A}(),fi=function(){function A(e,t){this.context=e,this.options=t}return A}(),F0=1e4,U0=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new b0(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),v0(t)&&(this.ctx.globalAlpha=t.opacity),d0(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),ii(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return $e(this,void 0,void 0,function(){var n;return ke(this,function(a){switch(a.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return $e(this,void 0,void 0,function(){return ke(this,function(n){switch(n.label){case 0:if(he(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,a){var o=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var r=ur(t.text);r.reduce(function(i,l){return o.ctx.fillText(l,i,t.bounds.top+a),i+o.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(r){return r==="normal"||r==="small-caps"}).join(""),a=E0(t.fontFamily).join(", "),o=Ln(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,o,a].join(" "),a,o]},e.prototype.renderTextNode=function(t,n){return $e(this,void 0,void 0,function(){var a,o,r,i,l,c,d,u,b=this;return ke(this,function(w){return a=this.createFontStyle(n),o=a[0],r=a[1],i=a[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(r,i),c=l.baseline,d=l.middle,u=n.paintOrder,t.textBounds.forEach(function(Q){u.forEach(function(H){switch(H){case 0:b.ctx.fillStyle=Ce(n.color),b.renderTextWithLetterSpacing(Q,n.letterSpacing,c);var M=n.textShadow;M.length&&Q.text.trim().length&&(M.slice(0).reverse().forEach(function(F){b.ctx.shadowColor=Ce(F.color),b.ctx.shadowOffsetX=F.offsetX.number*b.options.scale,b.ctx.shadowOffsetY=F.offsetY.number*b.options.scale,b.ctx.shadowBlur=F.blur.number,b.renderTextWithLetterSpacing(Q,n.letterSpacing,c)}),b.ctx.shadowColor="",b.ctx.shadowOffsetX=0,b.ctx.shadowOffsetY=0,b.ctx.shadowBlur=0),n.textDecorationLine.length&&(b.ctx.fillStyle=Ce(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(F){switch(F){case 1:b.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top+c),Q.bounds.width,1);break;case 2:b.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top),Q.bounds.width,1);break;case 3:b.ctx.fillRect(Q.bounds.left,Math.ceil(Q.bounds.top+d),Q.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&Q.text.trim().length&&(b.ctx.strokeStyle=Ce(n.webkitTextStrokeColor),b.ctx.lineWidth=n.webkitTextStrokeWidth,b.ctx.lineJoin=window.chrome?"miter":"round",b.ctx.strokeText(Q.text,Q.bounds.left,Q.bounds.top+c)),b.ctx.strokeStyle="",b.ctx.lineWidth=0,b.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=Fs(t),r=bs(n);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return $e(this,void 0,void 0,function(){var n,a,o,r,i,l,h,h,c,d,u,b,P,w,Q,k,H,M,F,h,V,P,k;return ke(this,function(E){switch(E.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,a=t.curves,o=n.styles,r=0,i=n.textNodes,E.label=1;case 1:return r<i.length?(l=i[r],[4,this.renderTextNode(l,o)]):[3,4];case 2:E.sent(),E.label=3;case 3:return r++,[3,1];case 4:if(!(n instanceof Wl))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return h=E.sent(),this.renderReplacedElement(n,a,h),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Yl&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof zl))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return h=E.sent(),this.renderReplacedElement(n,a,h),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof jl&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:d=E.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof cr&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===hs?n.checked&&(this.ctx.save(),this.path([new kA(n.bounds.left+u*.39363,n.bounds.top+u*.79),new kA(n.bounds.left+u*.16,n.bounds.top+u*.5549),new kA(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new kA(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new kA(n.bounds.left+u*.72983,n.bounds.top+u*.23),new kA(n.bounds.left+u*.84,n.bounds.top+u*.34085),new kA(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Ce(oo),this.ctx.fill(),this.ctx.restore()):n.type===ws&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ce(oo),this.ctx.fill(),this.ctx.restore())),_0(n)&&n.value.length){switch(b=this.createFontStyle(o),P=b[0],w=b[1],Q=this.fontMetrics.getMetrics(P,w).baseline,this.ctx.font=P,this.ctx.fillStyle=Ce(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=I0(n.styles.textAlign),k=Fs(n),H=0,n.styles.textAlign){case 1:H+=k.width/2;break;case 2:H+=k.width;break}M=k.add(H,0,0,-k.height/2+1),this.ctx.save(),this.path([new kA(k.left,k.top),new kA(k.left+k.width,k.top),new kA(k.left+k.width,k.top+k.height),new kA(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new hn(n.value,M),o.letterSpacing,Q),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!he(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(F=n.styles.listStyleImage,F.type!==0)return[3,18];h=void 0,V=F.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(V)];case 16:return h=E.sent(),this.ctx.drawImage(h,n.bounds.left-(h.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+V),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(P=this.createFontStyle(o)[0],this.ctx.font=P,this.ctx.fillStyle=Ce(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new ct(n.bounds.left,n.bounds.top+se(n.styles.paddingTop,n.bounds.width),n.bounds.width,Nr(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new hn(t.listValue,k),o.letterSpacing,Nr(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return $e(this,void 0,void 0,function(){var n,a,F,o,r,F,i,l,F,c,d,F,u,b,F,w,Q,F,H,M,F;return ke(this,function(h){switch(h.label){case 0:if(he(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:h.sent(),n=0,a=t.negativeZIndex,h.label=2;case 2:return n<a.length?(F=a[n],[4,this.renderStack(F)]):[3,5];case 3:h.sent(),h.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:h.sent(),o=0,r=t.nonInlineLevel,h.label=7;case 7:return o<r.length?(F=r[o],[4,this.renderNode(F)]):[3,10];case 8:h.sent(),h.label=9;case 9:return o++,[3,7];case 10:i=0,l=t.nonPositionedFloats,h.label=11;case 11:return i<l.length?(F=l[i],[4,this.renderStack(F)]):[3,14];case 12:h.sent(),h.label=13;case 13:return i++,[3,11];case 14:c=0,d=t.nonPositionedInlineLevel,h.label=15;case 15:return c<d.length?(F=d[c],[4,this.renderStack(F)]):[3,18];case 16:h.sent(),h.label=17;case 17:return c++,[3,15];case 18:u=0,b=t.inlineLevel,h.label=19;case 19:return u<b.length?(F=b[u],[4,this.renderNode(F)]):[3,22];case 20:h.sent(),h.label=21;case 21:return u++,[3,19];case 22:w=0,Q=t.zeroOrAutoZIndexOrTransformedOrOpacity,h.label=23;case 23:return w<Q.length?(F=Q[w],[4,this.renderStack(F)]):[3,26];case 24:h.sent(),h.label=25;case 25:return w++,[3,23];case 26:H=0,M=t.positiveZIndex,h.label=27;case 27:return H<M.length?(F=M[H],[4,this.renderStack(F)]):[3,30];case 28:h.sent(),h.label=29;case 29:return H++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(a,o){var r=Ne(a)?a.start:a;o===0?n.ctx.moveTo(r.x,r.y):n.ctx.lineTo(r.x,r.y),Ne(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,n,a,o){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(a,o),this.ctx.fill(),this.ctx.translate(-a,-o)},e.prototype.resizeImage=function(t,n,a){var o;if(t.width===n&&t.height===a)return t;var r=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,i=r.createElement("canvas");i.width=Math.max(1,n),i.height=Math.max(1,a);var l=i.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,n,a),i},e.prototype.renderBackgroundImage=function(t){return $e(this,void 0,void 0,function(){var n,a,o,r,i,l;return ke(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,a=function(d){var u,b,w,_,B,y,L,$,R,Q,_,B,y,L,$,H,M,F,h,V,P,k,E,D,R,N,_,J,z,L,$,m,B,y,T,G,S,O,K,Y,q,j;return ke(this,function(sA){switch(sA.label){case 0:if(d.type!==0)return[3,5];u=void 0,b=d.url,sA.label=1;case 1:return sA.trys.push([1,3,,4]),[4,o.context.cache.match(b)];case 2:return u=sA.sent(),[3,4];case 3:return sA.sent(),o.context.logger.error("Error loading background-image "+b),[3,4];case 4:return u&&(w=Qa(t,n,[u.width,u.height,u.width/u.height]),_=w[0],B=w[1],y=w[2],L=w[3],$=w[4],R=o.ctx.createPattern(o.resizeImage(u,L,$),"repeat"),o.renderRepeat(_,R,B,y)),[3,6];case 5:dg(d)?(Q=Qa(t,n,[null,null,null]),_=Q[0],B=Q[1],y=Q[2],L=Q[3],$=Q[4],H=og(d.angle,L,$),M=H[0],F=H[1],h=H[2],V=H[3],P=H[4],k=document.createElement("canvas"),k.width=L,k.height=$,E=k.getContext("2d"),D=E.createLinearGradient(F,V,h,P),Rr(d.stops,M).forEach(function(wA){return D.addColorStop(wA.stop,Ce(wA.color))}),E.fillStyle=D,E.fillRect(0,0,L,$),L>0&&$>0&&(R=o.ctx.createPattern(k,"repeat"),o.renderRepeat(_,R,B,y))):vg(d)&&(N=Qa(t,n,[null,null,null]),_=N[0],J=N[1],z=N[2],L=N[3],$=N[4],m=d.position.length===0?[or]:d.position,B=se(m[0],L),y=se(m[m.length-1],$),T=lg(d,B,y,L,$),G=T[0],S=T[1],G>0&&S>0&&(O=o.ctx.createRadialGradient(J+B,z+y,0,J+B,z+y,G),Rr(d.stops,G*2).forEach(function(wA){return O.addColorStop(wA.stop,Ce(wA.color))}),o.path(_),o.ctx.fillStyle=O,G!==S?(K=t.bounds.left+.5*t.bounds.width,Y=t.bounds.top+.5*t.bounds.height,q=S/G,j=1/q,o.ctx.save(),o.ctx.translate(K,Y),o.ctx.transform(1,0,0,q,0,0),o.ctx.translate(-K,-Y),o.ctx.fillRect(J,j*(z-Y)+Y,L,$*j),o.ctx.restore()):o.ctx.fill())),sA.label=6;case 6:return n--,[2]}})},o=this,r=0,i=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return r<i.length?(l=i[r],[5,a(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,a){return $e(this,void 0,void 0,function(){return ke(this,function(o){return this.path(wo(a,n)),this.ctx.fillStyle=Ce(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,a,o){return $e(this,void 0,void 0,function(){var r,i;return ke(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(t,a,o)]:[3,2];case 1:return l.sent(),[2];case 2:return r=B0(o,a),this.path(r),this.ctx.fillStyle=Ce(t),this.ctx.fill(),i=p0(o,a),this.path(i),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return $e(this,void 0,void 0,function(){var n,a,o,r,i,l,c,d,u=this;return ke(this,function(b){switch(b.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,a=!Ft(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],r=k0(Yt(n.backgroundClip,0),t.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),Ft(n.backgroundColor)||(this.ctx.fillStyle=Ce(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:b.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){u.ctx.save();var Q=ys(t.curves),H=w.inset?0:F0,M=f0(Q,-H+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(u.path(Q),u.ctx.clip(),u.mask(M)):(u.mask(Q),u.ctx.clip(),u.path(M)),u.ctx.shadowOffsetX=w.offsetX.number+H,u.ctx.shadowOffsetY=w.offsetY.number,u.ctx.shadowColor=Ce(w.color),u.ctx.shadowBlur=w.blur.number,u.ctx.fillStyle=w.inset?Ce(w.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),b.label=2;case 2:i=0,l=0,c=o,b.label=3;case 3:return l<c.length?(d=c[l],d.style!==0&&!Ft(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,i,t.curves,2)]:[3,11]):[3,13];case 4:return b.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,i,t.curves,3)];case 6:return b.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,i,t.curves)];case 8:return b.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,i,t.curves)];case 10:b.sent(),b.label=11;case 11:i++,b.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,a,o,r){return $e(this,void 0,void 0,function(){var i,l,c,d,u,b,w,Q,H,M,F,h,V,P,k,E,k,E;return ke(this,function(D){return this.ctx.save(),i=m0(o,a),l=wo(o,a),r===2&&(this.path(l),this.ctx.clip()),Ne(l[0])?(c=l[0].start.x,d=l[0].start.y):(c=l[0].x,d=l[0].y),Ne(l[1])?(u=l[1].end.x,b=l[1].end.y):(u=l[1].x,b=l[1].y),a===0||a===2?w=Math.abs(c-u):w=Math.abs(d-b),this.ctx.beginPath(),r===3?this.formatPath(i):this.formatPath(l.slice(0,2)),Q=n<3?n*3:n*2,H=n<3?n*2:n,r===3&&(Q=n,H=n),M=!0,w<=Q*2?M=!1:w<=Q*2+H?(F=w/(2*Q+H),Q*=F,H*=F):(h=Math.floor((w+H)/(Q+H)),V=(w-h*Q)/(h-1),P=(w-(h+1)*Q)/h,H=P<=0||Math.abs(H-V)<Math.abs(H-P)?V:P),M&&(r===3?this.ctx.setLineDash([0,Q+H]):this.ctx.setLineDash([Q,H])),r===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ce(t),this.ctx.stroke(),this.ctx.setLineDash([]),r===2&&(Ne(l[0])&&(k=l[3],E=l[0],this.ctx.beginPath(),this.formatPath([new kA(k.end.x,k.end.y),new kA(E.start.x,E.start.y)]),this.ctx.stroke()),Ne(l[1])&&(k=l[1],E=l[2],this.ctx.beginPath(),this.formatPath([new kA(k.end.x,k.end.y),new kA(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return $e(this,void 0,void 0,function(){var n;return ke(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ce(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=g0(t),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(fi),_0=function(A){return A instanceof ql||A instanceof Jl?!0:A instanceof cr&&A.type!==ws&&A.type!==hs},k0=function(A,e){switch(A){case 0:return ys(e);case 2:return i0(e);case 1:default:return bs(e)}},I0=function(A){switch(A){case 1:return"center";case 2:return"right";case 0:default:return"left"}},H0=["-apple-system","system-ui"],E0=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(e){return H0.indexOf(e)===-1}):A},S0=function(A){je(e,A);function e(t,n){var a=A.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(t){return $e(this,void 0,void 0,function(){var n,a;return ke(this,function(o){switch(o.label){case 0:return n=Ga(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,T0(n)];case 1:return a=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ce(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(fi),T0=function(A){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},$0=function(){function A(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,xn([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,xn([this.id,this.getTime()+"ms"],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,xn([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,xn([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.instances={},A}(),D0=function(){function A(e,t){var n;this.windowBounds=t,this.instanceName="#"+A.instanceCount++,this.logger=new $0({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new e0(this,e)}return A.instanceCount=1,A}(),dt=function(A,e){return e===void 0&&(e={}),L0(A,e)};typeof window<"u"&&li.setContext(window);var L0=function(A,e){return $e(void 0,void 0,void 0,function(){var t,n,a,o,r,i,l,c,d,u,b,w,Q,H,M,F,h,V,P,k,D,E,D,R,N,_,J,z,L,$,m,B,y,T,G,S,O,K,Y,q;return ke(this,function(j){switch(j.label){case 0:if(!A||typeof A!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=A.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(R=e.allowTaint)!==null&&R!==void 0?R:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(_=e.useCORS)!==null&&_!==void 0?_:!1},o=Ha({logging:(J=e.logging)!==null&&J!==void 0?J:!0,cache:e.cache},a),r={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:n.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:n.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:n.pageXOffset,scrollY:(m=e.scrollY)!==null&&m!==void 0?m:n.pageYOffset},i=new ct(r.scrollX,r.scrollY,r.windowWidth,r.windowHeight),l=new D0(o,i),c=(B=e.foreignObjectRendering)!==null&&B!==void 0?B:!1,d={allowTaint:(y=e.allowTaint)!==null&&y!==void 0?y:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+i.width+"x"+i.height+" scrolled to "+-i.left+","+-i.top),u=new po(l,A,d),b=u.clonedReferenceElement,b?[4,u.toIFrame(t,i)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=j.sent(),Q=dr(b)||Kp(b)?vv(b.ownerDocument):Ss(l,b),H=Q.width,M=Q.height,F=Q.left,h=Q.top,V=M0(l,b,e.backgroundColor),P={canvas:e.canvas,backgroundColor:V,scale:(G=(T=e.scale)!==null&&T!==void 0?T:n.devicePixelRatio)!==null&&G!==void 0?G:1,x:((S=e.x)!==null&&S!==void 0?S:0)+F,y:((O=e.y)!==null&&O!==void 0?O:0)+h,width:(K=e.width)!==null&&K!==void 0?K:Math.ceil(H),height:(Y=e.height)!==null&&Y!==void 0?Y:Math.ceil(M)},c?(l.logger.debug("Document cloned, using foreign object rendering"),D=new S0(l,P),[4,D.render(b)]):[3,3];case 2:return k=j.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+F+","+h+" with size "+H+"x"+M+" using computed rendering"),l.logger.debug("Starting DOM parsing"),E=Ai(l,b),V===E.styles.backgroundColor&&(E.styles.backgroundColor=ot.TRANSPARENT),l.logger.debug("Starting renderer for element at "+P.x+","+P.y+" with size "+P.width+"x"+P.height),D=new U0(l,P),[4,D.render(E)];case 4:k=j.sent(),j.label=5;case 5:return(!((q=e.removeContainer)!==null&&q!==void 0)||q)&&(po.destroy(w)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,k]}})})},M0=function(A,e,t){var n=e.ownerDocument,a=n.documentElement?pn(A,getComputedStyle(n.documentElement).backgroundColor):ot.TRANSPARENT,o=n.body?pn(A,getComputedStyle(n.body).backgroundColor):ot.TRANSPARENT,r=typeof t=="string"?pn(A,t):t===null?ot.TRANSPARENT:4294967295;return e===n.documentElement?Ft(a)?Ft(o)?r:o:a:r};const K0={key:0,class:"inline-wrapper"},O0={class:"inline-header"},x0={class:"header-actions"},P0={class:"header-actions"},R0={class:"battle-records-content"},V0={key:0,class:"loading-state"},N0={class:"battle-header"},G0={class:"overall-stats"},W0={class:"stats-side own"},Y0={class:"stats-grid"},z0={class:"stat-item stat-kills"},X0={class:"stat-value"},J0={class:"stat-item stat-revives"},q0={class:"stat-value"},j0={class:"stat-item stat-kd"},Z0={class:"stat-value"},Am={class:"battle-rankings"},em={class:"ranking-card"},tm={class:"ranking-content"},nm={class:"ranking-side own"},sm={class:"rank-number"},am=["src","alt"],rm={key:1,class:"player-avatar-placeholder"},om={class:"player-name"},lm={class:"player-value"},im={class:"ranking-card"},um={class:"ranking-content"},cm={class:"ranking-side own"},dm={class:"rank-number"},vm=["src","alt"],fm={key:1,class:"player-avatar-placeholder"},gm={class:"player-name"},Bm={class:"player-value"},pm={class:"ranking-card"},mm={class:"ranking-content"},hm={class:"ranking-side own"},wm={class:"rank-number"},Cm=["src","alt"],Qm={key:1,class:"player-avatar-placeholder"},ym={class:"player-name"},bm={class:"player-value"},Fm={class:"god-rankings"},Um={class:"god-ranking own"},_m={class:"god-ranking-content"},km={class:"god-rank-number"},Im={class:"player-avatar-cell"},Hm=["src","alt"],Em={key:1,class:"player-avatar-placeholder"},Sm={class:"header-player"},Tm={class:"player-stat"},$m={class:"player-stat"},Dm={class:"player-stat"},Lm={class:"player-stat"},Mm={class:"player-stat"},Km={key:2,class:"empty-state"},Om={class:"header-actions"},xm={class:"battle-records-content"},Pm={key:0,class:"loading-state"},Rm={class:"overall-stats"},Vm={class:"stats-side own"},Nm={class:"stats-grid"},Gm={class:"stat-item stat-kills"},Wm={class:"stat-value"},Ym={class:"stat-item stat-revives"},zm={class:"stat-value"},Xm={class:"stat-item stat-kd"},Jm={class:"stat-value"},qm={class:"battle-rankings"},jm={class:"ranking-card"},Zm={class:"ranking-content"},Ah={class:"ranking-side own"},eh={class:"rank-number"},th=["src","alt"],nh={key:1,class:"player-avatar-placeholder"},sh={class:"player-name"},ah={class:"player-value"},rh={class:"ranking-card"},oh={class:"ranking-content"},lh={class:"ranking-side own"},ih={class:"rank-number"},uh=["src","alt"],ch={key:1,class:"player-avatar-placeholder"},dh={class:"player-name"},vh={class:"player-value"},fh={class:"ranking-card"},gh={class:"ranking-content"},Bh={class:"ranking-side own"},ph={class:"rank-number"},mh=["src","alt"],hh={key:1,class:"player-avatar-placeholder"},wh={class:"player-name"},Ch={class:"player-value"},Qh={class:"god-rankings"},yh={class:"god-ranking own"},bh={class:"god-ranking-content"},Fh={class:"god-rank-number"},Uh={class:"player-avatar-cell"},_h=["src","alt"],kh={key:1,class:"player-avatar-placeholder"},Ih={class:"player-name"},Hh={class:"player-stat"},Eh={class:"player-stat"},Sh={class:"player-stat"},Th={class:"player-stat"},$h={class:"player-stat"},Dh={key:2,class:"empty-state"},Lh={__name:"ClubBattleRecords",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=W(["2"]),o=W(null),r=t,i=ZA(),l=qA(),c=I(()=>{var $;return(($=l.gameData)==null?void 0:$.legionInfo)||null}),d=I(()=>{var $;return(($=c.value)==null?void 0:$.info)||null}),u=I({get:()=>n.visible,set:$=>r("update:visible",$)}),b=W(!1),w=W(null),Q=W(new Set),H=W("");W({isRegistered:!1});const M=I(()=>{var $;return($=w.value)!=null&&$.roleDetailsList?w.value.roleDetailsList.reduce((m,B)=>m+(B.winCnt||0),0):0}),F=I(()=>{var $;return($=w.value)!=null&&$.roleDetailsList?w.value.roleDetailsList.reduce((m,B)=>m+Math.max((B.loseCnt||0)-6,0),0):0}),h=I(()=>{var B;if(!((B=w.value)!=null&&B.roleDetailsList))return 0;const $=w.value.roleDetailsList.reduce((y,T)=>y+(T.winCnt||0),0),m=w.value.roleDetailsList.reduce((y,T)=>y+(T.loseCnt||0),0);return m===0?0:($/m).toFixed(2)}),V=I(()=>{var $;return($=w.value)!=null&&$.roleDetailsList?[...w.value.roleDetailsList].sort((m,B)=>(B.winCnt||0)-(m.winCnt||0)).slice(0,3):[]}),P=I(()=>{var $;return($=w.value)!=null&&$.roleDetailsList?[...w.value.roleDetailsList].map(m=>({...m,kd:parseFloat(m.winCnt&&m.loseCnt?m.winCnt/m.loseCnt:0).toFixed(2)})).sort((m,B)=>B.kd-m.kd).slice(0,3):[]}),k=I(()=>{var $;return($=w.value)!=null&&$.roleDetailsList?[...w.value.roleDetailsList].map(m=>({...m,reviveCnt:Math.max((m.loseCnt||0)-6,0)})).sort((m,B)=>B.reviveCnt-m.reviveCnt).slice(0,3):[]}),E=$=>{$.target.style.display="none"},D=$=>$.getDay()!=6&&$.getDay()!=0||$>Date.now(),R=$=>{$!=null?H.value=$:H.value=Qn(),N()},N=async()=>{if(!l.selectedToken){i.warning("请先选择游戏角色");return}const $=l.selectedToken.id;if(l.getWebSocketStatus($)!=="connected"){i.error("WebSocket未连接，无法查询战绩");return}b.value=!0;try{const B=await l.sendMessageWithPromise($,"legionwar_getdetails",{date:H.value},1e4);if(B&&B.roleDetailsList){const y=[...B.roleDetailsList].sort((T,G)=>(G.winCnt||0)-(T.winCnt||0));w.value={...B,roleDetailsList:y},i.success("战绩加载成功，已按击杀数从高到低排序")}else w.value=null,i.warning("未查询到战绩数据")}catch(B){console.error("查询战绩失败:",B),i.error(`查询失败: ${B.message}`),w.value=null}finally{b.value=!1}},_=()=>{N()},J=async()=>{if(!w.value||!w.value.roleDetailsList){i.warning("没有可导出的数据");return}try{if(a.value.includes("1")){const $=Si(w.value.roleDetailsList,H.value)}a.value.includes("2")&&z(),i.success("导出成功")}catch($){console.error("导出失败:",$),i.error("导出失败，请重试")}},z=async()=>{if(!o.value){alert("未找到要导出的DOM元素");return}try{const $=o.value.querySelectorAll(".god-ranking-content"),m=[];$.forEach(G=>{m.push({element:G,maxHeight:G.style.maxHeight,overflow:G.style.overflow}),G.style.maxHeight="none",G.style.overflow="visible"});const B=await dt(o.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1});m.forEach(({element:G,maxHeight:S,overflow:O})=>{G.style.maxHeight=S,G.style.overflow=O});const y=B.toDataURL("image/png"),T=document.createElement("a");T.href=y,console.log(),T.download=H.value.replace("/","年").replace("/","月")+"日盐场战报.png",document.body.appendChild(T),T.click(),document.body.removeChild(T)}catch($){console.error("DOM转图片失败：",$),alert("导出图片失败，请重试")}},L=()=>{Q.value.clear()};return e({fetchBattleRecords:N}),ae(()=>{n.inline&&(H.value=Qn(),N())}),($,m)=>{const B=ar,y=Z("n-icon"),T=Z("n-button"),G=Z("n-spin"),S=Z("n-empty"),O=Z("n-modal");return v(),g("div",null,[A.inline?(v(),g("div",K0,[s("div",O0,[m[9]||(m[9]=s("div",{class:"inline-title"},"俱乐部盐场战绩",-1)),s("div",x0,[p(B,{value:H.value,"onUpdate:value":m[0]||(m[0]=K=>H.value=K),onChange:R,valueFormat:"YYYY/MM/DD","disabled-date":D},null,8,["value"]),p(T,{size:"small",disabled:b.value,onClick:_},{icon:C(()=>[p(y,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[m[5]||(m[5]=X(" 刷新 ",-1))]),_:1},8,["disabled"])]),s("div",P0,[p(_A(ya),{value:a.value,"onUpdate:value":m[1]||(m[1]=K=>a.value=K),name:"group-exportmethod",size:"small"},{default:C(()=>[p(_A(zt),{value:"1"},{default:C(()=>[...m[6]||(m[6]=[X("表格导出",-1)])]),_:1}),p(_A(zt),{value:"2"},{default:C(()=>[...m[7]||(m[7]=[X("图片导出",-1)])]),_:1})]),_:1},8,["value"]),p(T,{type:"primary",size:"small",disabled:!w.value||b.value,onClick:J},{icon:C(()=>[p(y,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[m[8]||(m[8]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),s("div",R0,[b.value?(v(),g("div",V0,[p(G,{size:"large"},{description:C(()=>[...m[10]||(m[10]=[X("正在加载战绩数据...",-1)])]),_:1})])):w.value&&w.value.roleDetailsList?(v(),g("div",{key:1,ref_key:"exportDom",ref:o,class:"records-list"},[s("div",N0,[s("h2",null,f(H.value)+" "+f(d.value.name||"俱乐部")+"盐场战绩",1)]),s("div",G0,[s("div",W0,[m[14]||(m[14]=s("div",{class:"stats-title"},"俱乐部总体数据",-1)),s("div",Y0,[s("div",z0,[m[11]||(m[11]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",X0,f(M.value),1)]),s("div",J0,[m[12]||(m[12]=s("div",{class:"stat-label"},"总复活",-1)),s("div",q0,f(F.value),1)]),s("div",j0,[m[13]||(m[13]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",Z0,f(h.value),1)])])])]),s("div",Am,[s("div",em,[m[16]||(m[16]=s("div",{class:"ranking-title"},"击杀榜",-1)),s("div",tm,[s("div",nm,[m[15]||(m[15]=s("div",{class:"ranking-subtitle"},"Top3",-1)),(v(!0),g(vA,null,yA(V.value,(K,Y)=>{var q;return v(),g("div",{key:Y,class:"ranking-item"},[s("div",sm,f(Y+1),1),K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,am)):(v(),g("div",rm,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1)),s("span",om,f(K.name),1),s("span",lm,f(K.winCnt||0),1)])}),128))])])]),s("div",im,[m[18]||(m[18]=s("div",{class:"ranking-title"},"K/D榜",-1)),s("div",um,[s("div",cm,[m[17]||(m[17]=s("div",{class:"ranking-subtitle"},"Top3",-1)),(v(!0),g(vA,null,yA(P.value,(K,Y)=>{var q;return v(),g("div",{key:Y,class:"ranking-item"},[s("div",dm,f(Y+1),1),K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,vm)):(v(),g("div",fm,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1)),s("span",gm,f(K.name),1),s("span",Bm,f(K.kd||0),1)])}),128))])])]),s("div",pm,[m[20]||(m[20]=s("div",{class:"ranking-title"},"复活榜",-1)),s("div",mm,[s("div",hm,[m[19]||(m[19]=s("div",{class:"ranking-subtitle"},"Top3",-1)),(v(!0),g(vA,null,yA(k.value,(K,Y)=>{var q;return v(),g("div",{key:Y,class:"ranking-item"},[s("div",wm,f(Y+1),1),K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,Cm)):(v(),g("div",Qm,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1)),s("span",ym,f(K.name),1),s("span",bm,f(K.reviveCnt||0),1)])}),128))])])])]),s("div",Fm,[s("div",Um,[m[22]||(m[22]=s("div",{class:"god-ranking-title"},"俱乐部战神榜",-1)),s("div",_m,[m[21]||(m[21]=yn('<div class="god-ranking-header" data-v-bada4218><div class="god-rank-number" data-v-bada4218>排名</div><div class="header-avatar" data-v-bada4218></div><div class="header-player" data-v-bada4218>玩家</div><div class="header-stat" data-v-bada4218>击杀</div><div class="header-stat" data-v-bada4218>死亡</div><div class="header-stat" data-v-bada4218>攻城</div><div class="header-stat" data-v-bada4218>复活</div><div class="header-stat" data-v-bada4218>K/D</div></div>',1)),(v(!0),g(vA,null,yA(w.value.roleDetailsList,(K,Y)=>{var q;return v(),g("div",{key:K.roleId,class:"god-ranking-item"},[s("div",km,f(Y+1),1),s("div",Im,[K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,Hm)):(v(),g("div",Em,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1))]),s("span",Sm,f(K.name),1),s("span",Tm,f(K.winCnt||0),1),s("span",$m,f(K.loseCnt||0),1),s("span",Dm,f(K.buildingCnt||0),1),s("span",Lm,f(Math.max(K.loseCnt-6,0)||0),1),s("span",Mm,f(parseFloat(K.winCnt&&K.loseCnt?K.winCnt/K.loseCnt:0).toFixed(2)),1)])}),128))])])])],512)):(v(),g("div",Km,[p(S,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(y,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])])):(v(),pA(O,{key:1,show:u.value,"onUpdate:show":m[4]||(m[4]=K=>u.value=K),preset:"card",title:"俱乐部盐场战绩",style:{width:"90%","max-width":"800px"},onAfterLeave:L},{"header-extra":C(()=>[s("div",Om,[p(B,{value:H.value,"onUpdate:value":m[2]||(m[2]=K=>H.value=K),onChange:R,valueFormat:"YYYY/MM/DD","disabled-date":D},null,8,["value"]),p(T,{size:"small",disabled:b.value,onClick:_},{icon:C(()=>[p(y,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[m[23]||(m[23]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(T,{type:"primary",size:"small",disabled:!w.value||b.value,onClick:J},{icon:C(()=>[p(y,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[m[24]||(m[24]=X(" 导出 ",-1))]),_:1},8,["disabled"]),p(_A(ya),{value:a.value,"onUpdate:value":m[3]||(m[3]=K=>a.value=K),name:"group-exportmethod",size:"small"},{default:C(()=>[p(_A(zt),{value:"1"},{default:C(()=>[...m[25]||(m[25]=[X("表格导出",-1)])]),_:1}),p(_A(zt),{value:"2"},{default:C(()=>[...m[26]||(m[26]=[X("图片导出",-1)])]),_:1})]),_:1},8,["value"])])]),default:C(()=>[s("div",xm,[b.value?(v(),g("div",Pm,[p(G,{size:"large"},{description:C(()=>[...m[27]||(m[27]=[X("正在加载战绩数据...",-1)])]),_:1})])):w.value&&w.value.roleDetailsList?(v(),g("div",{key:1,ref_key:"exportDom",ref:o,class:"records-list"},[s("div",Rm,[s("div",Vm,[m[31]||(m[31]=s("div",{class:"stats-title"},"俱乐部总体数据",-1)),s("div",Nm,[s("div",Gm,[m[28]||(m[28]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",Wm,f(M.value),1)]),s("div",Ym,[m[29]||(m[29]=s("div",{class:"stat-label"},"总复活",-1)),s("div",zm,f(F.value),1)]),s("div",Xm,[m[30]||(m[30]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",Jm,f(h.value),1)])])])]),s("div",qm,[s("div",jm,[m[33]||(m[33]=s("div",{class:"ranking-title"},"击杀榜",-1)),s("div",Zm,[s("div",Ah,[m[32]||(m[32]=s("div",{class:"ranking-subtitle"},"Top3",-1)),(v(!0),g(vA,null,yA(V.value,(K,Y)=>{var q;return v(),g("div",{key:Y,class:"ranking-item"},[s("div",eh,f(Y+1),1),K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,th)):(v(),g("div",nh,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1)),s("span",sh,f(K.name),1),s("span",ah,f(K.winCnt||0),1)])}),128))])])]),s("div",rh,[m[35]||(m[35]=s("div",{class:"ranking-title"},"K/D榜",-1)),s("div",oh,[s("div",lh,[m[34]||(m[34]=s("div",{class:"ranking-subtitle"},"Top3",-1)),(v(!0),g(vA,null,yA(P.value,(K,Y)=>{var q;return v(),g("div",{key:Y,class:"ranking-item"},[s("div",ih,f(Y+1),1),K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,uh)):(v(),g("div",ch,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1)),s("span",dh,f(K.name),1),s("span",vh,f(K.kd||0),1)])}),128))])])]),s("div",fh,[m[37]||(m[37]=s("div",{class:"ranking-title"},"复活榜",-1)),s("div",gh,[s("div",Bh,[m[36]||(m[36]=s("div",{class:"ranking-subtitle"},"Top3",-1)),(v(!0),g(vA,null,yA(k.value,(K,Y)=>{var q;return v(),g("div",{key:Y,class:"ranking-item"},[s("div",ph,f(Y+1),1),K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,mh)):(v(),g("div",hh,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1)),s("span",wh,f(K.name),1),s("span",Ch,f(K.reviveCnt||0),1)])}),128))])])])]),s("div",Qh,[s("div",yh,[m[39]||(m[39]=s("div",{class:"god-ranking-title"},"俱乐部战神榜",-1)),s("div",bh,[m[38]||(m[38]=s("div",{class:"god-ranking-header"},[s("div",{class:"god-rank-number"},"排名"),s("div",{class:"header-avatar"}),s("div",{class:"header-player"},"玩家"),s("div",{class:"header-stat"},"击杀"),s("div",{class:"header-stat"},"死亡"),s("div",{class:"header-stat"},"攻城"),s("div",{class:"header-stat"},"复活"),s("div",{class:"header-stat"},"K/D")],-1)),(v(!0),g(vA,null,yA(w.value.roleDetailsList,(K,Y)=>{var q;return v(),g("div",{key:K.roleId,class:"god-ranking-item"},[s("div",Fh,f(Y+1),1),s("div",Uh,[K.headImg?(v(),g("img",{key:0,src:K.headImg,alt:K.name,class:"player-avatar",onError:E},null,40,_h)):(v(),g("div",kh,f(((q=K.name)==null?void 0:q.charAt(0))||"?"),1))]),s("span",Ih,f(K.name),1),s("span",Hh,f(K.winCnt||0),1),s("span",Eh,f(K.loseCnt||0),1),s("span",Sh,f(K.buildingCnt||0),1),s("span",Th,f(Math.max(K.loseCnt-6,0)||0),1),s("span",$h,f(parseFloat(K.winCnt&&K.loseCnt?K.winCnt/K.loseCnt:0).toFixed(2)),1)])}),128))])])])],512)):(v(),g("div",Dh,[p(S,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(y,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])]),_:1},8,["show"]))])}}},Mh=Ae(Lh,[["__scopeId","data-v-bada4218"]]),Kh={key:0,class:"inline-wrapper"},Oh={class:"inline-header"},xh={class:"header-actions"},Ph={class:"battle-records-content"},Rh={key:0,class:"loading-state"},Vh={key:1,class:"records-list"},Nh={class:"member-header"},Gh={class:"member-info"},Wh={class:"member-name"},Yh={class:"member-stats-inline"},zh={class:"stat-inline win"},Xh={class:"ranking"},Jh={key:2,class:"empty-state"},qh={class:"header-actions"},jh={class:"battle-records-content"},Zh={key:0,class:"loading-state"},A1={key:1,class:"records-list"},e1={class:"member-header"},t1={class:"member-info"},n1={class:"member-name"},s1={class:"member-stats-inline"},a1={class:"stat-inline win"},r1={key:2,class:"empty-state"},o1={__name:"ClubHistoryRecords",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=t,o=ZA(),r=qA(),i=I({get:()=>n.visible,set:M=>a("update:visible",M)}),l=W(!1),c=W(null),d=W(new Set),u=W("");W({isRegistered:!1});const b=M=>{switch(M){case 15:return"灰岩岛";case 16:return"进阶周赛";case 17:return"进阶月赛";case 18:return"青铜周赛";case 19:return"青铜月赛";case 20:return"秘蓝周赛";case 21:return"秘蓝月赛";case 22:return"月宫周赛";case 23:return"月宫月赛";case 24:return"天宫周赛";case 25:return"天宫月赛";case 6:return"夺旗赛";default:return"伟大航路"}},w=async()=>{if(!r.selectedToken){o.warning("请先选择游戏角色");return}const M=r.selectedToken.id;if(r.getWebSocketStatus(M)!=="connected"){o.error("WebSocket未连接，无法查询战绩");return}l.value=!0,u.value=Qn();try{const h=await r.sendMessageWithPromise(M,"legion_getinfo",1e4);if(h&&h.info.warRank&&h.info.warMap){const V=Object.values(h.info.warMap);c.value={warMap:[].concat(...V).reverse(),warRank:h.info.warRank.reverse()},console.log(c.value),o.success("战绩加载成功")}else c.value=null,o.warning("未查询到战绩数据")}catch(h){console.error("查询战绩失败:",h),o.error(`查询失败: ${h.message}`),c.value=null}finally{l.value=!1}},Q=()=>{w()},H=()=>{d.value.clear()};return e({fetchBattleRecords:w}),ae(()=>{n.inline&&w()}),(M,F)=>{const h=Z("n-icon"),V=Z("n-button"),P=Z("n-spin"),k=Z("n-empty"),E=Z("n-modal");return v(),g("div",null,[A.inline?(v(),g("div",Kh,[s("div",Oh,[F[2]||(F[2]=s("div",{class:"inline-title"},"俱乐部历史盐场战绩",-1)),s("div",xh,[p(V,{size:"small",disabled:l.value,onClick:Q},{icon:C(()=>[p(h,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[F[1]||(F[1]=X(" 刷新 ",-1))]),_:1},8,["disabled"])])]),s("div",Ph,[l.value?(v(),g("div",Rh,[p(P,{size:"large"},{description:C(()=>[...F[3]||(F[3]=[X("正在加载战绩数据...",-1)])]),_:1})])):c.value&&c.value.warMap&&c.value.warRank?(v(),g("div",Vh,[(v(!0),g(vA,null,yA(c.value.warMap,(D,R)=>(v(),g("div",{key:D.warDate,class:"member-card"},[s("div",Nh,[s("div",Gh,[s("span",Wh,f(b(D.legionWarType)),1)]),s("div",Yh,[s("span",zh,"比赛日期 "+f(D.warDate),1)]),s("div",Xh,"名次:"+f(c.value.warRank[R]),1)])]))),128))])):(v(),g("div",Jh,[p(k,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(h,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])])):(v(),pA(E,{key:1,show:i.value,"onUpdate:show":F[0]||(F[0]=D=>i.value=D),preset:"card",title:"俱乐部盐场战绩",style:{width:"90%","max-width":"800px"},onAfterLeave:H},{"header-extra":C(()=>[s("div",qh,[p(V,{size:"small",disabled:l.value,onClick:Q},{icon:C(()=>[p(h,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[F[4]||(F[4]=X(" 刷新 ",-1))]),_:1},8,["disabled"])])]),default:C(()=>[s("div",jh,[l.value?(v(),g("div",Zh,[p(P,{size:"large"},{description:C(()=>[...F[5]||(F[5]=[X("正在加载战绩数据...",-1)])]),_:1})])):c.value&&c.value.warMap&&c.value.warRank?(v(),g("div",A1,[(v(!0),g(vA,null,yA(c.value.warMap,(D,R)=>(v(),g("div",{key:D.warDate,class:"member-card"},[s("div",e1,[s("div",t1,[s("span",n1,f(b(D.legionWarType)),1)]),s("div",s1,[s("span",a1,"比赛日期 "+f(D.warDate),1)]),s("div",null,"名次:"+f(c.value.warRank[R]),1)])]))),128))])):(v(),g("div",r1,[p(k,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(h,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])]),_:1},8,["show"]))])}}},l1=Ae(o1,[["__scopeId","data-v-ad33f5e0"]]);function _t(){const A=new Date,e=A.getFullYear(),t=String(A.getMonth()+1).padStart(2,"0"),n=String(A.getDate()).padStart(2,"0");return`${e}/${t}/${n}`}function i1(A,e){if(!A||A.length===0)return"暂无战绩数据";const t=[["排名","ID","区服","俱乐部名","战力","红淬","前三红淬","积分","联盟","公告"],...A.sort((u,b)=>(b.redQuench||0)-(u.redQuench||0)).map((u,b)=>[b+1,u.id,u.serverId,u.name,u1(u.power),u.redQuench,d1(u.redno1,u.redno2,u.redno3),c1(u.sRScore),ht(u.announcement),u.announcement])];let n=0,a=0,o=0,r=0,i=0;A.forEach(u=>{switch(ht(u.announcement)){case"梦盟":n++;break;case"大联盟":a++;break;case"正义联盟":o++;break;case"龙盟":r++;break;default:i++}});const l=qe.book_new(),c=qe.aoa_to_sheet(t);qe.sheet_add_aoa(c,[["总计","梦盟："+n+"家","大联盟："+a+"家","正义联盟："+o+"家","龙盟："+r+"家","未知联盟："+i+"家"]],{origin:-1}),c["!cols"]=[{wch:8},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:80}],qe.book_append_sheet(l,c,"盐场匹配详情");const d=`盐场匹配详情_${e.replace(/\//g,"-")}.xlsx`;return ko(l,d),""}const u1=A=>A?A>=1e8?(A/1e8).toFixed(2)+"亿":A>=1e4?(A/1e4).toFixed(2)+"万":A.toString():"0",c1=A=>A.toFixed(0).toString(),d1=(A,e,t)=>A+","+e+","+t,v1=[{keywords:["大联盟"],value:"大联盟"},{keywords:["正义"],value:"正义联盟"},{keywords:["龙盟","龍盟"],value:"龙盟"},{keywords:["梦","梦盟","梦想之盟"],value:"梦盟"}],ht=A=>{const e=v1.find(t=>t.keywords.some(n=>A.includes(n)));return e?e.value:"未知联盟"},f1={key:0,class:"inline-wrapper"},g1={class:"inline-header"},B1={class:"header-actions"},p1={class:"weird-tower-content"},m1={key:0,class:"loading-state"},h1={class:"records-info"},w1={class:"member-header"},C1={class:"member-info"},Q1={class:"ranking-number"},y1=["src","alt"],b1={key:1,class:"member-avatar-placeholder"},F1={class:"member-name"},U1={class:"member-stats-inline"},_1={class:"stat-inline tower-count"},k1={class:"header-actions"},I1={class:"weird-tower-content"},H1={key:0,class:"loading-state"},E1={class:"records-info"},S1={class:"member-header"},T1={class:"member-info"},$1={class:"ranking-number"},D1=["src","alt"],L1={key:1,class:"member-avatar-placeholder"},M1={class:"member-name"},K1={class:"member-stats-inline"},O1={class:"stat-inline tower-count"},x1={__name:"ClubWeirdTowerInfo",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=W(null),o=t,r=ZA(),i=qA(),l=I({get:()=>n.visible,set:h=>o("update:visible",h)}),c=W(!1),d=W([]),u=h=>{h.target.style.display="none"},b=h=>{if(h===0)return"1-1";{const V=Math.floor(h/10)+1,P=h%10+1;return`${V}-${P}`}},w=async()=>{if(!i.selectedToken){r.warning("请先选择游戏角色");return}const h=i.selectedToken.id;if(i.getWebSocketStatus(h)!=="connected"){r.error("WebSocket未连接，无法查询爬塔数据");return}c.value=!0;try{const P=await i.sendMessageWithPromise(h,"evotower_getlegionjoinmembers",{},1e4);if(P&&P.memberScores){const k=Object.entries(P.memberScores).map(([D,R])=>({roleId:parseInt(D),towerCount:R,towerCountconvert:b(R)}));k.sort((D,R)=>R.towerCount-D.towerCount);const E=await Promise.all(k.map(async D=>{var R,N;try{const _=await i.sendMessageWithPromise(h,"rank_getroleinfo",{bottleType:0,includeBottleTeam:!1,isSearch:!1,roleId:D.roleId},5e3);return{...D,name:(R=_.roleInfo)==null?void 0:R.name,headImg:(N=_.roleInfo)==null?void 0:N.headImg}}catch(_){return console.error(`获取玩家${D.roleId}信息失败:`,_),{...D,name:`未知玩家${D.roleId}`}}}));d.value=E,r.success("怪异塔数据加载成功，已按怪异塔数量从高到低排序")}else d.value=[],r.warning("未查询到怪异塔数据")}catch(P){console.error("查询怪异塔数据失败:",P),r.error(`查询失败: ${P.message}`),d.value=[]}finally{c.value=!1}},Q=()=>{w()},H=async()=>{if(!d.value){r.warning("没有可导出的数据");return}try{M(),r.success("导出成功")}catch(h){console.error("导出失败:",h),r.error("导出失败，请重试")}},M=async()=>{if(!a.value){alert("未找到要导出的DOM元素");return}try{const V=(await dt(a.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1})).toDataURL("image/png"),P=document.createElement("a");P.href=V,console.log();const k=W(_t());P.download=k.value.replace("/","年").replace("/","月")+"日俱乐部怪异塔数据.png",document.body.appendChild(P),P.click(),document.body.removeChild(P)}catch(h){console.error("DOM转图片失败：",h),alert("导出图片失败，请重试")}},F=()=>{};return e({fetchWeirdTowerInfo:w}),ae(()=>{n.inline&&w()}),(h,V)=>{const P=Z("n-icon"),k=Z("n-button"),E=Z("n-spin"),D=Z("n-tag"),R=Z("n-modal");return v(),g("div",null,[A.inline?(v(),g("div",f1,[s("div",g1,[V[3]||(V[3]=s("div",{class:"inline-title"},"俱乐部怪异塔信息",-1)),s("div",B1,[p(k,{size:"small",disabled:c.value,onClick:Q},{icon:C(()=>[p(P,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[V[1]||(V[1]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(k,{type:"primary",size:"small",disabled:!d.value||c.value,onClick:H},{icon:C(()=>[p(P,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[V[2]||(V[2]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),s("div",p1,[c.value?(v(),g("div",m1,[p(E,{size:"large"},{description:C(()=>[...V[4]||(V[4]=[X("正在加载怪异塔数据...",-1)])]),_:1})])):d.value.length>0?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",h1,[p(D,{type:"success"},{default:C(()=>[X("总成员: "+f(d.value.length),1)]),_:1})]),(v(!0),g(vA,null,yA(d.value,(N,_)=>{var J;return v(),g("div",{key:N.roleId,class:"member-card"},[s("div",w1,[s("div",C1,[s("div",Q1,f(_+1),1),N.headImg?(v(),g("img",{key:0,src:N.headImg,alt:N.name,class:"member-avatar",onError:u},null,40,y1)):(v(),g("div",b1,f(((J=N.name)==null?void 0:J.charAt(0))||"?"),1)),s("span",F1,f(N.name),1)]),s("div",U1,[s("span",_1,"层数 "+f(N.towerCountconvert||"0-0"),1)])])])}),128))],512)):tA("",!0)])])):(v(),pA(R,{key:1,show:l.value,"onUpdate:show":V[0]||(V[0]=N=>l.value=N),preset:"card",title:"俱乐部怪异塔信息",style:{width:"90%","max-width":"800px"},onAfterLeave:F},{"header-extra":C(()=>[s("div",k1,[p(k,{size:"small",disabled:c.value,onClick:Q},{icon:C(()=>[p(P,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[V[5]||(V[5]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(k,{type:"primary",size:"small",disabled:!d.value||c.value,onClick:H},{icon:C(()=>[p(P,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[V[6]||(V[6]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),default:C(()=>[s("div",I1,[c.value?(v(),g("div",H1,[p(E,{size:"large"},{description:C(()=>[...V[7]||(V[7]=[X("正在加载怪异塔数据...",-1)])]),_:1})])):d.value.length>0?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",E1,[p(D,{type:"success"},{default:C(()=>[X("总成员: "+f(d.value.length),1)]),_:1})]),(v(!0),g(vA,null,yA(d.value,(N,_)=>{var J;return v(),g("div",{key:N.roleId,class:"member-card"},[s("div",S1,[s("div",T1,[s("div",$1,f(_+1),1),N.headImg?(v(),g("img",{key:0,src:N.headImg,alt:N.name,class:"member-avatar",onError:u},null,40,D1)):(v(),g("div",L1,f(((J=N.name)==null?void 0:J.charAt(0))||"?"),1)),s("span",M1,f(N.name),1)]),s("div",K1,[s("span",O1,"层数 "+f(N.towerCountconvert||"0-0"),1)])])])}),128))],512)):tA("",!0)])]),_:1},8,["show"]))])}}},P1=Ae(x1,[["__scopeId","data-v-54d42504"]]),R1={key:0,class:"inline-wrapper"},V1={class:"inline-header"},N1={class:"header-actions"},G1={class:"weird-tower-content"},W1={key:0,class:"loading-state"},Y1={class:"records-info"},z1={class:"member-header"},X1={class:"member-info"},J1={class:"ranking-number"},q1=["src","alt"],j1={key:1,class:"member-avatar-placeholder"},Z1={class:"member-name"},Aw={class:"member-stats-inline"},ew={class:"stat-inline tower-count"},tw={class:"header-actions"},nw={class:"weird-tower-content"},sw={key:0,class:"loading-state"},aw={class:"records-info"},rw={class:"member-header"},ow={class:"member-info"},lw={class:"ranking-number"},iw=["src","alt"],uw={key:1,class:"member-avatar-placeholder"},cw={class:"member-name"},dw={class:"member-stats-inline"},vw={class:"stat-inline tower-count"},fw={__name:"CarScoreInfo",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=W(null),o=t,r=ZA(),i=qA(),l=I({get:()=>n.visible,set:F=>o("update:visible",F)}),c=W(!1),d=W([]),u=F=>{F.target.style.display="none"},b=async()=>{if(!i.selectedToken){r.warning("请先选择游戏角色");return}const F=i.selectedToken.id;if(i.getWebSocketStatus(F)!=="connected"){r.error("WebSocket未连接，无法查询爬塔数据");return}c.value=!0;try{const V=await i.sendMessageWithPromise(F,"car_getmemberrank",{},1e4);if(V&&V.list){const P=V.list.map(k=>{var E;return{roleId:k.roleId,name:k.name,headImg:(E=k.headImg)==null?void 0:E.replace(/`/g,"").trim(),score:k.score,power:k.power,rank:k.rank,serverId:k.serverId}});P.sort((k,E)=>E.score-k.score),d.value=P,r.success("赛车数据加载成功，已按积分从高到低排序")}else d.value=[],r.warning("未查询到赛车数据")}catch(V){console.error("查询赛车数据失败:",V),r.error(`查询失败: ${V.message}`),d.value=[]}finally{c.value=!1}},w=()=>{b()},Q=async()=>{if(!d.value){r.warning("没有可导出的数据");return}try{H(),r.success("导出成功")}catch(F){console.error("导出失败:",F),r.error("导出失败，请重试")}},H=async()=>{if(!a.value){alert("未找到要导出的DOM元素");return}try{const h=(await dt(a.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1})).toDataURL("image/png"),V=document.createElement("a");V.href=h,console.log();const P=W(_t());V.download=P.value.replace("/","年").replace("/","月")+"日俱乐部赛车数据.png",document.body.appendChild(V),V.click(),document.body.removeChild(V)}catch(F){console.error("DOM转图片失败：",F),alert("导出图片失败，请重试")}},M=()=>{};return e({fetchWeirdTowerInfo:b}),ae(()=>{n.inline&&b()}),(F,h)=>{const V=Z("n-icon"),P=Z("n-button"),k=Z("n-spin"),E=Z("n-tag"),D=Z("n-modal");return v(),g("div",null,[A.inline?(v(),g("div",R1,[s("div",V1,[h[3]||(h[3]=s("div",{class:"inline-title"},"俱乐部赛车信息",-1)),s("div",N1,[p(P,{size:"small",disabled:c.value,onClick:w},{icon:C(()=>[p(V,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[h[1]||(h[1]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(P,{type:"primary",size:"small",disabled:!d.value||c.value,onClick:Q},{icon:C(()=>[p(V,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[h[2]||(h[2]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),s("div",G1,[c.value?(v(),g("div",W1,[p(k,{size:"large"},{description:C(()=>[...h[4]||(h[4]=[X("正在加载赛车数据...",-1)])]),_:1})])):d.value.length>0?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",Y1,[p(E,{type:"success"},{default:C(()=>[X("总成员: "+f(d.value.length),1)]),_:1})]),(v(!0),g(vA,null,yA(d.value,(R,N)=>{var _;return v(),g("div",{key:R.roleId,class:"member-card"},[s("div",z1,[s("div",X1,[s("div",J1,f(N+1),1),R.headImg?(v(),g("img",{key:0,src:R.headImg,alt:R.name,class:"member-avatar",onError:u},null,40,q1)):(v(),g("div",j1,f(((_=R.name)==null?void 0:_.charAt(0))||"?"),1)),s("span",Z1,f(R.name),1)]),s("div",Aw,[s("span",ew,"积分 "+f(R.score||"0"),1)])])])}),128))],512)):tA("",!0)])])):(v(),pA(D,{key:1,show:l.value,"onUpdate:show":h[0]||(h[0]=R=>l.value=R),preset:"card",title:"俱乐部赛车信息",style:{width:"90%","max-width":"800px"},onAfterLeave:M},{"header-extra":C(()=>[s("div",tw,[p(P,{size:"small",disabled:c.value,onClick:w},{icon:C(()=>[p(V,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[h[5]||(h[5]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(P,{type:"primary",size:"small",disabled:!d.value||c.value,onClick:Q},{icon:C(()=>[p(V,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[h[6]||(h[6]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),default:C(()=>[s("div",nw,[c.value?(v(),g("div",sw,[p(k,{size:"large"},{description:C(()=>[...h[7]||(h[7]=[X("正在加载赛车数据...",-1)])]),_:1})])):d.value.length>0?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",aw,[p(E,{type:"success"},{default:C(()=>[X("总成员: "+f(d.value.length),1)]),_:1})]),(v(!0),g(vA,null,yA(d.value,(R,N)=>{var _;return v(),g("div",{key:R.roleId,class:"member-card"},[s("div",rw,[s("div",ow,[s("div",lw,f(N+1),1),R.headImg?(v(),g("img",{key:0,src:R.headImg,alt:R.name,class:"member-avatar",onError:u},null,40,iw)):(v(),g("div",uw,f(((_=R.name)==null?void 0:_.charAt(0))||"?"),1)),s("span",cw,f(R.name),1)]),s("div",dw,[s("span",vw,"积分 "+f(R.score||"0"),1)])])])}),128))],512)):tA("",!0)])]),_:1},8,["show"]))])}}},gw=Ae(fw,[["__scopeId","data-v-5b1204ed"]]),Bw={key:0,class:"empty-club"},pw={class:"actions"},mw={key:1},hw={class:"toolbar"},ww={key:0,class:"loading"},Cw={key:1,class:"empty-apply"},Qw={key:2,class:"apply-list-container"},yw={class:"apply-list",style:{maxHeight:"800px",overflowY:"auto"}},bw=["onMouseenter"],Fw={class:"apply-left"},Uw={class:"apply-info"},_w={class:"apply-name"},kw={class:"apply-details"},Iw={class:"apply-power"},Hw={key:0},Ew={key:0,class:"apply-reason"},Sw={class:"apply-right"},Tw={class:"overview"},$w={class:"club-header"},Dw={class:"meta"},Lw={class:"name"},Mw={class:"sub"},Kw={class:"overview-actions"},Ow={class:"grid"},xw={class:"item"},Pw={class:"value"},Rw={class:"item"},Vw={class:"value"},Nw={class:"item"},Gw={class:"value"},Ww={class:"item"},Yw={class:"value"},zw={key:0,class:"announcement"},Xw={class:"text"},Jw={key:1,class:"leader"},qw={class:"leader-info"},jw={class:"leader-name"},Zw={class:"members"},AC={class:"members-list"},eC={class:"left"},tC={class:"name"},nC={class:"right"},sC={class:"power"},aC={class:"red-quench"},rC={class:"tag"},oC={__name:"ClubInfo",setup(A){const e=qA(),t=ZA(),n=I(()=>{var m;return((m=e.gameData)==null?void 0:m.legionInfo)||null}),a=I(()=>{var m;return((m=n.value)==null?void 0:m.info)||null}),o=I(()=>{var m;return((m=a.value)==null?void 0:m.members)||{}}),r=I(()=>Object.values(o.value||{})),i=I(()=>r.value.length),l=I(()=>{var B;const m=(B=a.value)==null?void 0:B.leaderId;return m&&r.value.find(y=>Number(y.roleId)===Number(m))||null}),c=I(()=>[...r.value].sort((m,B)=>{var y,T;return Number(B.power||((y=B.custom)==null?void 0:y.s_power)||0)-Number(m.power||((T=m.custom)==null?void 0:T.s_power)||0)}).slice(0,30)),d=I(()=>{var y,T,G;const m=(G=(T=(y=e.gameData)==null?void 0:y.roleInfo)==null?void 0:T.role)==null?void 0:G.roleId;if(!m)return 0;const B=r.value.find(S=>Number(S.roleId)===Number(m));return(B==null?void 0:B.job)||0}),u=I(()=>[1,2].includes(d.value)),b=m=>{var y,T,G;const B=e.selectedToken;B&&(e.sendMessage(B.id,"legion_kickout",{roleId:Number(m)}),(G=(T=(y=e.gameData)==null?void 0:y.legionInfo)==null?void 0:T.info)!=null&&G.members&&(delete e.gameData.legionInfo.info.members[m],setTimeout(()=>{J()},1e3)),t.info(`正在踢出成员 ID: ${m}`))},w=()=>{const m=e.selectedToken;m&&(V.value=!0,P.value=!0,k.value=[],e.sendMessage(m.id,"legion_applylist",{}),t.info("正在获取申请列表"))},Q=m=>{const B=e.selectedToken;B&&(e.sendMessage(B.id,"legion_agree",{roleId:Number(m)}),k.value=k.value.filter(y=>y.roleId!==m),t.info(`已通过成员 ID: ${m} 的申请`))},H=m=>{const B=e.selectedToken;B&&(e.sendMessage(B.id,"legion_ignore",{roleId:Number(m)}),k.value=k.value.filter(y=>y.roleId!==m),t.info(`已拒绝成员 ID: ${m} 的申请`))},M=()=>{const m=e.selectedToken;if(!m)return;const B=k.value.length;B!==0&&(k.value.forEach(y=>{e.sendMessage(m.id,"legion_agree",{roleId:Number(y.roleId)})}),k.value=[],t.success(`已通过所有 ${B} 个申请`))},F=()=>{const m=e.selectedToken;if(!m)return;const B=k.value.length;B!==0&&(k.value.forEach(y=>{e.sendMessage(m.id,"legion_ignore",{roleId:Number(y.roleId)})}),k.value=[],t.success(`已拒绝所有 ${B} 个申请`))},h=W("overview"),V=W(!1),P=W(!1),k=W([]),E=W(null),D=m=>{const B=m.body;if(B)if(typeof B=="object")if(Array.isArray(B.roleList)){const y=B.roleList.filter(T=>T.roleId&&T.name);k.value=y.map(T=>{var G,S;return{headImg:T.headImg,level:T.level,name:T.name,power:T.power,roleId:T.roleId,serverId:((G=T.ext)==null?void 0:G.server_id)||"",applyReason:((S=T.ext)==null?void 0:S.legion_apply_reason)||""}}),P.value=!1,t.success(`获取到 ${y.length} 个申请`)}else if(Array.isArray(B.applyList)||Array.isArray(B.list)||Array.isArray(B.data)){const y=B.applyList||B.list||B.data;k.value=y.filter(T=>T.roleId&&T.name).map(T=>{var G,S;return{...T,serverId:((G=T.ext)==null?void 0:G.server_id)||"",applyReason:((S=T.ext)==null?void 0:S.legion_apply_reason)||""}}),P.value=!1,t.success(`获取到 ${k.value.length} 个申请`)}else Array.isArray(B)?(k.value=B.filter(y=>y.roleId&&y.name).map(y=>{var T,G;return{...y,serverId:((T=y.ext)==null?void 0:T.server_id)||"",applyReason:((G=y.ext)==null?void 0:G.legion_apply_reason)||""}}),P.value=!1,t.success(`获取到 ${k.value.length} 个申请`)):(k.value=[],P.value=!1,t.info("暂无申请"));else Array.isArray(B)?(k.value=B.filter(y=>y.roleId&&y.name).map(y=>{var T,G;return{...y,serverId:((T=y.ext)==null?void 0:T.server_id)||"",applyReason:((G=y.ext)==null?void 0:G.legion_apply_reason)||""}}),P.value=!1,t.success(`获取到 ${k.value.length} 个申请`)):(k.value=[],P.value=!1,t.info("暂无申请"));else k.value=[],P.value=!1,t.info("暂无申请")};ae(()=>{Br.on("legion_applylistresp",D)}),kt(()=>{Br.off("legion_applylistresp",D)});const R=I(()=>{var T,G,S,O;const m=Number(((O=(S=(G=(T=e.gameData)==null?void 0:T.roleInfo)==null?void 0:G.role)==null?void 0:S.statisticsTime)==null?void 0:O["legion:sign:in"])||0),B=new Date;B.setHours(0,0,0,0);const y=Math.floor(B.getTime()/1e3);return m>y}),N=()=>{const m=e.selectedToken;!m||R.value||(e.sendMessage(m.id,"legion_signin"),e.sendMessage(m.id,"role_getroleinfo"),t.info("俱乐部签到"))},_=I(()=>{const m=n.value||{},B=m.info||{},y=B.currentBoss||{},T=m.statistics||m.stat||{},G=Number(B.power??m.power??B.s_power??m.s_power??0),S=B.dan??m.dan??B.rank??m.rank??"-",O=Number(B.redQuenchCnt??m.redQuenchCnt??T["red:quench"]??T.red_quench??0),K=T["last:war:rank"]??T.lastWarRank??T["legion:last:war:rank"]??"-",Y=!!(B.noApply??m.noApply),q=$(y.currentHP||0);return{power:G,dan:S??"-",redQuench:O,lastWarRank:K,noApply:Y,currentHP:q}}),J=()=>{const m=e.selectedToken;m&&e.sendMessage(m.id,"legion_getinfo")},z=m=>m===1?"会长":m===2?"副会长":"成员",L=m=>m+"红",$=m=>{const B=Number(m||0);return B>=1e12?(B/1e12).toFixed(2)+"兆":B>=1e8?(B/1e8).toFixed(2)+"亿":B>=1e4?(B/1e4).toFixed(2)+"万":String(B)};return(m,B)=>{const y=Z("n-empty"),T=Z("n-button"),G=Z("n-space"),S=Z("n-spin"),O=Z("n-avatar"),K=Z("n-modal"),Y=Z("n-tab-pane"),q=Z("n-tabs"),j=De;return v(),pA(j,{class:"club-info",statusClass:{active:!!a.value}},{icon:C(()=>[...B[3]||(B[3]=[s("img",{src:er,alt:"俱乐部图标"},null,-1)])]),title:C(()=>[...B[4]||(B[4]=[s("h3",null,"俱乐部信息",-1),s("p",null,"军团/俱乐部概览与成员",-1)])]),badge:C(()=>[s("span",null,f(a.value?"已加入":"暂无俱乐部"),1)]),default:C(()=>[a.value?(v(),g("div",mw,[s("div",hw,[p(G,{size:"small"},{default:C(()=>[u.value?(v(),pA(T,{key:0,size:"small",onClick:w},{default:C(()=>[...B[6]||(B[6]=[X("申请列表",-1)])]),_:1})):tA("",!0),p(T,{size:"small",onClick:J},{default:C(()=>[...B[7]||(B[7]=[X("刷新",-1)])]),_:1})]),_:1})]),p(K,{show:V.value,"onUpdate:show":B[1]||(B[1]=sA=>V.value=sA),title:"俱乐部申请列表","mask-closable":!0,"show-close-button":!0,"close-on-esc":!0,preset:"card","show-footer":!1,style:{width:"700px"}},{"header-extra":C(()=>[p(G,{size:"small"},{default:C(()=>[p(T,{size:"small",type:"primary",onClick:M,disabled:k.value.length===0},{default:C(()=>[...B[8]||(B[8]=[X(" 一键通过 ",-1)])]),_:1},8,["disabled"]),p(T,{size:"small",type:"error",onClick:F,disabled:k.value.length===0},{default:C(()=>[...B[9]||(B[9]=[X(" 一键拒绝 ",-1)])]),_:1},8,["disabled"])]),_:1})]),default:C(()=>[P.value?(v(),g("div",ww,[p(S,{size:"small"}),B[10]||(B[10]=s("span",{style:{"margin-left":"8px"}},"正在加载申请列表...",-1))])):k.value.length===0?(v(),g("div",Cw,[p(y,{description:"暂无申请"})])):(v(),g("div",Qw,[s("div",yw,[(v(!0),g(vA,null,yA(k.value,sA=>(v(),g("div",{key:sA.roleId,class:iA(["apply-item",{"apply-item-hover":E.value===sA.roleId}]),onMouseenter:wA=>E.value=sA.roleId,onMouseleave:B[0]||(B[0]=wA=>E.value=null)},[s("div",Fw,[p(O,{size:28,src:sA.headImg||"/icons/xiaoyugan.png"},null,8,["src"]),s("div",Uw,[s("div",_w,f(sA.name)+"(ID:"+f(sA.roleId)+") ",1),s("div",kw,[s("span",null,"等级: "+f(sA.level||0),1),s("span",Iw,f($(sA.power||0)),1),sA.serverId?(v(),g("span",Hw,"服务区: "+f(sA.serverId),1)):tA("",!0)]),sA.applyReason?(v(),g("div",Ew," 申请留言: "+f(sA.applyReason),1)):tA("",!0)])]),s("div",Sw,[p(G,{size:"small"},{default:C(()=>[p(T,{size:"tiny",type:"primary",onClick:wA=>Q(sA.roleId)},{default:C(()=>[...B[11]||(B[11]=[X(" 通过 ",-1)])]),_:1},8,["onClick"]),p(T,{size:"tiny",onClick:wA=>H(sA.roleId)},{default:C(()=>[...B[12]||(B[12]=[X(" 拒绝 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)])],42,bw))),128))])]))]),_:1},8,["show"]),p(q,{value:h.value,"onUpdate:value":B[2]||(B[2]=sA=>h.value=sA),type:"line",animated:""},{default:C(()=>[p(Y,{name:"overview",tab:"概览","display-directive":"show:lazy"},{default:C(()=>[s("div",Tw,[s("div",$w,[p(O,{size:48,src:a.value.logo||"/icons/xiaoyugan.png"},null,8,["src"]),s("div",Dw,[s("div",Lw,f(a.value.name),1),s("div",Mw," ID "+f(a.value.id)+" · Lv."+f(a.value.level)+" · 服务器 "+f(a.value.serverId-27),1)])]),s("div",Kw,[p(G,{size:"small"},{default:C(()=>[p(T,{size:"small",disabled:R.value,type:"primary",onClick:N},{default:C(()=>[X(f(R.value?"已签到":"俱乐部签到"),1)]),_:1},8,["disabled"])]),_:1})]),s("div",Ow,[s("div",xw,[B[13]||(B[13]=s("div",{class:"label"},"战力",-1)),s("div",Pw,f($(_.value.power)),1)]),s("div",Rw,[B[14]||(B[14]=s("div",{class:"label"},"成员数",-1)),s("div",Vw,f(i.value),1)]),s("div",Nw,[B[15]||(B[15]=s("div",{class:"label"},"红粹",-1)),s("div",Gw,f(_.value.redQuench),1)]),s("div",Ww,[B[16]||(B[16]=s("div",{class:"label"},"Boss血量",-1)),s("div",Yw,f(_.value.currentHP),1)])]),a.value.announcement?(v(),g("div",zw,[B[17]||(B[17]=s("div",{class:"label"},"公告",-1)),s("div",Xw,f(a.value.announcement),1)])):tA("",!0),l.value?(v(),g("div",Jw,[B[18]||(B[18]=s("div",{class:"label"},"会长",-1)),s("div",qw,[p(O,{size:32,src:l.value.headImg||"/icons/xiaoyugan.png"},null,8,["src"]),s("span",jw,f(l.value.name),1)])])):tA("",!0)])]),_:1}),p(Y,{name:"members",tab:"成员","display-directive":"show:lazy"},{default:C(()=>[s("div",Zw,[s("div",AC,[(v(!0),g(vA,null,yA(c.value,sA=>{var wA,fA;return v(),g("div",{key:sA.roleId,class:"member-row"},[s("div",eC,[p(O,{size:28,src:sA.headImg||"/icons/xiaoyugan.png"},null,8,["src"]),s("span",tC,f(sA.name)+"(ID:"+f(sA.roleId)+")",1)]),s("div",nC,[s("span",sC,f($(sA.power||((wA=sA.custom)==null?void 0:wA.s_power)||0)),1),s("span",aC,f(L(((fA=sA.custom)==null?void 0:fA.red_quench_cnt)||0)),1),s("span",rC,f(z(sA.job)),1),u.value&&sA.job!==1?(v(),pA(T,{key:0,size:"tiny",type:"error",onClick:FA=>b(sA.roleId)},{default:C(()=>[...B[19]||(B[19]=[X(" 踢出 ",-1)])]),_:1},8,["onClick"])):tA("",!0)])])}),128))])])]),_:1}),p(Y,{name:"records",tab:"盐场战绩","display-directive":"show:lazy"},{default:C(()=>[p(Mh,{inline:""})]),_:1}),p(Y,{name:"history",tab:"俱乐部历史战绩","display-directive":"show:lazy"},{default:C(()=>[p(l1,{inline:""})]),_:1}),p(Y,{name:"weirdtower",tab:"怪异塔信息","display-directive":"show:lazy"},{default:C(()=>[p(P1,{inline:""})]),_:1}),p(Y,{name:"carsocre",tab:"赛车积分信息","display-directive":"show:lazy"},{default:C(()=>[p(gw,{inline:""})]),_:1})]),_:1},8,["value"])])):(v(),g("div",Bw,[p(y,{description:"暂无俱乐部"}),s("div",pw,[p(T,{size:"small",onClick:J},{default:C(()=>[...B[5]||(B[5]=[X("刷新",-1)])]),_:1})])]))]),_:1},8,["statusClass"])}}},lC=Ae(oC,[["__scopeId","data-v-3f1b46d3"]]),iC="/icons/174023274867420.png",uC={class:"status-card daily-task"},cC={class:"card-header"},dC={class:"header-right"},vC={class:"card-content"},fC={class:"progress-container"},gC={class:"card-actions"},BC=["disabled"],pC={key:0,class:"loading-text"},mC={key:1},hC={key:2},wC={class:"modal-header"},CC={class:"settings-content"},QC={class:"settings-grid"},yC={class:"setting-item"},bC={class:"setting-item"},FC={class:"setting-item"},UC={class:"setting-switches"},_C={class:"switch-row"},kC={class:"switch-row"},IC={class:"switch-row"},HC={class:"switch-row"},EC={class:"switch-row"},SC={class:"switch-row"},TC={class:"switch-row"},$C={class:"modal-header"},DC=["disabled"],LC={class:"task-list"},MC={class:"task-item-left"},KC={class:"task-name"},OC={class:"modal-header"},xC={class:"log-time"},Qo=500,PC={__name:"DailyTaskStatus",setup(A){const e=qA(),t=ZA(),n=new Wi(e),a=W(!1),o=W(!1),r=W(!1),i=W(!1),l=W(null),c=zA({arenaFormation:1,bossFormation:1,bossTimes:2,claimBottle:!0,payRecruit:!0,openBox:!0,arenaEnable:!0,claimHangUp:!0,claimEmail:!0,blackMarketPurchase:!0}),d=W([{id:1,name:"登录一次游戏",completed:!1,loading:!1},{id:2,name:"分享一次游戏",completed:!1,loading:!1},{id:3,name:"赠送好友3次金币",completed:!1,loading:!1},{id:4,name:"进行2次招募",completed:!1,loading:!1},{id:5,name:"领取5次挂机奖励",completed:!1,loading:!1},{id:6,name:"进行3次点金",completed:!1,loading:!1},{id:7,name:"开启3次宝箱",completed:!1,loading:!1},{id:12,name:"黑市购买1次物品（请设置采购清单）",completed:!1,loading:!1},{id:13,name:"进行1场竞技场战斗",completed:!1,loading:!1},{id:14,name:"收获1个任意盐罐",completed:!1,loading:!1}]),u=[1,2,3,4].map(z=>({label:`阵容${z}`,value:z})),b=[0,1,2,3,4].map(z=>({label:`${z}次`,value:z})),w=I(()=>e.selectedTokenRoleInfo);I(()=>{var L;return((L=e.selectedTokenRoleInfo)==null?void 0:L.role)||1});const Q=I(()=>{var z,L,$;return(($=(L=(z=w.value)==null?void 0:z.role)==null?void 0:L.dailyTask)==null?void 0:$.dailyPoint)??0}),H=I(()=>Math.min(Q.value,100)),M=I(()=>H.value>=100),F=I(()=>M.value?"#10b981":"#3b82f6"),h=I(()=>e.selectedToken?e.getWebSocketStatus(e.selectedToken.id)==="connected":!1),V=W([]),P=(z,L="info")=>{const $=new Date().toLocaleTimeString();V.value.push({time:$,message:z,type:L}),V.value.length>Qo&&V.value.splice(0,V.value.length-Qo),Us(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight)})},k=z=>{var y,T;if(!((T=(y=z==null?void 0:z.role)==null?void 0:y.dailyTask)!=null&&T.complete)){P("角色信息中无任务完成数据","warning");return}const L=z.role.dailyTask.complete,$=G=>G===-1;P("开始同步任务完成状态..."),P(`服务器返回的任务完成数据: ${JSON.stringify(L)}`);let m=0,B=0;d.value.forEach(G=>{G.completed=!1}),Object.keys(L).forEach(G=>{const S=Number(G),O=d.value.findIndex(K=>K.id===S);if(O>=0){const K=$(L[G]);d.value[O].completed=K,m++,K&&B++,P(`任务${S} "${d.value[O].name}": ${K?"已完成":"未完成"}`,K?"success":"info")}else P(`服务器返回未知任务ID: ${S} (完成值: ${L[G]})`,"warning")}),P(`任务状态同步完成: ${B}/${m} 已完成`),P(`当前进度: ${Q.value}/100`)},E=async()=>{if(!e.selectedToken)throw new Error("没有选中的Token");const z=e.selectedToken.id;P("正在获取角色信息...");try{const L=await e.sendGetRoleInfo(z);return P("角色信息获取成功","success"),L&&k(L),L}catch(L){throw P(`获取角色信息失败: ${L.message}`,"error"),L}},D=async()=>{if(!e.selectedToken||i.value){t.warning("没有选中Token或正在执行中");return}if(!h.value){t.error("WebSocket连接未建立，请检查连接状态");return}i.value=!0,r.value=!0,V.value=[];try{P("=== 开始执行一键补差任务 ==="),await n.run(e.selectedToken.id,{onLog:z=>P(z.message,z.type),onProgress:z=>{P(`任务进度: ${z}%`)}},c),P("=== 任务执行完成 ===","success"),t.success("每日任务补差执行完成"),setTimeout(async()=>{try{await E(),P("最终角色信息刷新完成","success")}catch(z){P(`最终刷新失败: ${z.message}`,"warning")}},3e3)}catch(z){P(`任务执行失败: ${z.message}`,"error"),console.error("详细错误信息:",z),t.error(`任务执行失败: ${z.message}`)}finally{i.value=!1}},R=async()=>{if(!h.value){t.warning("WebSocket未连接，无法刷新任务状态");return}try{P("手动刷新任务状态..."),await E(),t.success("任务状态刷新成功")}catch(z){P(`刷新失败: ${z.message}`,"error"),t.error(`刷新失败: ${z.message}`)}},N=()=>e.selectedToken?{roleId:e.selectedToken.id}:null,_=z=>{try{const L=localStorage.getItem(`daily-settings:${z}`);return L?JSON.parse(L):null}catch(L){return console.error("Failed to load settings:",L),null}},J=(z,L)=>{try{localStorage.setItem(`daily-settings:${z}`,JSON.stringify(L))}catch($){console.error("Failed to save settings:",$)}};return jA(c,z=>{const L=N();L&&J(L.roleId,z)},{deep:!0}),jA(()=>e.selectedToken,async(z,L)=>{if(z&&z!==L){P(`切换到Token: ${z.name}`);const $=_(z.id);if($&&Object.assign(c,$),h.value)try{await E()}catch(m){console.warn("切换token后获取角色信息失败:",m.message)}}},{immediate:!0}),jA(()=>e.selectedTokenRoleInfo,z=>{var L,$;($=(L=z==null?void 0:z.role)==null?void 0:L.dailyTask)!=null&&$.complete&&(P("角色信息更新，同步任务状态"),k(z))},{immediate:!0,deep:!0}),ae(async()=>{if(P("组件初始化完成"),e.selectedToken&&h.value)try{await E()}catch(L){console.warn("初始化时获取角色信息失败:",L.message)}const z=N();if(z){const L=_(z.roleId);L&&Object.assign(c,L)}}),Ti(()=>{P("组件即将卸载")}),(z,L)=>{const $=Z("n-progress"),m=Z("n-icon"),B=Z("n-select"),y=Z("n-switch"),T=Z("n-modal"),G=Z("n-tag");return v(),g("div",uC,[s("div",cC,[L[17]||(L[17]=s("img",{src:iC,alt:"每日任务",class:"status-icon"},null,-1)),L[18]||(L[18]=s("div",{class:"status-info"},[s("h3",null,"每日任务"),s("p",null,"当前进度")],-1)),s("div",dC,[s("div",{class:iA(["status-badge",{completed:M.value}]),onClick:L[0]||(L[0]=S=>o.value=!0)},[s("div",{class:iA(["status-dot",{completed:M.value}])},null,2),L[15]||(L[15]=s("span",null,"任务详情",-1))],2),s("button",{class:"settings-gear",onClick:L[1]||(L[1]=S=>a.value=!0),title:"任务设置"},[...L[16]||(L[16]=[s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[s("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.240.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),s("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])])]),s("div",vC,[s("div",fC,[p($,{type:"line",percentage:H.value,height:8,"border-radius":4,color:F.value,"rail-color":"#f3f4f6"},null,8,["percentage","color"])]),L[19]||(L[19]=s("div",{class:"info-container"},"右上角小齿轮有惊喜",-1))]),s("div",gC,[s("button",{class:"action-button",disabled:i.value||!h.value,onClick:D},[i.value?(v(),g("span",pC,[...L[20]||(L[20]=[s("svg",{class:"loading-icon",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12 22c5.421 0 10-4.579 10-10h-2c0 4.337-3.663 8-8 8s-8-3.663-8-8c0-4.336 3.663-8 8-8V2C6.579 2 2 6.58 2 12c0 5.421 4.579 10 10 10z"})],-1),X(" 执行中... ",-1)])])):h.value?(v(),g("span",hC,"一键补差")):(v(),g("span",mC,"WebSocket未连接"))],8,BC)]),p(T,{show:a.value,"onUpdate:show":L[12]||(L[12]=S=>a.value=S),preset:"card",title:"任务设置",style:{width:"90%","max-width":"400px"}},{header:C(()=>[s("div",wC,[p(m,null,{default:C(()=>[p(_A(Yi))]),_:1}),L[21]||(L[21]=s("span",null,"任务设置",-1))])]),default:C(()=>[s("div",CC,[s("div",QC,[s("div",yC,[L[22]||(L[22]=s("label",{class:"setting-label"},"竞技场阵容",-1)),p(B,{value:c.arenaFormation,"onUpdate:value":L[2]||(L[2]=S=>c.arenaFormation=S),options:_A(u),size:"small"},null,8,["value","options"])]),s("div",bC,[L[23]||(L[23]=s("label",{class:"setting-label"},"BOSS阵容",-1)),p(B,{value:c.bossFormation,"onUpdate:value":L[3]||(L[3]=S=>c.bossFormation=S),options:_A(u),size:"small"},null,8,["value","options"])]),s("div",FC,[L[24]||(L[24]=s("label",{class:"setting-label"},"BOSS次数",-1)),p(B,{value:c.bossTimes,"onUpdate:value":L[4]||(L[4]=S=>c.bossTimes=S),options:_A(b),size:"small"},null,8,["value","options"])]),s("div",UC,[s("div",_C,[L[25]||(L[25]=s("span",{class:"switch-label"},"领罐子",-1)),p(y,{value:c.claimBottle,"onUpdate:value":L[5]||(L[5]=S=>c.claimBottle=S)},null,8,["value"])]),s("div",kC,[L[26]||(L[26]=s("span",{class:"switch-label"},"领挂机",-1)),p(y,{value:c.claimHangUp,"onUpdate:value":L[6]||(L[6]=S=>c.claimHangUp=S)},null,8,["value"])]),s("div",IC,[L[27]||(L[27]=s("span",{class:"switch-label"},"竞技场",-1)),p(y,{value:c.arenaEnable,"onUpdate:value":L[7]||(L[7]=S=>c.arenaEnable=S)},null,8,["value"])]),s("div",HC,[L[28]||(L[28]=s("span",{class:"switch-label"},"开宝箱",-1)),p(y,{value:c.openBox,"onUpdate:value":L[8]||(L[8]=S=>c.openBox=S)},null,8,["value"])]),s("div",EC,[L[29]||(L[29]=s("span",{class:"switch-label"},"领取邮件奖励",-1)),p(y,{value:c.claimEmail,"onUpdate:value":L[9]||(L[9]=S=>c.claimEmail=S)},null,8,["value"])]),s("div",SC,[L[30]||(L[30]=s("span",{class:"switch-label"},"黑市购买物品",-1)),p(y,{value:c.blackMarketPurchase,"onUpdate:value":L[10]||(L[10]=S=>c.blackMarketPurchase=S)},null,8,["value"])]),s("div",TC,[L[31]||(L[31]=s("span",{class:"switch-label"},"付费招募",-1)),p(y,{value:c.payRecruit,"onUpdate:value":L[11]||(L[11]=S=>c.payRecruit=S)},null,8,["value"])])])])])]),_:1},8,["show"]),p(T,{show:o.value,"onUpdate:show":L[13]||(L[13]=S=>o.value=S),preset:"card",title:"每日任务详情",style:{width:"90%","max-width":"400px"}},{header:C(()=>[s("div",$C,[p(m,null,{default:C(()=>[p(_A(Zi))]),_:1}),L[33]||(L[33]=s("span",null,"每日任务详情",-1)),s("button",{class:"refresh-button",disabled:i.value,onClick:R},[p(m,null,{default:C(()=>[p(_A(_e))]),_:1}),L[32]||(L[32]=X(" 刷新状态 ",-1))],8,DC)])]),default:C(()=>[s("div",LC,[(v(!0),g(vA,null,yA(d.value,S=>(v(),g("div",{key:S.id,class:"task-item"},[s("div",MC,[p(m,{class:iA(["task-status-icon",{completed:S.completed}])},{default:C(()=>[S.completed?(v(),pA(_A(zi),{key:0})):(v(),pA(_A(cu),{key:1}))]),_:2},1032,["class"]),s("span",KC,f(S.name),1)]),p(G,{type:S.completed?"success":"default",size:"small"},{default:C(()=>[X(f(S.completed?"已完成":"未完成"),1)]),_:2},1032,["type"])]))),128))])]),_:1},8,["show"]),p(T,{show:r.value,"onUpdate:show":L[14]||(L[14]=S=>r.value=S),preset:"card",title:"任务执行日志",style:{width:"90%","max-width":"500px"}},{header:C(()=>[s("div",OC,[p(m,null,{default:C(()=>[p(_A(it))]),_:1}),L[34]||(L[34]=s("span",null,"任务执行日志",-1))])]),default:C(()=>[s("div",{ref_key:"logContainer",ref:l,class:"log-container"},[(v(!0),g(vA,null,yA(V.value,S=>(v(),g("div",{key:S.time+S.message,class:"log-item"},[s("span",xC,f(S.time),1),s("span",{class:iA(["log-message",{error:S.type==="error",success:S.type==="success",warning:S.type==="warning"}])},f(S.message),3)]))),128))],512)]),_:1},8,["show"])])}}},RC=Ae(PC,[["__scopeId","data-v-c80f27f5"]]),Kt="/icons/Ob7pyorzmHiJcbab2c25af264d0758b527bc1b61cc3b.png",VC={class:"status-card team-formation-card"},NC={class:"card-header"},GC={class:"team-selector"},WC=["disabled","onClick"],YC=["disabled"],zC={class:"card-content"},XC={class:"current-team-info"},JC={class:"team-number"},qC={class:"heroes-container"},jC={key:0,class:"heroes-formation"},ZC={class:"formation-row front-row"},AQ={class:"hero-circle"},eQ=["src","alt"],tQ={key:1,class:"hero-placeholder"},nQ={class:"hero-name"},sQ={class:"formation-row back-row"},aQ={class:"hero-circle"},rQ=["src","alt"],oQ={key:1,class:"hero-placeholder"},lQ={class:"hero-name"},iQ={key:1,class:"empty-team"},uQ={key:2,class:"empty-team"},cQ=XA({__name:"TeamFormation",setup(A){const e=qA(),t=ZA(),n=W(!1),a=W(!1),o=W(1),r=W([1,2,3,4]),i={101:{name:"司马懿",type:"魏国",avatar:"/team/simayi.png"},102:{name:"郭嘉",type:"魏国",avatar:"/team/guojia.png"},103:{name:"关羽",type:"蜀国",avatar:"/team/guanyu.png"},104:{name:"诸葛亮",type:"蜀国",avatar:"/team/zhugeliang.png"},105:{name:"周瑜",type:"吴国",avatar:"/team/zhouyu.png"},106:{name:"太史慈",type:"吴国",avatar:"/team/taishici.png"},107:{name:"吕布",type:"群雄",avatar:"/team/lvbu.png"},108:{name:"华佗",type:"群雄",avatar:"/team/huatuo.png"},109:{name:"甄姬",type:"魏国",avatar:"/team/zhenji.png"},110:{name:"黄月英",type:"蜀国",avatar:"/team/huangyueying.png"},111:{name:"孙策",type:"吴国",avatar:"/team/sunce.png"},112:{name:"贾诩",type:"群雄",avatar:"/team/jiaxu.png"},113:{name:"曹仁",type:"魏国",avatar:"/team/caoren.png"},114:{name:"姜维",type:"蜀国",avatar:"/team/jiangwei.png"},115:{name:"孙坚",type:"吴国",avatar:"/team/sunjian.png"},116:{name:"公孙瓒",type:"群雄",avatar:"/team/gongsunzan.png"},117:{name:"典韦",type:"魏国",avatar:"/team/dianwei.png"},118:{name:"赵云",type:"蜀国",avatar:"/team/zhaoyun.png"},119:{name:"大乔",type:"吴国",avatar:"/team/daqiao.png"},120:{name:"张角",type:"群雄",avatar:"/team/zhangjiao.png"},201:{name:"徐晃",type:"魏国",avatar:"/team/xuhuang.png"},202:{name:"荀彧",type:"魏国",avatar:"/team/xunyu.png"},203:{name:"典韦",type:"魏国",avatar:"/team/xiaodianwei.png"},204:{name:"张飞",type:"蜀国",avatar:"/team/zhangfei.png"},205:{name:"赵云",type:"蜀国",avatar:"/team/xiaozhaoyun.png"},206:{name:"庞统",type:"蜀国",avatar:"/team/pangtong.png"},207:{name:"鲁肃",type:"吴国",avatar:"/team/lusu.png"},208:{name:"陆逊",type:"吴国",avatar:"/team/luxun.png"},209:{name:"甘宁",type:"吴国",avatar:"/team/ganning.png"},210:{name:"貂蝉",type:"群雄",avatar:"/team/diaochan.png"},211:{name:"董卓",type:"群雄",avatar:"/team/dongzhuo.png"},212:{name:"张角",type:"群雄",avatar:"/team/xiaozhangjiao.png"},213:{name:"张辽",type:"魏国",avatar:"/team/zhangliao.png"},214:{name:"夏侯惇",type:"魏国",avatar:"/team/xiahoudun.png"},215:{name:"许褚",type:"魏国",avatar:"/team/xuzhu.png"},216:{name:"夏侯渊",type:"魏国",avatar:"/team/xiahouyuan.png"},217:{name:"魏延",type:"蜀国",avatar:"/team/weiyan.png"},218:{name:"黄忠",type:"蜀国",avatar:"/team/huangzhong.png"},219:{name:"马超",type:"蜀国",avatar:"/team/machao.png"},220:{name:"马岱",type:"蜀国",avatar:"/team/madai.png"},221:{name:"吕蒙",type:"吴国",avatar:"/team/lvmeng.png"},222:{name:"黄盖",type:"吴国",avatar:"/team/huanggai.png"},223:{name:"蔡文姬",type:"魏国",avatar:"/team/caiwenji.png"},224:{name:"小乔",type:"吴国",avatar:"/team/xiaoqiao.png"},225:{name:"袁绍",type:"群雄",avatar:"/team/yuanshao.png"},226:{name:"华雄",type:"群雄",avatar:"/team/huaxiong.png"},227:{name:"颜良",type:"群雄",avatar:"/team/yanliang.png"},228:{name:"文丑",type:"群雄",avatar:"/team/wenchou.png"},301:{name:"周泰",type:"吴国",avatar:"/team/zhoutai.png"},302:{name:"许攸",type:"魏国",avatar:"/team/xuyou.png"},303:{name:"于禁",type:"魏国",avatar:"/team/yujin.png"},304:{name:"张星彩",type:"蜀国",avatar:"/team/zhangxingcai.png"},305:{name:"关银屏",type:"蜀国",avatar:"/team/guanyinping.png"},306:{name:"关平",type:"蜀国",avatar:"/team/guanping.png"},307:{name:"程普",type:"吴国",avatar:"/team/chengpu.png"},308:{name:"张昭",type:"吴国",avatar:"/team/zhangzhao.png"},309:{name:"陆绩",type:"吴国",avatar:"/team/luji.png"},310:{name:"吕玲绮",type:"群雄",avatar:"/team/lvlingqi.png"},311:{name:"潘凤",type:"群雄",avatar:"/team/panfeng.png"},312:{name:"邢道荣",type:"群雄",avatar:"/team/xingdaorong.png"},313:{name:"祝融夫人",type:"群雄",avatar:"/team/zhurongfuren.png"},314:{name:"孟获",type:"群雄",avatar:"/team/menghuo.png"}},l=I(()=>e.selectedToken?e.getWebSocketStatus(e.selectedToken.id):"disconnected"),c=I(()=>{var V;return((V=e.gameData)==null?void 0:V.presetTeam)??null});function d(V){var _;if(!V)return{useTeamId:1,teams:{}};const P=V.presetTeamInfo??V,k=J=>{if(!J||typeof J!="object")return null;if(typeof J.useTeamId=="number")return J.useTeamId;for(const z of Object.keys(J)){const L=k(J[z]);if(L)return L}return null},E=P.useTeamId??((_=P.presetTeamInfo)==null?void 0:_.useTeamId)??k(P)??1,D=P.presetTeamInfo??P,R={},N=Object.keys(D||{}).filter(J=>/^\d+$/.test(J));for(const J of N){const z=Number(J),L=D[J];if(!L){R[z]={teamInfo:{}};continue}if(L.teamInfo)R[z]={teamInfo:L.teamInfo};else if(L.heroes){const $={};L.heroes.forEach((m,B)=>{$[String(B+1)]=m}),R[z]={teamInfo:$}}else if(typeof L=="object"){const $=Object.values(L).some(m=>m&&typeof m=="object"&&"heroId"in m);R[z]={teamInfo:$?L:{}}}else R[z]={teamInfo:{}}}return{useTeamId:Number(E)||1,teams:R}}const u=I(()=>d(c.value)),b=I(()=>{var k;const V=(k=u.value.teams[o.value])==null?void 0:k.teamInfo;if(console.log("🚀 ~ team:",V),!V)return[];const P=[];for(const[E,D]of Object.entries(V)){const R=(D==null?void 0:D.heroId)??(D==null?void 0:D.id);if(!R)continue;const N=i[Number(R)],_=N==null?void 0:N.avatar,J=_?"/"+_.replace(/^\//,""):void 0;P.push({id:Number(R),name:(N==null?void 0:N.name)??`英雄${R}`,type:(N==null?void 0:N.type)??"",position:Number(E),level:(D==null?void 0:D.level)??1,avatar:J})}return P.sort((E,D)=>E.position-D.position),console.log("🚀 ~ heroes:",P),P}),w=async(V,P,k={},E="",D=8e3)=>{try{return await e.sendMessageWithPromise(String(V),P,k,D)}catch(R){throw E&&t.error(`${E}失败：${(R==null?void 0:R.message)??R}`),R}},Q=async(V=!1)=>{var k,E;if(!e.selectedToken)return t.warning("请先选择Token"),null;const P=e.selectedToken.id;if(!V){const D=(E=(k=e.gameData)==null?void 0:k.presetTeam)==null?void 0:E.presetTeamInfo;if(D)return D}n.value=!0;try{const D=await w(P,"presetteam_getinfo",{},"获取阵容信息");return e.$patch(R=>{R.gameData={...R.gameData??{},presetTeam:D}}),(D==null?void 0:D.presetTeamInfo)??null}catch(D){return console.error("获取阵容信息失败:",D),null}finally{n.value=!1}},H=()=>{const V=Object.keys(u.value.teams).map(Number).filter(P=>!Number.isNaN(P)).sort((P,k)=>P-k);r.value=V.length?V:[1,2,3,4]},M=()=>{o.value=u.value.useTeamId||1},F=async V=>{if(a.value||n.value)return;if(!e.selectedToken){t.warning("请先选择Token");return}const P=o.value;a.value=!0;try{await w(e.selectedToken.id,"presetteam_saveteam",{teamId:V},`切换到阵容 ${V}`),o.value=V,t.success(`已切换到阵容 ${V}`),await h(!0)}catch{o.value=P}finally{a.value=!1}},h=async(V=!1)=>{await Q(V)};return ae(async()=>{e.selectedToken&&l.value==="connected"&&(await h(!0),H(),M(),c.value||(await h(!0),H(),M()))}),jA(l,(V,P)=>{V==="connected"&&P!=="connected"&&e.selectedToken&&setTimeout(async()=>{await h(!1),H(),M(),c.value||(await h(!0),H(),M())},1e3)}),jA(()=>e.selectedToken,async(V,P)=>{V&&V.id!==(P==null?void 0:P.id)&&e.getWebSocketStatus(V.id)==="connected"&&(await h(!0),H(),M())}),jA(()=>c.value,()=>{H(),M()},{deep:!0}),(V,P)=>(v(),g("div",VC,[s("div",NC,[P[2]||(P[2]=s("img",{src:Kt,alt:"阵容",class:"icon"},null,-1)),P[3]||(P[3]=s("div",{class:"info"},[s("h3",null,"阵容"),s("p",null,"当前使用的战斗阵容")],-1)),s("div",GC,[(v(!0),g(vA,null,yA(r.value,k=>(v(),g("button",{key:k,disabled:n.value||a.value,class:iA(["team-button",{active:o.value===k}]),onClick:E=>F(k)},f(k),11,WC))),128)),s("button",{class:"refresh-button",disabled:n.value,title:"刷新队伍数据",onClick:P[0]||(P[0]=k=>h(!0))},[...P[1]||(P[1]=[yn('<svg class="refresh-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-a38120bd><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" data-v-a38120bd></path><path d="M21 3v5h-5" data-v-a38120bd></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" data-v-a38120bd></path><path d="M3 21v-5h5" data-v-a38120bd></path></svg><span class="refresh-text" data-v-a38120bd>刷新</span>',2)])],8,YC)])]),s("div",zC,[s("div",XC,[P[4]||(P[4]=s("span",{class:"label"},"当前阵容",-1)),s("span",JC,[n.value?(v(),g(vA,{key:1},[X("加载中…")],64)):(v(),g(vA,{key:0},[X("阵容 "+f(o.value),1)],64))])]),s("div",qC,[n.value?tA("",!0):(v(),g("div",jC,[s("div",ZC,[(v(!0),g(vA,null,yA(b.value.slice(0,2),k=>{var E;return v(),g("div",{key:k.id||k.name,class:"hero-item"},[s("div",AQ,[k.avatar?(v(),g("img",{key:0,src:k.avatar,alt:k.name,class:"hero-avatar"},null,8,eQ)):(v(),g("div",tQ,f(((E=k.name)==null?void 0:E.substring(0,2))||"?"),1))]),s("span",nQ,f(k.name||"未知"),1)])}),128))]),s("div",sQ,[(v(!0),g(vA,null,yA(b.value.slice(2),k=>{var E;return v(),g("div",{key:k.id||k.name,class:"hero-item"},[s("div",aQ,[k.avatar?(v(),g("img",{key:0,src:k.avatar,alt:k.name,class:"hero-avatar"},null,8,rQ)):(v(),g("div",oQ,f(((E=k.name)==null?void 0:E.substring(0,2))||"?"),1))]),s("span",lQ,f(k.name||"未知"),1)])}),128))])])),!n.value&&!b.value.length?(v(),g("div",iQ,[...P[5]||(P[5]=[s("p",null,"暂无队伍信息",-1)])])):tA("",!0),n.value?(v(),g("div",uQ,[...P[6]||(P[6]=[s("p",null,"正在加载队伍信息…",-1)])])):tA("",!0)])])]))}}),dQ=Ae(cQ,[["__scopeId","data-v-a38120bd"]]),vQ={key:0,class:"identity-embedded"},fQ={class:"identity-card embedded"},gQ={class:"role-profile-content"},BQ={class:"avatar-container"},pQ=["src","alt"],mQ={class:"role-info-section"},hQ={class:"role-name"},wQ={class:"role-stats"},CQ={class:"level-text"},QQ={class:"power-value"},yQ={key:0,class:"activity-week"},bQ={class:"rank-section"},FQ={class:"rank-icon"},UQ={class:"rank-title"},_Q={class:"label"},kQ={class:"value"},IQ={key:2,class:"resources-toggle"},HQ={key:3,class:"loading"},EQ={class:"identity-card"},SQ={class:"card-header"},TQ={class:"role-profile-content"},$Q={class:"avatar-container"},DQ=["src","alt"],LQ={class:"role-info-section"},MQ={class:"role-name"},KQ={class:"role-stats"},OQ={class:"level-text"},xQ={class:"power-value"},PQ={key:0,class:"activity-week"},RQ={class:"rank-section"},VQ={class:"rank-icon"},NQ={class:"rank-title"},GQ={key:1,class:"loading"},WQ=XA({__name:"IdentityCard",props:{visible:{type:Boolean},embedded:{type:Boolean}},emits:["close"],setup(A,{emit:e}){const t=qA(),n=e,a=W(!1),o=I(()=>t.selectedToken?t.getWebSocketStatus(t.selectedToken.id):"disconnected"),r=I(()=>{var KA,MA;const QA=t.gameData,BA=(KA=QA==null?void 0:QA.roleInfo)==null?void 0:KA.role;return BA?{roleId:BA.roleId,name:BA.name,headImg:BA.headImg,level:BA.level,power:BA.power||BA.fighting||0,gold:BA.gold??0,diamond:BA.diamond??0,fishing:BA.fishing||BA.fish||null,items:BA.items||BA.itemList||((MA=BA.bag)==null?void 0:MA.items)||BA.inventory||null}:{}}),i=I(()=>Object.keys(r.value||{}).length>0),l=["/icons/1733492491706148.png","/icons/1733492491706152.png","/icons/1736425783912140.png","/icons/173746572831736.png","/icons/174023274867420.png"].map(QA=>"/"+QA.replace(/^\//,"")),c=W(""),d=W(""),u=[{min:0,max:1e6,title:"初出茅庐",icon:"🌱",class:"rank-beginner"},{min:1e6,max:1e7,title:"小有名气",icon:"⚔️",class:"rank-known"},{min:1e7,max:1e8,title:"出入江湖",icon:"🗡️",class:"rank-veteran"},{min:1e8,max:5e8,title:"纵横四方",icon:"🏹",class:"rank-master"},{min:5e8,max:2e9,title:"盖世豪杰",icon:"⚡",class:"rank-hero"},{min:2e9,max:4e9,title:"一方枭雄",icon:"👑",class:"rank-overlord"},{min:4e9,max:6e9,title:"睥睨江湖",icon:"🔱",class:"rank-supreme"},{min:6e9,max:9e9,title:"独霸天下",icon:"⚜️",class:"rank-emperor"},{min:9e9,max:15e9,title:"不世之尊",icon:"💎",class:"rank-legend"},{min:15e9,max:1/0,title:"无极至尊",icon:"🌟",class:"rank-infinite"}],b=I(()=>{const QA=Number(r.value.power||0);return u.find(BA=>QA>=BA.min&&QA<BA.max)||u[0]}),w=QA=>{if(!QA)return"0";const BA=1e8,KA=1e4;return QA>=BA?(QA/BA).toFixed(1)+"亿":QA>=KA?(QA/KA).toFixed(1)+"万":QA.toLocaleString()},Q=QA=>{const BA=Number(QA||0),KA=1e8,MA=1e4;return BA>=KA?(BA/KA).toFixed(1)+"亿":BA>=MA?(BA/MA).toFixed(1)+"万":BA.toLocaleString()},H=I(()=>r.value.gold??0),M=I(()=>r.value.diamond??0),F=(QA,BA)=>{if(!QA)return null;if(Array.isArray(QA)){const MA=QA.find(VA=>Number(VA.id??VA.itemId)===BA);return MA?Number(MA.num??MA.count??MA.quantity??0):0}const KA=QA[String(BA)]??QA[BA];if(KA==null){const MA=Object.values(QA).find(VA=>Number((VA==null?void 0:VA.itemId)??(VA==null?void 0:VA.id))===BA);return MA?Number(MA.num??MA.count??MA.quantity??0):0}return typeof KA=="number"?Number(KA):typeof KA=="object"?Number(KA.num??KA.count??KA.quantity??0):Number(KA)||0},h=I(()=>r.value.items),V=I(()=>F(h.value,1011)),P=I(()=>F(h.value,1012)),k=I(()=>F(h.value,1013)),E=I(()=>F(h.value,1001)),D=I(()=>F(h.value,1006)),R=I(()=>F(h.value,1023)),N=I(()=>F(h.value,1022)),_=I(()=>F(h.value,1003)),J=I(()=>F(h.value,1017)),z=I(()=>F(h.value,10002)),L=I(()=>F(h.value,10003)),$=I(()=>F(h.value,10101)),m=I(()=>F(h.value,3001)),B=I(()=>F(h.value,3002)),y=I(()=>F(h.value,3005)),T=I(()=>F(h.value,3006)),G=I(()=>F(h.value,3007)),S=I(()=>F(h.value,3008)),O=I(()=>F(h.value,3009)),K=I(()=>F(h.value,3010)),Y=I(()=>F(h.value,3011)),q=I(()=>F(h.value,3012)),j=I(()=>F(h.value,3020)),sA=I(()=>F(h.value,3021)),wA=I(()=>F(h.value,3201)),fA=I(()=>F(h.value,3302)),FA=I(()=>F(h.value,1019)),UA=I(()=>F(h.value,1016)),RA=I(()=>F(h.value,1020)),SA=I(()=>F(h.value,1021)),OA=I(()=>F(h.value,1033)),WA=I(()=>F(h.value,1035)),YA=I(()=>F(h.value,1007)),xA=I(()=>F(h.value,2001)),eA=I(()=>F(h.value,2002)),x=I(()=>F(h.value,2003)),U=I(()=>F(h.value,2004)),AA=I(()=>F(h.value,2005)),nA=I(()=>F(h.value,35002)),uA=I(()=>F(h.value,35009)),oA=I(()=>F(h.value,1008)),cA=I(()=>F(h.value,1009)),CA=I(()=>F(h.value,1010)),rA=I(()=>F(h.value,1014)),HA=I(()=>F(h.value,1026)),dA=I(()=>F(h.value,2101)),DA=I(()=>{const QA=new Date,BA=new Date("2025-12-12T12:00:00"),KA=7*24*60*60*1e3,MA=3*KA,VA=QA-BA;if(VA<0)return null;const Qe=VA%MA;return Qe<KA?"黑市周":Qe<2*KA?"招募周":"宝箱周"}),aA=I(()=>{var BA,KA,MA,VA;const QA=V.value;return QA??((KA=(BA=r.value)==null?void 0:BA.fishing)==null?void 0:KA.normalRod)??((VA=(MA=r.value)==null?void 0:MA.fishing)==null?void 0:VA.rod)??null}),TA=I(()=>{var BA,KA,MA,VA;const QA=P.value;return QA??((KA=(BA=r.value)==null?void 0:BA.fishing)==null?void 0:KA.goldRod)??((VA=(MA=r.value)==null?void 0:MA.fishing)==null?void 0:VA.vipRod)??null}),gA=QA=>QA==null?"-":Q(Number(QA)),lA=QA=>QA==null?0:Number(QA),bA=I(()=>{const QA=[{label:"金币",value:Q(H.value),raw:H.value},{label:"金砖",value:Q(M.value),raw:M.value},{label:"普通鱼竿",value:gA(aA.value),raw:lA(aA.value)},{label:"金鱼竿",value:gA(TA.value),raw:lA(TA.value)},{label:"珍珠",value:gA(k.value),raw:lA(k.value)},{label:"复活丹",value:gA(J.value),raw:lA(J.value)},{label:"招募令",value:gA(E.value),raw:lA(E.value)},{label:"精铁",value:gA(D.value),raw:lA(D.value)},{label:"彩玉",value:gA(R.value),raw:lA(R.value)},{label:"进阶石",value:gA(_.value),raw:lA(_.value)},{label:"蓝玉",value:gA(z.value),raw:lA(z.value)},{label:"红玉",value:gA(L.value),raw:lA(L.value)},{label:"四圣宝珠碎片",value:gA($.value),raw:lA($.value)},{label:"金币袋子",value:gA(m.value),raw:lA(m.value)},{label:"金砖袋子",value:gA(B.value),raw:lA(B.value)},{label:"紫色随机碎片",value:gA(y.value),raw:lA(y.value)},{label:"橙色随机碎片",value:gA(T.value),raw:lA(T.value)},{label:"红色随机碎片",value:gA(G.value),raw:lA(G.value)},{label:"精铁袋子",value:gA(S.value),raw:lA(S.value)},{label:"进阶袋子",value:gA(O.value),raw:lA(O.value)},{label:"梦魇袋子",value:gA(K.value),raw:lA(K.value)},{label:"白玉袋子",value:gA(Y.value),raw:lA(Y.value)},{label:"扳手袋子",value:gA(q.value),raw:lA(q.value)},{label:"聚宝盆",value:gA(j.value),raw:lA(j.value)},{label:"豪华聚宝盆",value:gA(sA.value),raw:lA(sA.value)},{label:"红色万能碎片",value:gA(wA.value),raw:lA(wA.value)},{label:"橙色万能碎片",value:gA(fA.value),raw:lA(fA.value)},{label:"盐靛",value:gA(FA.value),raw:lA(FA.value)},{label:"晶石",value:gA(UA.value),raw:lA(UA.value)},{label:"皮肤币",value:gA(RA.value),raw:lA(RA.value)},{label:"扫荡魔毯",value:gA(SA.value),raw:lA(SA.value)},{label:"白玉",value:gA(N.value),raw:lA(N.value)},{label:"贝壳",value:gA(OA.value),raw:lA(OA.value)},{label:"金盐靛",value:gA(WA.value),raw:lA(WA.value)},{label:"竞技场门票",value:gA(YA.value),raw:lA(YA.value)},{label:"木制宝箱",value:gA(xA.value),raw:lA(xA.value)},{label:"青铜宝箱",value:gA(eA.value),raw:lA(eA.value)},{label:"黄金宝箱",value:gA(x.value),raw:lA(x.value)},{label:"铂金宝箱",value:gA(U.value),raw:lA(U.value)},{label:"钻石宝箱",value:gA(AA.value),raw:lA(AA.value)},{label:"刷新券",value:gA(nA.value),raw:lA(nA.value)},{label:"零件",value:gA(uA.value),raw:lA(uA.value)},{label:"木柴火把",value:gA(oA.value),raw:lA(oA.value)},{label:"青铜火把",value:gA(cA.value),raw:lA(cA.value)},{label:"咸神火把",value:gA(CA.value),raw:lA(CA.value)},{label:"军团币",value:gA(rA.value),raw:lA(rA.value)},{label:"扳手",value:gA(HA.value),raw:lA(HA.value)},{label:"助威币",value:gA(dA.value),raw:lA(dA.value)}],BA=QA.filter(MA=>MA.raw>0),KA=QA.filter(MA=>MA.raw===0);return[...BA,...KA]}),LA=I(()=>bA.value.length>6),EA=()=>{if(r.value&&r.value.headImg)c.value=r.value.headImg;else{if(!d.value){const QA=r.value.roleId||r.value.name||"default",BA=Array.from(String(QA)).reduce((KA,MA)=>KA+MA.charCodeAt(0),0);d.value=l[BA%l.length]}c.value=d.value}},NA=()=>{if(!d.value){const QA=Math.floor(Math.random()*l.length);d.value=l[QA]||l[0]}c.value=d.value};return ae(async()=>{if(EA(),t.selectedToken&&o.value==="connected")try{await t.sendMessage(t.selectedToken.id,"role_getroleinfo")}catch{}}),jA(()=>r.value,EA,{deep:!0}),(QA,BA)=>{var MA,VA,Qe;const KA=Z("n-button");return A.embedded?(v(),g("div",vQ,[s("div",fQ,[BA[3]||(BA[3]=s("div",{class:"card-header"},[s("img",{src:Kt,alt:"身份牌",class:"icon"}),s("div",{class:"info"},[s("h3",null,"身份牌"),s("p",null,"角色与资源概览")])],-1)),i.value?(v(),g("div",{key:0,class:iA(["role-profile-header",(MA=b.value)==null?void 0:MA.class])},[s("div",gQ,[s("div",BQ,[s("img",{src:c.value,alt:r.value.name||"角色",class:"role-avatar",onError:NA},null,40,pQ)]),s("div",mQ,[s("div",hQ,f(r.value.name||"未知角色"),1),s("div",wQ,[s("span",CQ,"Lv."+f(r.value.level||1),1),s("span",QQ,"战力 "+f(w(r.value.power)),1)]),DA.value?(v(),g("div",yQ," 本周活动："+f(DA.value),1)):tA("",!0)]),s("div",bQ,[s("div",FQ,f((VA=b.value)==null?void 0:VA.icon),1),s("div",UQ,f((Qe=b.value)==null?void 0:Qe.title),1)])])],2)):tA("",!0),i.value?(v(),g("div",{key:1,class:iA(["resources",{collapsed:!a.value}])},[(v(!0),g(vA,null,yA(bA.value,de=>(v(),g("div",{key:de.label,class:"res-item"},[s("span",_Q,f(de.label),1),s("span",kQ,f(de.value),1)]))),128))],2)):tA("",!0),i.value&&LA.value?(v(),g("div",IQ,[p(KA,{text:"",onClick:BA[0]||(BA[0]=de=>a.value=!a.value)},{default:C(()=>[X(f(a.value?"收起":"展开全部"),1)]),_:1})])):(v(),g("div",HQ,"正在获取角色信息..."))])])):(v(),pA(Di,{key:1,name:"drop"},{default:C(()=>{var de,me,ge;return[Pe(s("div",{class:"identity-overlay",onClick:BA[2]||(BA[2]=$i(re=>n("close"),["self"]))},[s("div",EQ,[BA[7]||(BA[7]=s("div",{class:"strap"},[s("div",{class:"strap-tape"}),s("div",{class:"strap-buckle"})],-1)),s("div",SQ,[BA[4]||(BA[4]=s("img",{src:Kt,alt:"身份牌",class:"icon"},null,-1)),BA[5]||(BA[5]=s("div",{class:"info"},[s("h3",null,"身份牌"),s("p",null,"角色与战力概览")],-1)),s("button",{class:"close-btn",onClick:BA[1]||(BA[1]=re=>n("close"))},"✕")]),i.value?(v(),g("div",{key:0,class:iA(["role-profile-header",(de=b.value)==null?void 0:de.class])},[s("div",TQ,[s("div",$Q,[s("img",{src:c.value,alt:r.value.name||"角色",class:"role-avatar",onError:NA},null,40,DQ)]),s("div",LQ,[s("div",MQ,f(r.value.name||"未知角色"),1),s("div",KQ,[s("span",OQ,"Lv."+f(r.value.level||1),1),s("span",xQ,"战力 "+f(w(r.value.power)),1)]),DA.value?(v(),g("div",PQ," 本周活动："+f(DA.value),1)):tA("",!0)]),s("div",RQ,[s("div",VQ,f((me=b.value)==null?void 0:me.icon),1),s("div",NQ,f((ge=b.value)==null?void 0:ge.title),1)])]),BA[6]||(BA[6]=s("div",{class:"glow-border"},null,-1))],2)):(v(),g("div",GQ,"正在获取角色信息..."))])],512),[[Re,A.visible]])]}),_:1}))}}}),YQ=Ae(WQ,[["__scopeId","data-v-02b64193"]]),zQ="/icons/1733492491706148.png",XQ="/icons/173746572831736.png",JQ={class:"time-display"},qQ={__name:"BottleHelperCard",setup(A){const e=qA(),t=ZA(),n=I(()=>{var c;return((c=e.gameData)==null?void 0:c.roleInfo)||null}),a=W({isRunning:!1,remainingTime:0,stopTime:0}),o=c=>{const d=Math.floor(Number(c)||0);if(d<=0)return"00:00:00";const u=Math.floor(d/3600).toString().padStart(2,"0"),b=Math.floor(d%3600/60).toString().padStart(2,"0"),w=(d%60).toString().padStart(2,"0");return`${u}:${b}:${w}`},r=()=>{var u;const c=(u=n.value)==null?void 0:u.role;if(!(c!=null&&c.bottleHelpers))return;const d=Date.now()/1e3;a.value.stopTime=c.bottleHelpers.helperStopTime,a.value.isRunning=c.bottleHelpers.helperStopTime>d,a.value.remainingTime=Math.max(0,Math.floor(c.bottleHelpers.helperStopTime-d))};jA(n,()=>r(),{deep:!0,immediate:!0});let i=null;ae(()=>{i=setInterval(()=>{a.value.isRunning&&a.value.remainingTime>0&&(a.value.remainingTime=Math.max(0,a.value.remainingTime-1),a.value.remainingTime<=0&&(a.value.isRunning=!1))},1e3)}),kt(()=>{i&&clearInterval(i)});const l=()=>{if(!e.selectedToken){t.warning("请先选择Token");return}const c=e.selectedToken.id;e.sendMessage(c,"bottlehelper_stop"),setTimeout(()=>{e.sendMessage(c,"bottlehelper_start"),e.sendMessage(c,"role_getroleinfo")},500),t.info(a.value.isRunning?"重启盐罐机器人":"启动盐罐机器人")};return(c,d)=>{const u=Ke;return v(),pA(De,{class:"bottle-helper",statusClass:{active:a.value.isRunning}},{icon:C(()=>[...d[0]||(d[0]=[s("img",{src:XQ,alt:"盐罐图标"},null,-1)])]),title:C(()=>[...d[1]||(d[1]=[s("h3",null,"盐罐机器人",-1),s("p",null,"剩余时间",-1)])]),badge:C(()=>[s("span",null,f(a.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",JQ,f(o(a.value.remainingTime)),1)]),action:C(()=>[p(u,{type:"primary",secondary:"",size:"small",block:"",onClick:l},{default:C(()=>[X(f(a.value.isRunning?"重启服务":"启动服务"),1)]),_:1})]),_:1},8,["statusClass"])}}},jQ=Ae(qQ,[["__scopeId","data-v-aadf8b25"]]),ZQ=["src"],Ay={class:"total-points"},ey={class:"value"},ty={class:"container"},ny={class:"list"},sy=["src","alt"],ay={class:"box-info"},ry={class:"box-type"},oy={class:"box-count"},ly={class:"selects"},iy={__name:"BoxHelperCard",setup(A){const e=qA(),t=ZA(),n=I(()=>"/box/zsbx.png"),a=I(()=>{var Q;return((Q=e.gameData)==null?void 0:Q.roleInfo)||null}),o=I(()=>{var H,M,F,h,V,P,k,E,D,R,N,_,J,z,L,$;const Q=m=>"/"+m.replace(/^\//,"");return[{type:"木质宝箱",img:Q("/box/mzbx.png"),count:((h=(F=(M=(H=a.value)==null?void 0:H.role)==null?void 0:M.items)==null?void 0:F[2001])==null?void 0:h.quantity)||0},{type:"青铜宝箱",img:Q("/box/qtbx.png"),count:((E=(k=(P=(V=a.value)==null?void 0:V.role)==null?void 0:P.items)==null?void 0:k[2002])==null?void 0:E.quantity)||0},{type:"黄金宝箱",img:Q("/box/hjbx.png"),count:((_=(N=(R=(D=a.value)==null?void 0:D.role)==null?void 0:R.items)==null?void 0:N[2003])==null?void 0:_.quantity)||0},{type:"铂金宝箱",img:Q("/box/bjbx.png"),count:(($=(L=(z=(J=a.value)==null?void 0:J.role)==null?void 0:z.items)==null?void 0:L[2004])==null?void 0:$.quantity)||0}]}),r=I(()=>{var h,V,P,k,E,D,R,N,_,J,z,L,$,m,B,y;const Q=((k=(P=(V=(h=a.value)==null?void 0:h.role)==null?void 0:V.items)==null?void 0:P[2001])==null?void 0:k.quantity)||0,H=((N=(R=(D=(E=a.value)==null?void 0:E.role)==null?void 0:D.items)==null?void 0:R[2002])==null?void 0:N.quantity)||0,M=((L=(z=(J=(_=a.value)==null?void 0:_.role)==null?void 0:J.items)==null?void 0:z[2003])==null?void 0:L.quantity)||0,F=((y=(B=(m=($=a.value)==null?void 0:$.role)==null?void 0:m.items)==null?void 0:B[2004])==null?void 0:y.quantity)||0;return Q*1+H*10+M*20+F*50}),i=W(2001),l=[{label:"木质宝箱",value:2001},{label:"青铜宝箱",value:2002},{label:"黄金宝箱",value:2003},{label:"铂金宝箱",value:2004}],c=W(10),d=[{label:"10",value:10},{label:"100",value:100},{label:"1000",value:1e3},{label:"2000",value:2e3},{label:"5000",value:5e3},{label:"10000",value:1e4}],u=W({isRunning:!1}),b=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}const Q=e.selectedToken.id;await e.sendMessage(Q,"item_batchclaimboxpointreward"),await new Promise(H=>setTimeout(H,500)),await e.sendMessage(Q,"role_getroleinfo"),t.success("宝箱积分领取完毕")},w=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}const Q=e.selectedToken.id;if(u.value.isRunning=!0,t.info("宝箱开启中"),c.value>=10){const H=Math.floor(c.value/10),M=c.value%10;for(let F=0;F<H;F++)await e.sendMessageWithPromise(Q,"item_openbox",{itemId:i.value,number:10});M>0&&await e.sendMessageWithPromise(Q,"item_openbox",{itemId:i.value,number:M}),await e.sendMessage(Q,"item_batchclaimboxpointreward"),await new Promise(F=>setTimeout(F,500)),await e.sendMessage(Q,"role_getroleinfo"),e.sendMessage(Q,"activity_get"),t.success("宝箱开启完毕"),u.value.isRunning=!1;return}};return(Q,H)=>{const M=Z("n-select"),F=Ke;return v(),pA(De,{class:"bottle-helper",statusClass:{active:u.value.isRunning}},{icon:C(()=>[s("img",{src:n.value,alt:"宝箱图标"},null,8,ZQ)]),title:C(()=>[...H[2]||(H[2]=[s("h3",null,"宝箱助手",-1)])]),badge:C(()=>[s("span",null,f(u.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",Ay,[H[3]||(H[3]=s("span",{class:"label"},"宝箱总积分：",-1)),s("span",ey,f(r.value),1)]),s("div",ty,[s("div",ny,[(v(!0),g(vA,null,yA(o.value,h=>(v(),g("div",{class:"item",key:h.type},[s("img",{src:h.img,alt:h.type},null,8,sy),s("div",ay,[s("div",ry,f(h.type),1),s("div",oy,"数量："+f(h.count),1)])]))),128))]),s("div",ly,[p(M,{value:i.value,"onUpdate:value":H[0]||(H[0]=h=>i.value=h),options:l},null,8,["value"]),p(M,{value:c.value,"onUpdate:value":H[1]||(H[1]=h=>c.value=h),options:d},null,8,["value"])])])]),action:C(()=>[p(F,{type:"primary",disabled:u.value.isRunning,secondary:"",size:"small",block:"",onClick:w},{default:C(()=>[X(f(u.value.isRunning?"运行中":"开启宝箱"),1)]),_:1},8,["disabled"]),p(F,{type:"primary",size:"small",onClick:b},{default:C(()=>[...H[4]||(H[4]=[X("领取宝箱积分",-1)])]),_:1})]),_:1},8,["statusClass"])}}},uy=Ae(iy,[["__scopeId","data-v-49fe77c4"]]),cy=["src"],dy={class:"container"},vy={class:"list"},fy=["src","alt"],gy={class:"box-info"},By={class:"box-type"},py={class:"box-count"},my={class:"selects"},hy={__name:"FishHelperCard",setup(A){const e=qA(),t=ZA(),n=I(()=>"/fish/hjyg.png"),a=I(()=>{var b;return((b=e.gameData)==null?void 0:b.roleInfo)||null}),o=I(()=>{var w,Q,H,M,F,h,V,P;const b=k=>"/"+k.replace(/^\//,"");return[{type:"普通鱼竿",img:b("/fish/ptyg.png"),count:((M=(H=(Q=(w=a.value)==null?void 0:w.role)==null?void 0:Q.items)==null?void 0:H[1011])==null?void 0:M.quantity)||0},{type:"黄金鱼竿",img:b("/fish/hjyg.png"),count:((P=(V=(h=(F=a.value)==null?void 0:F.role)==null?void 0:h.items)==null?void 0:V[1012])==null?void 0:P.quantity)||0}]}),r=W(1),i=[{label:"普通鱼竿",value:1},{label:"黄金鱼竿",value:2}],l=W(10),c=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"80",value:80},{label:"100",value:100},{label:"160",value:160}],d=W({isRunning:!1}),u=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}const b=e.selectedToken.id;if(d.value.isRunning=!0,t.info("钓鱼助手运行中"),console.log("🚀 ~ handleHelper ~ type.value:",r.value),l.value>=10){const w=Math.floor(l.value/10),Q=l.value%10;for(let H=0;H<w;H++)await e.sendMessageWithPromise(b,"artifact_lottery",{type:r.value,lotteryNumber:10,newFree:!0});Q>0&&await e.sendMessageWithPromise(b,"artifact_lottery",{type:r.value,lotteryNumber:Q,newFree:!0}),await e.sendMessage(b,"role_getroleinfo"),e.sendMessage(b,"activity_get"),t.success("钓鱼完毕"),d.value.isRunning=!1;return}};return(b,w)=>{const Q=Z("n-select"),H=Ke;return v(),pA(De,{class:"helper",statusClass:{active:d.value.isRunning}},{icon:C(()=>[s("img",{src:n.value,alt:"普通鱼竿图标"},null,8,cy)]),title:C(()=>[...w[2]||(w[2]=[s("h3",null,"钓鱼助手",-1)])]),badge:C(()=>[s("span",null,f(d.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",dy,[s("div",vy,[(v(!0),g(vA,null,yA(o.value,M=>(v(),g("div",{class:"item",key:M.type},[s("img",{src:M.img,alt:M.type},null,8,fy),s("div",gy,[s("div",By,f(M.type),1),s("div",py,"数量："+f(M.count),1)])]))),128))]),s("div",my,[p(Q,{value:r.value,"onUpdate:value":w[0]||(w[0]=M=>r.value=M),options:i},null,8,["value"]),p(Q,{value:l.value,"onUpdate:value":w[1]||(w[1]=M=>l.value=M),options:c},null,8,["value"])])])]),action:C(()=>[p(H,{type:"primary",disabled:d.value.isRunning,secondary:"",size:"small",block:"",onClick:u},{default:C(()=>[X(f(d.value.isRunning?"运行中":"开始钓鱼"),1)]),_:1},8,["disabled"])]),_:1},8,["statusClass"])}}},wy=Ae(hy,[["__scopeId","data-v-b6e25895"]]),Cy=["src"],Qy={class:"container"},yy={class:"list"},by=["src","alt"],Fy={class:"box-info"},Uy={class:"box-type"},_y={class:"box-count"},ky={class:"selects"},Iy={__name:"RecruitHelperCard",setup(A){const e=qA(),t=ZA(),n=I(()=>"/icons/zml.png"),a=I(()=>{var d;return((d=e.gameData)==null?void 0:d.roleInfo)||null}),o=I(()=>{var u,b,w,Q;return[{type:"招募令",img:(H=>"/"+H.replace(/^\//,""))("/icons/zml.png"),count:((Q=(w=(b=(u=a.value)==null?void 0:u.role)==null?void 0:b.items)==null?void 0:w[1001])==null?void 0:Q.quantity)||0}]}),r=W(10),i=[{label:"10",value:10},{label:"50",value:50},{label:"100",value:100},{label:"200",value:200},{label:"400",value:400}],l=W({isRunning:!1}),c=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}const d=e.selectedToken.id;if(l.value.isRunning=!0,t.info("招募助手运行中"),r.value>=10){const u=Math.floor(r.value/10),b=r.value%10;for(let w=0;w<u;w++)await e.sendMessageWithPromise(d,"hero_recruit",{recruitType:1,recruitNumber:10});b>0&&await e.sendMessageWithPromise(d,"hero_recruit",{recruitType:1,recruitNumber:b}),await e.sendMessage(d,"role_getroleinfo"),e.sendMessage(d,"activity_get"),t.success("招募完毕"),l.value.isRunning=!1;return}};return(d,u)=>{const b=Z("n-select"),w=Ke;return v(),pA(De,{class:"helper",statusClass:{active:l.value.isRunning}},{icon:C(()=>[s("img",{src:n.value,alt:"招募图标"},null,8,Cy)]),title:C(()=>[...u[1]||(u[1]=[s("h3",null,"招募助手",-1)])]),badge:C(()=>[s("span",null,f(l.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",Qy,[s("div",yy,[(v(!0),g(vA,null,yA(o.value,Q=>(v(),g("div",{class:"item",key:Q.type},[s("img",{src:Q.img,alt:Q.type},null,8,by),s("div",Fy,[s("div",Uy,f(Q.type),1),s("div",_y,"数量："+f(Q.count),1)])]))),128))]),s("div",ky,[p(b,{value:r.value,"onUpdate:value":u[0]||(u[0]=Q=>r.value=Q),options:i},null,8,["value"])])])]),action:C(()=>[p(w,{type:"primary",disabled:l.value.isRunning,secondary:"",size:"small",block:"",onClick:c},{default:C(()=>[X(f(l.value.isRunning?"运行中":"开始招募"),1)]),_:1},8,["disabled"])]),_:1},8,["statusClass"])}}},Hy=Ae(Iy,[["__scopeId","data-v-5ba69496"]]),gi="/icons/ta.png",Ey={class:"settings"},Sy={class:"setting-item"},Ty={class:"status-row"},$y={class:"progress-row"},Dy={class:"progress-text"},Ly={class:"action-row"},My={__name:"StarUpgradeCard",setup(A){const e=qA(),t=ZA(),n=W(300),a=W([]),o=W({isRunning:!1,showConfirm:!1,progressText:"待开始",stopRequested:!1,total:0,done:0}),r=I(()=>[...Array.from({length:20},(F,h)=>101+h),...Array.from({length:28},(F,h)=>201+h),...Array.from({length:14},(F,h)=>301+h)]),i=I(()=>o.value.total>0?Math.min(100,Math.round(o.value.done/o.value.total*100)):0),l=(F,h="info")=>{a.value.push({id:Date.now()+Math.random(),timestamp:Date.now(),type:h,message:F})},c=F=>new Promise(h=>setTimeout(h,F)),d=async()=>{o.value.stopRequested=!1,o.value.total=r.value.length,o.value.done=0,await Q({delay:n.value})},u=async()=>{o.value.stopRequested=!1,o.value.total=r.value.length,o.value.done=0,await H({delay:n.value})},b=async()=>{o.value.stopRequested=!1,o.value.total=10,o.value.done=0,await M({delay:n.value})},w=()=>{o.value.stopRequested=!0},Q=async F=>{const h=e.selectedToken;if(!h){t.warning("请先选择Token");return}const V=h.id;if(e.getWebSocketStatus(V)!=="connected"){t.error("WebSocket未连接");return}try{o.value.isRunning=!0;for(const k of r.value){if(o.value.stopRequested)break;let E=!1;for(let D=1;D<=10;D++){if(o.value.stopRequested){E=!0;break}try{const R=await e.sendMessageWithPromise(V,"hero_heroupgradestar",{heroId:k},8e3),N=R&&(R.code===0||R.success===!0||R.result===0);if(l(`英雄ID:${k} 升星第${D}/10次`,N?"success":"error"),!N)throw new Error("升星失败")}catch{l(`英雄ID:${k} 升星第${D}/10次失败，跳过剩余次数`,"error"),E=!0;break}await c(F.delay)}o.value.done++}t.success(o.value.stopRequested?"已停止":"英雄升星完成")}finally{o.value.isRunning=!1}},H=async F=>{const h=e.selectedToken;if(!h){t.warning("请先选择Token");return}const V=h.id;if(e.getWebSocketStatus(V)!=="connected"){t.error("WebSocket未连接");return}try{o.value.isRunning=!0;for(const k of r.value){if(o.value.stopRequested)break;let E=!1;for(let D=1;D<=10;D++){if(o.value.stopRequested){E=!0;break}try{const R=await e.sendMessageWithPromise(V,"book_upgrade",{heroId:k},8e3),N=R&&(R.code===0||R.success===!0||R.result===0);if(l(`英雄ID:${k} 图鉴升星第${D}/10次`,N?"success":"error"),!N)throw new Error("图鉴升星失败")}catch{l(`英雄ID:${k} 图鉴升星第${D}/10次失败，跳过剩余次数`,"error"),E=!0;break}await c(F.delay)}o.value.done++}t.success(o.value.stopRequested?"已停止":"图鉴升星完成")}finally{o.value.isRunning=!1}},M=async F=>{const h=e.selectedToken;if(!h){t.warning("请先选择Token");return}const V=h.id;if(e.getWebSocketStatus(V)!=="connected"){t.error("WebSocket未连接");return}try{o.value.isRunning=!0;for(let k=1;k<=10&&!o.value.stopRequested;k++){try{const E=await e.sendMessageWithPromise(V,"book_claimpointreward",{},8e3),D=E&&(E.code===0||E.success===!0||E.result===0);if(l(`领取图鉴奖励第${k}/10次`,D?"success":"error"),!D)throw new Error("领取奖励失败");o.value.done++}catch{l(`领取图鉴奖励第${k}/10次失败，跳过剩余次数`,"error"),o.value.done++;break}await c(F.delay)}t.success(o.value.stopRequested?"已停止":"领取奖励完成")}finally{o.value.isRunning=!1}};return(F,h)=>{const V=Z("n-input-number"),P=Z("n-progress"),k=Ke,E=Z("n-modal");return v(),g(vA,null,[p(De,{class:"star-upgrade",statusClass:{active:o.value.isRunning}},{icon:C(()=>[...h[2]||(h[2]=[s("img",{src:gi,alt:"升星图标"},null,-1)])]),title:C(()=>[...h[3]||(h[3]=[s("h3",null,"升星助手",-1),s("p",null,"升星、图鉴升星、领取奖励",-1)])]),badge:C(()=>[s("span",null,f(o.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",Ey,[s("div",Sy,[h[4]||(h[4]=s("span",{class:"label"},"延迟(ms)",-1)),p(V,{value:n.value,"onUpdate:value":h[0]||(h[0]=D=>n.value=D),min:0,step:100,size:"small"},null,8,["value"])]),s("div",Ty,[s("span",null,"英雄数量："+f(r.value.length),1)])]),s("div",$y,[p(P,{type:"line",percentage:i.value,"show-indicator":!1},null,8,["percentage"]),s("span",Dy,f(o.value.done)+"/"+f(o.value.total)+" "+f(i.value)+"%",1)])]),action:C(()=>[s("div",Ly,[p(k,{type:"primary",size:"small",disabled:o.value.isRunning,onClick:d},{default:C(()=>[...h[5]||(h[5]=[X("升星",-1)])]),_:1},8,["disabled"]),p(k,{type:"primary",size:"small",disabled:o.value.isRunning,onClick:u},{default:C(()=>[...h[6]||(h[6]=[X("图鉴",-1)])]),_:1},8,["disabled"]),p(k,{type:"primary",size:"small",disabled:o.value.isRunning,onClick:b},{default:C(()=>[...h[7]||(h[7]=[X("领奖",-1)])]),_:1},8,["disabled"]),p(k,{size:"small",disabled:!o.value.isRunning,onClick:w},{default:C(()=>[...h[8]||(h[8]=[X("停止",-1)])]),_:1},8,["disabled"])])]),_:1},8,["statusClass"]),p(E,{show:o.value.showConfirm,"onUpdate:show":h[1]||(h[1]=D=>o.value.showConfirm=D),preset:"dialog",title:"确认执行",content:"将对预设英雄执行升星、图鉴升星并领取奖励。","positive-text":"开始","negative-text":"取消"},null,8,["show"])],64)}}},Ky=Ae(My,[["__scopeId","data-v-88a88d91"]]),Oy="/icons/174061875626614.png",xy={class:"time-display"},Py=["disabled"],Ry={key:0,class:"loading-text"},Vy={key:1},Ny=["disabled"],Gy={key:0,class:"loading-text"},Wy={key:1},Yy={__name:"HangUpStatusCard",setup(A){const e=qA(),t=ZA(),n=I(()=>{var d;return((d=e.gameData)==null?void 0:d.roleInfo)||null}),a=W({isActive:!1,remainingTime:0,elapsedTime:0,lastTime:0,hangUpTime:0,isExtending:!1,isClaiming:!1}),o=d=>{const u=Math.floor(Number(d)||0);if(u<=0)return"00:00:00";const b=Math.floor(u/3600).toString().padStart(2,"0"),w=Math.floor(u%3600/60).toString().padStart(2,"0"),Q=(u%60).toString().padStart(2,"0");return`${b}:${w}:${Q}`},r=()=>{var w;const d=(w=n.value)==null?void 0:w.role;if(!(d!=null&&d.hangUp))return;const u=Date.now()/1e3;a.value.lastTime=d.hangUp.lastTime,a.value.hangUpTime=d.hangUp.hangUpTime;const b=u-a.value.lastTime;b<=a.value.hangUpTime?(a.value.remainingTime=Math.floor(a.value.hangUpTime-b),a.value.isActive=!0):(a.value.remainingTime=0,a.value.isActive=!1),a.value.elapsedTime=Math.floor(a.value.hangUpTime-a.value.remainingTime)};jA(n,()=>r(),{deep:!0,immediate:!0});let i=null;ae(()=>{i=setInterval(()=>{a.value.isActive&&a.value.remainingTime>0&&(a.value.remainingTime=Math.max(0,a.value.remainingTime-1),a.value.elapsedTime=a.value.elapsedTime+1,a.value.remainingTime<=0&&(a.value.isActive=!1))},1e3)}),kt(()=>{i&&clearInterval(i)});const l=async()=>{if(!e.selectedToken)return t.warning("请先选择Token");const d=e.selectedToken.id;try{a.value.isExtending=!0,t.info("正在加钟...");const u=[];for(let b=0;b<4;b++)u.push(new Promise(w=>{setTimeout(()=>{e.sendMessage(d,"system_mysharecallback",{isSkipShareCard:!0,type:2}),w()},b*300)}));await Promise.all(u),setTimeout(()=>e.sendMessage(d,"role_getroleinfo"),1500),setTimeout(()=>{t.success("加钟操作已完成，请查看挂机剩余时间"),a.value.isExtending=!1},2500)}catch(u){t.error("加钟操作失败: "+((u==null?void 0:u.message)||"未知错误")),a.value.isExtending=!1}},c=async()=>{if(!e.selectedToken)return t.warning("请先选择Token");const d=e.selectedToken.id;try{a.value.isClaiming=!0,t.info("正在领取挂机奖励..."),e.sendMessage(d,"system_mysharecallback"),setTimeout(()=>e.sendMessage(d,"system_claimhangupreward"),200),setTimeout(()=>e.sendMessage(d,"system_mysharecallback",{isSkipShareCard:!0,type:2}),400),setTimeout(()=>e.sendMessage(d,"role_getroleinfo"),600),setTimeout(()=>{t.success("挂机奖励领取完成"),a.value.isClaiming=!1},1200)}catch(u){t.error("领取挂机奖励失败: "+((u==null?void 0:u.message)||"未知错误")),a.value.isClaiming=!1}};return(d,u)=>(v(),pA(De,{class:"hang-up",statusClass:{active:a.value.isActive}},{icon:C(()=>[...u[0]||(u[0]=[s("img",{src:Oy,alt:"挂机图标"},null,-1)])]),title:C(()=>[u[1]||(u[1]=s("h3",null,"挂机时间",-1)),s("p",null,"已挂机："+f(o(a.value.elapsedTime)),1)]),badge:C(()=>[s("span",null,f(a.value.isActive?"挂机中":"已完成"),1)]),default:C(()=>[s("div",xy,f(o(a.value.remainingTime)),1)]),action:C(()=>[s("button",{class:"action-button secondary",disabled:a.value.isExtending,onClick:l},[a.value.isExtending?(v(),g("span",Ry,[...u[2]||(u[2]=[s("i",{class:"line-md:loading-loop"},null,-1),X(" 加钟中... ",-1)])])):(v(),g("span",Vy,"加钟"))],8,Py),s("button",{class:"action-button primary",disabled:a.value.isClaiming,onClick:c},[a.value.isClaiming?(v(),g("span",Gy,[...u[3]||(u[3]=[s("i",{class:"line-md:loading-loop"},null,-1),X(" 领取中... ",-1)])])):(v(),g("span",Wy,"领取奖励"))],8,Ny)]),_:1},8,["statusClass"]))}},zy=Ae(Yy,[["__scopeId","data-v-cf315e04"]]),vr="/icons/1736425783912140.png",Xy={key:0},Jy={key:1},qy={class:"monthly-row"},jy={class:"row-value"},Zy={class:"monthly-row"},Ab={class:"row-value"},eb={key:0,class:"status-indicator closed"},tb={class:"action-row"},nb=["disabled"],vt=320,ft=240,sb={__name:"MonthlyTasksCard",setup(A,{expose:e}){const t=qA(),n=ZA(),a=W(!1),o=W(!1),r=W(!1),i=W(null),l=new Date,c=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),d=l.getDate(),u=I(()=>Math.max(0,c-d)),b=I(()=>Math.min(1,Math.max(0,d/c))),w=I(()=>{var S;return((S=i.value)==null?void 0:S.myMonthInfo)||{}}),Q=I(()=>{var S;return((S=i.value)==null?void 0:S.myArenaInfo)||{}}),H=I(()=>{var S,O;return Number(((O=(S=w.value)==null?void 0:S["2"])==null?void 0:O.num)||0)}),M=I(()=>{var S;return Number(((S=Q.value)==null?void 0:S.num)||0)}),F=I(()=>Math.min(100,Math.round(H.value/vt*100))),h=I(()=>Math.min(100,Math.round(M.value/ft*100))),V=I(()=>u.value===0?vt:Math.min(vt,Math.ceil(b.value*vt))),P=I(()=>u.value===0?ft:Math.min(ft,Math.ceil(b.value*ft))),k=[{label:"一键完成",key:"complete-fish"}],E=[{label:"一键完成",key:"complete-arena"}],D=I(()=>t.selectedToken?t.getWebSocketStatus(t.selectedToken.id)==="connected":!1),R=I(()=>{const S=new Date().getHours();return S>=6&&S<22}),N=async()=>{var S;if(!t.selectedToken)return n.warning("请先选择Token");if(D.value){a.value=!0;try{const O=t.selectedToken.id,K=await t.sendMessageWithPromise(O,"activity_get",{},1e4),Y=(K==null?void 0:K.activity)||((S=K==null?void 0:K.body)==null?void 0:S.activity)||K;i.value=Y||null,Y&&n.success("月度任务进度已更新")}catch(O){n.error(`获取月度任务失败：${O.message}`)}finally{a.value=!1}}},_=()=>{const S=new Date;return S.setHours(0,0,0,0),Math.floor(S.getTime()/1e3)},J=S=>!S||typeof S!="number"?!0:S<_(),z=S=>{const O=S==="fish",K=O?vt:ft,Y=O?H.value:M.value,q=O?V.value:P.value,j=Math.max(0,q-Y);return j<=0?n.success("当前进度已达标，无需补齐"):O?B(j,q,K):T(j,q,K)},L=S=>{const O=S==="fish",K=O?vt:ft,Y=O?H.value:M.value,q=Math.max(0,K-Y);return q<=0?n.success("已满额，无需完成"):O?B(q,K,K):T(q,K,K)},$=S=>{S==="complete-fish"&&L("fish")},m=S=>{S==="complete-arena"&&L("arena")},B=async(S,O,K)=>{var Y,q,j,sA,wA;if(!t.selectedToken)return n.warning("请先选择Token");if(!D.value)return n.warning("请先建立WS连接");o.value=!0;try{const fA=t.selectedToken.id;let FA=(q=(Y=t.gameData)==null?void 0:Y.roleInfo)==null?void 0:q.role;if(!FA){try{await t.sendGetRoleInfo(fA)}catch{}FA=(sA=(j=t.gameData)==null?void 0:j.roleInfo)==null?void 0:sA.role}let UA=0;const RA=Number(((wA=FA==null?void 0:FA.statisticsTime)==null?void 0:wA["artifact:normal:lottery:time"])||0);if(J(RA)){n.info("检测到今日免费钓鱼次数，开始消耗 3 次");for(let OA=0;OA<3;OA++)try{await t.sendMessageWithPromise(fA,"artifact_lottery",{lotteryNumber:1,newFree:!0,type:1},8e3),UA++,await new Promise(WA=>setTimeout(WA,500))}catch{break}UA>0&&await N()}let SA=Math.max(0,O-H.value);if(SA<=0)return n.success("已通过免费次数完成当日目标");for(n.info(`开始付费钓鱼补齐：共需 ${SA} 次（每次最多10）`);SA>0;){const OA=Math.min(10,SA);try{await t.sendMessageWithPromise(fA,"artifact_lottery",{lotteryNumber:OA,newFree:!0,type:1},12e3)}catch(WA){n.error(`钓鱼失败：${WA.message}`);break}SA-=OA,await new Promise(WA=>setTimeout(WA,800))}await N(),H.value>=O||H.value>=K?n.success("钓鱼补齐完成"):n.warning("钓鱼补齐已停止，未达到目标")}finally{o.value=!1}},y=S=>{var K,Y,q,j,sA;const O=((K=S==null?void 0:S.rankList)==null?void 0:K[0])||((Y=S==null?void 0:S.roleList)==null?void 0:Y[0])||((q=S==null?void 0:S.targets)==null?void 0:q[0])||((j=S==null?void 0:S.targetList)==null?void 0:j[0])||((sA=S==null?void 0:S.list)==null?void 0:sA[0]);return O!=null&&O.roleId?O.roleId:O!=null&&O.id?O.id:(S==null?void 0:S.roleId)||(S==null?void 0:S.id)},T=async(S,O,K)=>{if(!t.selectedToken)return n.warning("请先选择Token");if(!D.value)return n.warning("请先建立WS连接");if(!R.value)return n.warning("竞技场活动已关闭，请在 6:00-22:00 时间段内操作");r.value=!0;try{const Y=t.selectedToken.id;try{await t.sendMessageWithPromise(Y,"arena_startarea",{},6e3)}catch{}let q=0;const j=100;let sA=1,wA=S;for(;wA>0&&q<j;){const fA=Math.ceil(wA/2);n.info(`竞技场补齐 第${sA}轮：计划战斗 ${fA} 场（估算每胜+2）`);for(let FA=0;FA<fA&&q<j;FA++){let UA;try{UA=await t.sendMessageWithPromise(Y,"arena_getareatarget",{},8e3)}catch(SA){n.error(`获取竞技场目标失败：${SA.message}`);break}console.info("[Arena] 获取竞技场目标响应",UA);const RA=y(UA);if(!RA){n.warning("未找到可用的竞技场目标，已停止此轮");break}try{await t.sendMessageWithPromise(Y,"fight_startareaarena",{targetId:RA},15e3)}catch(SA){n.error(`竞技场对决失败：${SA.message}`)}q++,await new Promise(SA=>setTimeout(SA,1200))}await N(),wA=Math.max(0,O-M.value),sA++}M.value>=O||M.value>=K?n.success("竞技场补齐完成"):q>=j?n.warning("达到安全上限，已停止竞技场补齐"):n.warning("竞技场补齐已停止，未达到目标")}finally{r.value=!1}},G=W(!1);return jA(()=>t.selectedToken?t.getWebSocketStatus(t.selectedToken.id):"disconnected",S=>{S==="connected"&&!G.value&&(G.value=!0,N())},{immediate:!0}),ae(()=>{t.selectedToken&&D.value&&N()}),e({fetchMonthlyActivity:N}),(S,O)=>{const K=Z("n-button"),Y=Z("n-dropdown"),q=Z("n-button-group");return v(),pA(De,{class:"monthly-tasks",statusClass:i.value?"active":""},{icon:C(()=>[...O[2]||(O[2]=[s("img",{src:vr,alt:"月度任务"},null,-1)])]),title:C(()=>[...O[3]||(O[3]=[s("h3",null,"月度任务",-1),s("p",null,"进度与一键补齐",-1)])]),badge:C(()=>[u.value>0?(v(),g("span",Xy,"剩余 "+f(u.value)+" 天",1)):(v(),g("span",Jy,"本月最后一天"))]),default:C(()=>[s("div",qy,[O[4]||(O[4]=s("div",{class:"row-title"},"钓鱼进度",-1)),s("div",jy,f(H.value)+" / "+f(vt)+"（"+f(F.value)+"%） ",1)]),s("div",Zy,[O[5]||(O[5]=s("div",{class:"row-title"},"竞技场进度",-1)),s("div",Ab,[X(f(M.value)+" / "+f(ft)+"（"+f(h.value)+"%） ",1),R.value?tA("",!0):(v(),g("span",eb,"(当前未在开放时间)"))])]),s("div",tb,[s("button",{class:"action-button secondary",disabled:a.value||o.value||r.value,onClick:N},f(a.value?"刷新中...":"刷新进度"),9,nb),p(q,null,{default:C(()=>[p(K,{class:"action-button",disabled:a.value||o.value,onClick:O[0]||(O[0]=j=>z("fish"))},{default:C(()=>[X(f(o.value?"补齐中...":"钓鱼补齐"),1)]),_:1},8,["disabled"]),p(Y,{options:k,trigger:"click",onSelect:$},{default:C(()=>[p(K,{disabled:a.value||o.value},{default:C(()=>[...O[6]||(O[6]=[X("▾",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),p(q,null,{default:C(()=>[p(K,{class:"action-button",disabled:a.value||r.value||!R.value,onClick:O[1]||(O[1]=j=>z("arena"))},{default:C(()=>[X(f(r.value?"补齐中...":"竞技场补齐"),1)]),_:1},8,["disabled"]),p(Y,{options:E,trigger:"click",onSelect:m},{default:C(()=>[p(K,{disabled:a.value||r.value||!R.value},{default:C(()=>[...O[7]||(O[7]=[X("▾",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),s("p",{class:"description muted"}," 补齐规则：让“当前天数比例”和“完成比例”一致；若无剩余天数则按满额（"+f(vt)+"/"+f(ft)+"）计算。 ")]),_:1},8,["statusClass"])}}},ab=Ae(sb,[["__scopeId","data-v-a5db20dd"]]),rb={__name:"StudyChallengeCard",setup(A){const e=qA(),t=ZA(),n=I(()=>e.gameData.studyStatus),a=async()=>{if(!e.selectedToken||n.value.thisWeek||n.value.status!=""&&n.value.status!="idel")return;console.log("开始答题",n.value),n.value.status="starting",await Li(),n.value.status="answering";const o=await Mi();if(t.info(`🚀 开始一键答题... (题库包含 ${o} 道题目)`),n.value.isCompleted)return t.success("✅ 咸鱼大冲关任务已完成，无需重复作答！");try{e.gameData.studyStatus={...e.gameData.studyStatus,isAnswering:!0,questionCount:0,answeredCount:0,status:"starting",timestamp:Date.now()};const r=e.selectedToken.id;e.sendMessage(r,"study_startgame"),setTimeout(()=>{e.gameData.studyStatus.isAnswering&&(e.gameData.studyStatus={...e.gameData.studyStatus,isAnswering:!1,questionCount:0,answeredCount:0,status:"",timestamp:null},t.warning("答题超时，已自动重置状态"))},4e4),t.info(`🚀 开始一键答题... (题库包含 ${o} 道题目)`)}catch(r){console.error("启动答题失败:",r),t.error("启动答题失败: "+r.message)}};return(o,r)=>{const i=Ke;return v(),pA(De,{class:"study",statusClass:{weekly:!0,completed:n.value.isCompleted}},{icon:C(()=>[...r[0]||(r[0]=[s("img",{src:vr,alt:"学习图标"},null,-1)])]),title:C(()=>[...r[1]||(r[1]=[s("h3",null,"咸鱼大冲关",-1),s("p",null,"每日知识挑战",-1)])]),badge:C(()=>[...r[2]||(r[2]=[s("span",null,"每周任务",-1)])]),default:C(()=>[...r[3]||(r[3]=[s("p",{class:"description"},"没有什么可以阻挡我求知的欲望！",-1)])]),action:C(()=>[n.value.thisWeek?tA("",!0):(v(),pA(i,{key:0,status:"primary",onClick:a},{default:C(()=>[...r[4]||(r[4]=[X(" 🎯 一键答题. ",-1)])]),_:1})),!n.value.thisWeek&&n.value.status=="starting"?(v(),pA(i,{key:1,status:"warning",disabled:!0},{default:C(()=>[...r[5]||(r[5]=[X(" 正在获取题库... ",-1)])]),_:1})):tA("",!0),!n.value.thisWeek&&n.value.status=="answering"?(v(),pA(i,{key:2,status:"warning",disabled:!0},{default:C(()=>[...r[6]||(r[6]=[X(" 答题中... ",-1)])]),_:1})):tA("",!0),!n.value.thisWeek&&n.value.status=="claiming_rewards"?(v(),pA(i,{key:3,status:"warning",disabled:!0},{default:C(()=>[...r[7]||(r[7]=[X(" 正在领取奖励... ",-1)])]),_:1})):tA("",!0),!n.value.thisWeek&&n.value.status=="completed"?(v(),pA(i,{key:4,status:"warning",disabled:!0},{default:C(()=>[...r[8]||(r[8]=[X(" 答题完成 ",-1)])]),_:1})):tA("",!0),n.value.thisWeek?(v(),pA(i,{key:5,status:"success",disabled:!0},{default:C(()=>[...r[9]||(r[9]=[X(" ✅ 已完成无需作答 ",-1)])]),_:1})):tA("",!0)]),_:1},8,["statusClass"])}}},Bi="/icons/moonPalace.png",Cn={101:{name:"司马懿",type:"魏国",avatar:"/team/simayi.png"},102:{name:"郭嘉",type:"魏国",avatar:"/team/guojia.png"},103:{name:"关羽",type:"蜀国",avatar:"/team/guanyu.png"},104:{name:"诸葛亮",type:"蜀国",avatar:"/team/zhugeliang.png"},105:{name:"周瑜",type:"吴国",avatar:"/team/zhouyu.png"},106:{name:"太史慈",type:"吴国",avatar:"/team/taishici.png"},107:{name:"吕布",type:"群雄",avatar:"/team/lvbu.png"},108:{name:"华佗",type:"群雄",avatar:"/team/huatuo.png"},109:{name:"甄姬",type:"魏国",avatar:"/team/zhenji.png"},110:{name:"黄月英",type:"蜀国",avatar:"/team/huangyueying.png"},111:{name:"孙策",type:"吴国",avatar:"/team/sunce.png"},112:{name:"贾诩",type:"群雄",avatar:"/team/jiaxu.png"},113:{name:"曹仁",type:"魏国",avatar:"/team/caoren.png"},114:{name:"姜维",type:"蜀国",avatar:"/team/jiangwei.png"},115:{name:"孙坚",type:"吴国",avatar:"/team/sunjian.png"},116:{name:"公孙瓒",type:"群雄",avatar:"/team/gongsunzan.png"},117:{name:"典韦",type:"魏国",avatar:"/team/dianwei.png"},118:{name:"赵云",type:"蜀国",avatar:"/team/zhaoyun.png"},119:{name:"大乔",type:"吴国",avatar:"/team/daqiao.png"},120:{name:"张角",type:"群雄",avatar:"/team/zhangjiao.png"},201:{name:"徐晃",type:"魏国",avatar:"/team/xuhuang.png"},202:{name:"荀彧",type:"魏国",avatar:"/team/xunyu.png"},203:{name:"典韦",type:"魏国",avatar:"/team/xiaodianwei.png"},204:{name:"张飞",type:"蜀国",avatar:"/team/zhangfei.png"},205:{name:"赵云",type:"蜀国",avatar:"/team/xiaozhaoyun.png"},206:{name:"庞统",type:"蜀国",avatar:"/team/pangtong.png"},207:{name:"鲁肃",type:"吴国",avatar:"/team/lusu.png"},208:{name:"陆逊",type:"吴国",avatar:"/team/luxun.png"},209:{name:"甘宁",type:"吴国",avatar:"/team/ganning.png"},210:{name:"貂蝉",type:"群雄",avatar:"/team/diaochan.png"},211:{name:"董卓",type:"群雄",avatar:"/team/dongzhuo.png"},212:{name:"张角",type:"群雄",avatar:"/team/xiaozhangjiao.png"},213:{name:"张辽",type:"魏国",avatar:"/team/zhangliao.png"},214:{name:"夏侯惇",type:"魏国",avatar:"/team/xiahoudun.png"},215:{name:"许褚",type:"魏国",avatar:"/team/xuzhu.png"},216:{name:"夏侯渊",type:"魏国",avatar:"/team/xiahouyuan.png"},217:{name:"魏延",type:"蜀国",avatar:"/team/weiyan.png"},218:{name:"黄忠",type:"蜀国",avatar:"/team/huangzhong.png"},219:{name:"马超",type:"蜀国",avatar:"/team/machao.png"},220:{name:"马岱",type:"蜀国",avatar:"/team/madai.png"},221:{name:"吕蒙",type:"吴国",avatar:"/team/lvmeng.png"},222:{name:"黄盖",type:"吴国",avatar:"/team/huanggai.png"},223:{name:"蔡文姬",type:"魏国",avatar:"/team/caiwenji.png"},224:{name:"小乔",type:"吴国",avatar:"/team/xiaoqiao.png"},225:{name:"袁绍",type:"群雄",avatar:"/team/yuanshao.png"},226:{name:"华雄",type:"群雄",avatar:"/team/huaxiong.png"},227:{name:"颜良",type:"群雄",avatar:"/team/yanliang.png"},228:{name:"文丑",type:"群雄",avatar:"/team/wenchou.png"},301:{name:"周泰",type:"吴国",avatar:"/team/zhoutai.png"},302:{name:"许攸",type:"魏国",avatar:"/team/xuyou.png"},303:{name:"于禁",type:"魏国",avatar:"/team/yujin.png"},304:{name:"张星彩",type:"蜀国",avatar:"/team/zhangxingcai.png"},305:{name:"关银屏",type:"蜀国",avatar:"/team/guanyinping.png"},306:{name:"关平",type:"蜀国",avatar:"/team/guanping.png"},307:{name:"程普",type:"吴国",avatar:"/team/chengpu.png"},308:{name:"张昭",type:"吴国",avatar:"/team/zhangzhao.png"},309:{name:"陆绩",type:"吴国",avatar:"/team/luji.png"},310:{name:"吕玲绮",type:"群雄",avatar:"/team/lvlingqi.png"},311:{name:"潘凤",type:"群雄",avatar:"/team/panfeng.png"},312:{name:"邢道荣",type:"群雄",avatar:"/team/xingdaorong.png"},313:{name:"祝融夫人",type:"蜀国",avatar:"/team/zhurongfuren.png"},314:{name:"孟获",type:"蜀国",avatar:"/team/menghuo.png"}},yo={1033007:{name:"碎盾"},1033008:{name:"冥想"},1033009:{name:"定心"},1033010:{name:"冰清"},1033011:{name:"攻心"},1033012:{name:"强权"},1033013:{name:"盾击"},1033014:{name:"合力"},1033015:{name:"仁心"},1033016:{name:"游龙"},1033017:{name:"回元"}},ob={1201:{name:"龙鱼·幽影"},1202:{name:"龙鱼·青龙"},1203:{name:"龙鱼·火镰"},1204:{name:"龙鱼·无双"},1205:{name:"龙鱼·永霜"},1206:{name:"龙鱼·八卦"},1207:{name:"龙鱼·紫电"},1208:{name:"龙鱼·青囊"},1209:{name:"龙鱼·洛神"},1210:{name:"龙鱼·机神"},1211:{name:"龙鱼·霸王"},1212:{name:"龙鱼·蚀骨"},1213:{name:"龙鱼·坚盾"},1214:{name:"龙鱼·麒麟"},1215:{name:"龙鱼·古锭"},1216:{name:"龙鱼·义从"},1217:{name:"龙鱼·恶来"},1218:{name:"龙鱼·龙胆"},1219:{name:"龙鱼·国色"},1220:{name:"龙鱼·天公"},1301:{name:"月尾"},1302:{name:"焰神"},1303:{name:"红蝶"},1304:{name:"赤羽"},1305:{name:"千年笛"},1401:{name:"四带胡椒"},1402:{name:"鬼狮子鱼"},1403:{name:"黑斑雀鲷"},1404:{name:"诅咒花椒"},1405:{name:"九斑刺豚"},1406:{name:"魔鬼刺镰"},1407:{name:"黄背刺鲷"},1408:{name:"黑鳍刺鲷"},1409:{name:"长棘刺鲷"},1410:{name:"粒突箱鲀"},1411:{name:"大跳跳鱼"},1412:{name:"蓝心胖头"},1501:{name:"钱胡椒"},1502:{name:"狮子鱼"},1503:{name:"塔雀鲷"},1504:{name:"紫斑鳅"},1505:{name:"密刺豚"},1506:{name:"长鳍镰"},1601:{name:"胖头鱼"},1602:{name:"青刺鲷"},1603:{name:"跳跳鱼"},1604:{name:"箱豚鱼"},1101:{name:"黄金锦鲤"},1102:{name:"利刃"},1103:{name:"惊涛"},1104:{name:"骇浪"},1105:{name:"星驰"},1106:{name:"公同心"},1107:{name:"母同心"},1108:{name:"公协力"},1109:{name:"母协力"},1110:{name:"月光"},1111:{name:"公铁血"},1112:{name:"母铁血"},1113:{name:"公丹心"},1114:{name:"母丹心"},1115:{name:"巨灵"},1116:{name:"公剑胆"},1117:{name:"母剑胆"},1118:{name:"璇玑"}},lb={1:{color:"白色",value:"white"},2:{color:"绿色",value:"green"},3:{color:"蓝色",value:"blue"},4:{color:"紫色",value:"purple"},5:{color:"橙色",value:"orange"},6:{color:"红色",value:"red"}},ib={1:"一支穿云箭",2:"皮鞋手机",3:"懦弱百合",4:"正义喇叭",5:"祖传大饼",6:"冰镇啤酒",7:"导演话筒",8:"驱蚊花露水",9:"止痒花露水"},ub=A=>ib[A],pi=A=>{let e={};return A&&A.heroes&&typeof A.heroes=="object"&&Object.values(A.heroes).forEach(t=>{e[t.artifactId]={FishInfo:ob[(t.artifactId+"").substring(0,4)],artifactId:t.artifactId},t.appendSkill&&Array.isArray(t.appendSkill)&&t.appendSkill.forEach(n=>{yo[n.skillId]&&(e[t.artifactId].PearlSkill=yo[n.skillId])})}),A&&A.pearlMap&&typeof A.pearlMap=="object"&&Object.values(A.pearlMap).forEach(t=>{e[t.artifactId]&&t.slotMap&&typeof t.slotMap=="object"&&(e[t.artifactId].slotMap=Object.values(t.slotMap).map(n=>Object.assign({},n,lb[n.colorId])))}),e},cb={class:"club-warrank-container"},db={class:"club-warrank-card"},vb={class:"header-section"},fb={key:0,class:"stats-section"},gb={class:"stat-item"},Bb={class:"stat-item"},pb={class:"function-section"},mb={class:"function-left"},hb={class:"export-options"},wb={class:"function-right"},Cb={key:0,class:"announcement-section"},Qb={key:1,class:"alliance-tabs-section"},yb={class:"tab-count"},bb={class:"tab-count"},Fb={class:"tab-count"},Ub={class:"tab-count"},_b={class:"tab-count"},kb={class:"tab-count"},Ib={key:2,class:"loading-state"},Hb={key:3,class:"table-container"},Eb={class:"table-header"},Sb={key:0,class:"table-cell score"},Tb={class:"table-cell rank"},$b={class:"rank-container"},Db={key:0,class:"rank-medal gold"},Lb={key:1,class:"rank-medal silver"},Mb={key:2,class:"rank-medal bronze"},Kb={key:3,class:"rank-number"},Ob={class:"table-cell alliance"},xb={class:"alliance-tag"},Pb={class:"table-cell avatar"},Rb=["src","alt"],Vb={key:1,class:"member-avatar-placeholder"},Nb={class:"table-cell name"},Gb={key:0,class:"table-cell score"},Wb={class:"table-cell red-quench"},Yb={class:"table-cell first-3"},zb={class:"hero-avatars"},Xb=["onClick"],Jb=["src","alt"],qb={key:1,class:"hero-avatar-placeholder"},jb={class:"hero-holy-beast",title:"四圣数"},Zb={class:"holy-beast-count"},AF={class:"hero-info"},eF={class:"hero-name"},tF={class:"hero-stats"},nF={class:"hero-power"},sF={class:"table-cell power"},aF={class:"table-cell level"},rF={class:"table-cell server"},oF={class:"table-cell announcement"},lF={key:4,class:"empty-state"},iF={key:0,class:"player-id"},uF={key:0,class:"player-info-content"},cF={class:"player-info-main"},dF={class:"player-info-detail"},vF={class:"action-section"},fF={style:{display:"flex","align-items":"center",gap:"8px",flex:"1"}},gF={class:"fight-count-container"},BF={key:0,class:"fight-progress"},pF={class:"progress-info"},mF={class:"progress-stats"},hF={key:1,class:"fight-result"},wF={class:"result-header"},CF={class:"result-summary"},QF={class:"summary-item"},yF={class:"summary-value"},bF={class:"summary-item"},FF={class:"summary-value win"},UF={class:"summary-item"},_F={class:"summary-value loss"},kF={class:"summary-item"},IF={class:"summary-value"},HF={class:"summary-item"},EF={class:"summary-value"},SF={class:"summary-item"},TF={class:"summary-value"},$F={class:"result-list"},DF={class:"battle-header"},LF={class:"battle-index"},MF={class:"battle-details"},KF={class:"battle-side left-side"},OF={class:"side-info"},xF={class:"side-name"},PF={class:"side-power"},RF={class:"side-die"},VF={class:"battle-side right-side"},NF={class:"side-info"},GF={class:"side-name"},WF={class:"side-power"},YF={class:"side-die"},zF={class:"result-actions"},XF={class:"player-heroes"},JF={key:0,class:"debug-info",style:{"font-size":"12px",color:"#999","margin-bottom":"10px"}},qF={key:1,class:"hero-list"},jF=["onClick"],ZF={class:"hero-info"},AU={class:"hero-name"},eU={class:"hero-stats"},tU={key:2,class:"empty-heroes"},nU={key:0,style:{"font-size":"12px",color:"#999","margin-top":"10px"}},sU={key:1,style:{"font-size":"12px",color:"#999","margin-top":"10px"}},aU={class:"hero-id"},rU={key:0,class:"hero-modal-content"},oU={class:"hero-modal-header"},lU={class:"hero-modal-avatar"},iU=["src","alt"],uU={key:1,class:"hero-placeholder"},cU={class:"hero-modal-basic"},dU={class:"hero-modal-name"},vU={class:"hero-modal-stats"},fU={class:"stat-item"},gU={class:"stat-item"},BU={class:"stat-item"},pU={class:"hero-modal-details"},mU={key:0},hU={key:1},wU={class:"hero-modal-equipment"},CU={class:"equipment-grid"},QU={class:"equipment-item"},yU={class:"equipment-slots"},bU={class:"equipment-item"},FU={class:"equipment-slots"},UU={class:"equipment-item"},_U={class:"equipment-slots"},kU={class:"equipment-item"},IU={class:"equipment-slots"},HU={__name:"ClubWarrank",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=W(1),a=A,o=W(["2"]),r=W(null),i=t,l=ZA(),c=qA();I({get:()=>a.visible,set:x=>i("update:visible",x)});const d=W(!1),u=W(null);W(new Set);const b=W(""),w=W(Qn()),Q=W("all"),H=W(!1),M=W(""),F=W(!1),h=W(null),V=W(1),P=W(!0),k=zA({visible:!1,totalCount:0,completedCount:0,remainingCount:0,winCount:0,lossCount:0,percentage:0}),E=zA({visible:!1,totalCount:0,winCount:0,lossCount:0,winRate:0,ourDieRate:0,enemyDieRate:0,resultCount:[]}),D=W([]),R=zA({ourDieHeroGameCount:0,enemyDieHeroGameCount:0}),N=W(!1),_=W(null),J=x=>{N.value=!0,_.value=x},z=x=>{let U=0,AA=0;return Object.values(x).forEach(nA=>{Object.values(nA.quenches).forEach(uA=>{AA++,uA.colorId==6&&U++})}),{redCount:U,holeCount:AA}},L=x=>{let U=0,AA=0,nA=[];try{let uA=[];if(Array.isArray(x))uA=x;else if(typeof x=="object"&&x!==null)uA=Object.values(x);else return console.error("英雄数据格式错误:",typeof x),{redCount:U,holeCount:AA,heroList:nA};console.log("待处理的英雄数量:",uA.length),uA.forEach((oA,cA)=>{var aA;if(console.log(`处理第 ${cA+1} 个英雄:`,oA),!oA)return;let CA=Cn[oA.heroId]||{},rA=oA.equipment?z(oA.equipment):{redCount:0,holeCount:0};const HA=oA.heroId||`unknown_${cA}`,dA=oA.heroName||CA.name||`未知武将_${cA}`;let DA={heroId:HA,artifactId:oA.artifactId||"",power:oA.power||0,star:oA.star||0,equipment:oA.equipment,heroName:dA,heroAvate:oA.heroAvate||CA.avatar||"",level:oA.level||0,hole:rA.holeCount,red:rA.redCount,HolyBeast:((aA=oA.hB)==null?void 0:aA.active)===!0,skillList:oA.skillList||[],attributeList:oA.attributeList||[],battleTeamSlot:oA.battleTeamSlot};HA&&dA&&(U+=DA.red,AA+=DA.hole,nA.push(DA),console.log(`添加英雄: ${DA.heroName}, 战力: ${DA.power}, 红数: ${DA.red}, 开孔数: ${DA.hole}`))}),console.log("处理完成的英雄列表:",nA)}catch(uA){console.error("处理英雄信息时发生错误:",uA),nA=[]}return nA.sort((uA,oA)=>uA.battleTeamSlot-oA.battleTeamSlot),{redCount:U,holeCount:AA,heroList:nA}},$=async x=>{var nA,uA,oA,cA,CA,rA,HA;if(!c.selectedToken){l.warning("请先选择游戏角色");return}const U=c.selectedToken.id;if(c.getWebSocketStatus(U)!=="connected"){l.error("WebSocket未连接，无法查询战绩");return}y(),H.value=!0,M.value=x;try{const dA=await c.sendMessageWithPromise(U,"rank_getroleinfo",{bottleType:0,includeBottleTeam:!1,isSearch:!1,roleId:x,includeHero:!0,includeHeroDetail:!0,includePearl:!0},5e3);if(console.log("rank_getroleinfo API返回结果:",dA),!dA.roleInfo){l.warning("未查询到对手信息"),console.log("未查询到roleInfo");return}console.log("构建玩家信息 - result.roleInfo:",dA.roleInfo),console.log("构建玩家信息 - result.roleInfo.heroes:",dA.roleInfo.heroes),console.log("构建玩家信息 - result.legionInfo:",dA.legionInfo),console.log("英雄数据类型:",typeof dA.roleInfo.heroes),dA.roleInfo.heroes&&(console.log("英雄数据是否为数组:",Array.isArray(dA.roleInfo.heroes)),console.log("英雄数据是否为对象:",typeof dA.roleInfo.heroes=="object"),console.log("英雄数据键名:",Object.keys(dA.roleInfo.heroes)));const DA=pi(dA.roleInfo);console.log("处理后的鱼灵信息:",DA);let aA={redCount:0,holeCount:0,heroList:[]};if(dA.roleInfo.heroes)try{aA=L(dA.roleInfo.heroes),console.log("处理后的英雄信息:",aA)}catch(BA){console.error("处理英雄信息失败:",BA),aA={redCount:0,holeCount:0,heroList:[]}}aA.heroList.forEach(BA=>{BA.PearlInfo=DA[BA.artifactId]||{}}),console.log("最终英雄列表:",aA.heroList),console.log("英雄列表长度:",aA.heroList.length);const TA=aA.redCount,gA=aA.holeCount,lA=dA.roleInfo.red||0,bA=dA.roleInfo.maxRed||0,LA=((uA=(nA=dA.legionInfo)==null?void 0:nA.statistics)==null?void 0:uA["battle:red:quench"])||lA,EA=((cA=(oA=dA.legionInfo)==null?void 0:oA.statistics)==null?void 0:cA["red:quench"])||bA,NA=((rA=(CA=dA.legionInfo)==null?void 0:CA.statistics)==null?void 0:rA["max:power"])||dA.roleInfo.maxPower||0,QA={id:x,name:dA.roleInfo.name,headImg:dA.roleInfo.headImg,power:dA.roleInfo.power,level:dA.roleInfo.level,serverName:dA.roleInfo.serverName,legionName:((HA=dA.legionInfo)==null?void 0:HA.name)||"无",redQuench:lA,holyBeast:aA.heroList.filter(BA=>BA.HolyBeast).length,maxPower:j(NA),currentRedDrum:lA,maxRedDrum:bA,totalRedCount:TA,totalHoleCount:gA,legionRedQuench:LA,legionMaxRed:EA,heroList:aA.heroList};console.log("构建完成的玩家数据:",QA),h.value=QA,console.log("设置playerInfo后的值:",h.value),F.value=!0,console.log("设置showPlayerInfoModal后的值:",F.value),l.success("查询成功")}catch(dA){l.error(`查询失败: ${dA.message}`),console.error("查询失败详细信息:",dA)}finally{H.value=!1}},m=x=>{x.id&&!H.value?(l.info(`正在查询车头信息: ${x.name}`),$(x.id)):x.id||(l.error("车头ID不存在，无法查询信息"),console.error("车头ID不存在",x))},B=x=>{const U=parseInt(x);P.value=!isNaN(U)&&U>=1&&U<=100},y=()=>{E.visible=!1,k.visible=!1,D.value=[],R.ourDieHeroGameCount=0,R.enemyDieHeroGameCount=0,V.value=1,B(1)},T=(x,U,AA)=>{k.completedCount=x,k.winCount=U,k.lossCount=AA,k.remainingCount=k.totalCount-x,k.percentage=Math.round(x/k.totalCount*100)},G=(x,U,AA)=>{E.totalCount=k.totalCount,E.winCount=x,E.lossCount=U,E.winRate=Math.round(x/k.totalCount*100),E.ourDieRate=Math.round(R.ourDieHeroGameCount/k.totalCount*100),E.enemyDieRate=Math.round(R.enemyDieHeroGameCount/k.totalCount*100),E.resultCount=AA,E.visible=!0,k.visible=!1},S=async()=>{var nA,uA,oA,cA,CA,rA,HA,dA,DA,aA,TA;if(!h.value)return;if(B(V.value),!P.value){l.error("请输入有效的切磋次数 (1-100)");return}const x=parseInt(V.value);if(l.info(`开始连续切磋: ${h.value.name}，共${x}次`),!c.selectedToken){l.warning("请先选择游戏角色");return}const U=c.selectedToken.id;if(c.getWebSocketStatus(U)!=="connected"){l.error("WebSocket未连接，无法发起切磋");return}H.value=!0,k.visible=!0,k.totalCount=x,k.completedCount=0,k.remainingCount=x,k.winCount=0,k.lossCount=0,k.percentage=0,R.ourDieHeroGameCount=0,R.enemyDieHeroGameCount=0,D.value=[];try{let gA=0,lA=0,bA=[];R.ourDieHeroGameCount=0,R.enemyDieHeroGameCount=0;for(let LA=0;LA<x;LA++){l.info(`正在进行第 ${LA+1}/${x} 场切磋`);const EA=await c.sendMessageWithPromise(U,"fight_startpvp",{targetId:h.value.id},1e4);if(console.log(`第 ${LA+1} 场切磋结果:`,EA),EA&&EA.battleData){let NA=0,QA=0;(uA=(nA=EA.battleData.result)==null?void 0:nA.sponsor)!=null&&uA.teamInfo&&EA.battleData.result.sponsor.teamInfo.forEach(KA=>{KA.hp==0&&NA++}),(cA=(oA=EA.battleData.result)==null?void 0:oA.accept)!=null&&cA.teamInfo&&EA.battleData.result.accept.teamInfo.forEach(KA=>{KA.hp==0&&QA++});const BA={isWin:((CA=EA.battleData.result)==null?void 0:CA.isWin)||!1,leftName:((rA=EA.battleData.leftTeam)==null?void 0:rA.name)||"未知",leftheadImg:((HA=EA.battleData.leftTeam)==null?void 0:HA.headImg)||"",leftpower:j(((dA=EA.battleData.leftTeam)==null?void 0:dA.power)||0),leftDieHero:NA,rightName:((DA=EA.battleData.rightTeam)==null?void 0:DA.name)||"未知",rightheadImg:((aA=EA.battleData.rightTeam)==null?void 0:aA.headImg)||"",rightpower:j(((TA=EA.battleData.rightTeam)==null?void 0:TA.power)||0),rightDieHero:QA};bA.push(BA),NA>0&&R.ourDieHeroGameCount++,QA>0&&R.enemyDieHeroGameCount++,BA.isWin?gA++:lA++,T(LA+1,gA,lA),LA<x-1&&await new Promise(KA=>setTimeout(KA,500))}else l.warning(`第 ${LA+1} 场切磋失败: ${(EA==null?void 0:EA.message)||"未返回战斗数据"}`),lA++,T(LA+1,gA,lA)}G(gA,lA,bA),l.success(`连续切磋完成，共${x}场`)}catch(gA){console.error("连续切磋失败:",gA),l.error(`连续切磋失败: ${gA.message||"网络错误"}`),k.visible=!1}finally{H.value=!1}},O=I(()=>{var x;return(x=u.value)!=null&&x.legionRankList?Q.value==="all"?u.value.legionRankList:u.value.legionRankList.filter(U=>{const AA=ht(U.announcement);return Q.value==="空白"?!U.announcement||U.announcement===0||U.announcement==="0":AA===Q.value}):[]}),K=I(()=>{var AA;if(!((AA=u.value)!=null&&AA.legionRankList))return{};const x=[...u.value.legionRankList].sort((nA,uA)=>(uA.redQuench||0)-(nA.redQuench||0)),U={};return x.forEach((nA,uA)=>{U[nA.id]=uA+1}),U}),Y=x=>{Q.value=x},q=x=>{var U;return(U=u.value)!=null&&U.legionRankList?u.value.legionRankList.filter(AA=>{const nA=ht(AA.announcement);return x==="空白"?!AA.announcement||AA.announcement===0||AA.announcement==="0":nA===x}).length:0},j=x=>x?x>=1e8?(x/1e8).toFixed(2)+"亿":x>=1e4?(x/1e4).toFixed(2)+"万":x.toString():"0",sA=x=>x?x.toFixed(0).toString():"0",wA=x=>{x.target.style.display="none"},fA=x=>x.getDay()!=6&&x.getDay()!=0||x>Date.now(),FA=x=>{switch(x){case"大联盟":return"alliance-large";case"梦盟":return"alliance-dream";case"正义联盟":return"alliance-xin-justice";case"龙盟":return"alliance-dragon";case"未知联盟":return"alliance-unknown";default:return"alliance-other"}},UA=x=>x>=60?"redquench-high":x>=50?"redquench-medium":"redquench-low",RA=x=>{x!=null?w.value=x:w.value=Qn(),SA()},SA=async()=>{if(!c.selectedToken){l.warning("请先选择游戏角色");return}const x=c.selectedToken.id;if(c.getWebSocketStatus(x)!=="connected"){l.error("WebSocket未连接，无法查询战绩");return}if(d.value=!0,b.value=pr(w.value),_t()==b.value&&new Date().getHours()<21){const AA=await c.sendMessageWithPromise(x,"legion_getbattlefield",{},1e4);if(!AA.info){u.value=null,l.warning("未查询到盐场匹配数据");return}try{const nA=await c.sendMessageWithPromise(x,"legion_getopponent",{phase:AA.info.phase,battlefieldId:AA.info.battlefieldId},1e4);if(!(nA!=null&&nA.opponentList)){u.value=null,l.warning("未查询到盐场匹配数据");return}n.value=1;const uA=nA.opponentList.map(async TA=>{var gA,lA,bA,LA,EA,NA,QA,BA,KA,MA;try{const VA=await c.sendMessageWithPromise(x,"legion_getinfobyid",{legionId:TA.id},5e3);if(!VA)return{...TA,redQuench:0,power:0,announcement:"未知",redno:0,redno1:"0红",redno2:"0红",redno3:"0红",hb1:0,hb2:0,hb3:0,topHeroes:[],level:30};const Qe=[];for(const[re,hA]of Object.entries((gA=VA==null?void 0:VA.legionData)==null?void 0:gA.members)){const PA=await c.sendMessageWithPromise(x,"rank_getroleinfo",{bottleType:0,includeBottleTeam:!1,isSearch:!1,roleId:re},5e3);let ce=0;for(const[Xe,nt]of Object.entries((lA=PA==null?void 0:PA.roleInfo)==null?void 0:lA.heroes))((bA=nt.hB)==null?void 0:bA.active)!==void 0&&ce++;Qe.push({id:re,name:hA.name||((LA=hA.custom)==null?void 0:LA.name)||"未知",headImg:hA.headImg||((EA=hA.custom)==null?void 0:EA.headImg)||"",power:((NA=PA==null?void 0:PA.roleInfo)==null?void 0:NA.power)||0,redQuench:((QA=hA.custom)==null?void 0:QA.red_quench_cnt)||0,holyBeast:ce})}Qe.sort((re,hA)=>hA.redQuench-re.redQuench);const de=Qe.slice(0,3),me=de.map(re=>re.redQuench+"红"),ge=de.map(re=>re.holyBeast);return{...TA,redQuench:((BA=VA==null?void 0:VA.legionData)==null?void 0:BA.quenchNum)||0,power:((KA=VA==null?void 0:VA.legionData)==null?void 0:KA.power)||0,announcement:((MA=VA==null?void 0:VA.legionData)==null?void 0:MA.announcement)||0,redno:me||0,redno1:me[0]||"0红",redno2:me[1]||"0红",redno3:me[2]||"0红",hb1:ge[0]||0,hb2:ge[1]||0,hb3:ge[2]||0,topHeroes:de,level:30}}catch(VA){return console.error(`查询俱乐部${TA.id}详情失败:`,VA),{...TA,redQuench:0,power:0,announcement:"未知",redno:0,redno1:"0红",redno2:"0红",redno3:"0红",hb1:0,hb2:0,hb3:0,topHeroes:[],level:30}}}),cA=(await Promise.all(uA)).map(TA=>({...TA,alliance:ht(TA.announcement)})),CA={};cA.forEach(TA=>{const gA=TA.alliance;CA[gA]=(CA[gA]||0)+1});let rA="",HA=0;for(const[TA,gA]of Object.entries(CA))gA>HA&&(HA=gA,rA=TA);const dA={};cA.forEach(TA=>{const gA=TA.alliance;dA[gA]||(dA[gA]=[]),dA[gA].push(TA)});for(const TA in dA)dA[TA].sort((gA,lA)=>(lA.redQuench||0)-(gA.redQuench||0));const DA=[];rA&&dA[rA]&&(DA.push(...dA[rA]),delete dA[rA]);const aA=Object.keys(dA).sort();for(const TA of aA)DA.push(...dA[TA]);u.value={...nA,legionRankList:DA},l.success("盐场匹配数据加载成功")}catch(nA){console.error("查询失败:",nA),l.error(`查询失败: ${nA.message}`),u.value=null}finally{d.value=!1}}else try{const AA=await c.sendMessageWithPromise(x,"legion_getwarrank",{date:b.value},1e4);if(!(AA!=null&&AA.legionRankList)){u.value=null,l.warning("未查询到盐场匹配数据");return}n.value=0;const nA=AA.legionRankList.map(async aA=>{var TA,gA,lA,bA,LA,EA,NA,QA,BA,KA;try{const MA=await c.sendMessageWithPromise(x,"legion_getinfobyid",{legionId:aA.id},5e3);if(aA.sRScore=-1,!MA)return{...aA,redQuench:0,power:0,announcement:"未知",redno:0,redno1:"0红",redno2:"0红",redno3:"0红",hb1:0,hb2:0,hb3:0,topHeroes:[],level:30};const VA=[];for(const[ge,re]of Object.entries((TA=MA==null?void 0:MA.legionData)==null?void 0:TA.members)){const hA=await c.sendMessageWithPromise(x,"rank_getroleinfo",{bottleType:0,includeBottleTeam:!1,isSearch:!1,roleId:ge},5e3);let PA=0;for(const[ce,Xe]of Object.entries((gA=hA==null?void 0:hA.roleInfo)==null?void 0:gA.heroes))((lA=Xe.hB)==null?void 0:lA.active)!==void 0&&PA++;VA.push({id:ge,name:re.name||((bA=re.custom)==null?void 0:bA.name)||"未知",headImg:re.headImg||((LA=re.custom)==null?void 0:LA.headImg)||"",power:((EA=hA==null?void 0:hA.roleInfo)==null?void 0:EA.power)||0,redQuench:((NA=re.custom)==null?void 0:NA.red_quench_cnt)||0,holyBeast:PA})}VA.sort((ge,re)=>re.redQuench-ge.redQuench);const Qe=VA.slice(0,3),de=Qe.map(ge=>ge.redQuench+"红"),me=Qe.map(ge=>ge.holyBeast);return{...aA,redQuench:((QA=MA==null?void 0:MA.legionData)==null?void 0:QA.quenchNum)||0,power:((BA=MA==null?void 0:MA.legionData)==null?void 0:BA.power)||0,announcement:((KA=MA==null?void 0:MA.legionData)==null?void 0:KA.announcement)||0,redno:de||0,redno1:de[0]||"0红",redno2:de[1]||"0红",redno3:de[2]||"0红",hb1:me[0]||0,hb2:me[1]||0,hb3:me[2]||0,topHeroes:Qe,level:30}}catch(MA){return console.error(`查询俱乐部${aA.id}详情失败:`,MA),{...aA,redQuench:0,power:0,announcement:"未知",redno:0,redno1:"0红",redno2:"0红",redno3:"0红",hb1:0,hb2:0,hb3:0,topHeroes:[],level:30}}}),oA=(await Promise.all(nA)).map(aA=>({...aA,alliance:ht(aA.announcement)})),cA={};oA.forEach(aA=>{const TA=aA.alliance;cA[TA]=(cA[TA]||0)+1});let CA="",rA=0;for(const[aA,TA]of Object.entries(cA))TA>rA&&(rA=TA,CA=aA);const HA={};oA.forEach(aA=>{const TA=aA.alliance;HA[TA]||(HA[TA]=[]),HA[TA].push(aA)});for(const aA in HA)HA[aA].sort((TA,gA)=>(gA.redQuench||0)-(TA.redQuench||0));const dA=[];CA&&HA[CA]&&(dA.push(...HA[CA]),delete HA[CA]);const DA=Object.keys(HA).sort();for(const aA of DA)dA.push(...HA[aA]);u.value={...AA,legionRankList:dA},l.success("盐场匹配数据加载成功")}catch(AA){console.error("查询失败:",AA),l.error(`查询失败: ${AA.message}`),u.value=null}finally{d.value=!1}},OA=()=>{SA()},WA=async()=>{u.value.legionRankList.sort((x,U)=>U.redQuench-x.redQuench)},YA=async()=>{u.value.legionRankList.sort((x,U)=>U.sRScore-x.sRScore)},xA=async()=>{if(!u.value||!u.value.legionRankList){l.warning("没有可导出的数据");return}try{if(o.value.includes("1")){const x=i1(u.value.legionRankList,b.value)}o.value.includes("2")&&eA(),l.success("导出成功")}catch(x){console.error("导出失败:",x),l.error("导出失败，请重试")}},eA=async()=>{if(!r.value){alert("未找到要导出的DOM元素");return}try{const x=r.value.style.height,U=r.value.style.overflow;r.value.style.height="auto",r.value.style.overflow="visible",await new Promise(oA=>setTimeout(oA,100));const nA=(await dt(r.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1,height:r.value.scrollHeight,width:r.value.scrollWidth,windowWidth:r.value.scrollWidth,windowHeight:r.value.scrollHeight,allowTaint:!0})).toDataURL("image/png"),uA=document.createElement("a");uA.href=nA,uA.download=b.value.replace("/","年").replace("/","月")+"日盐场匹配信息.png",document.body.appendChild(uA),uA.click(),document.body.removeChild(uA)}catch(x){console.error("DOM转图片失败：",x),alert("导出图片失败，请重试")}finally{r.value.style.height=originalHeight,r.value.style.overflow=originalOverflow}};return e({fetchBattleRecords1:SA}),ae(()=>{SA()}),(x,U)=>{const AA=Z("n-tag"),nA=ar,uA=Z("n-icon"),oA=Z("n-button"),cA=Z("n-spin"),CA=Z("n-empty"),rA=Z("n-input"),HA=Z("n-progress"),dA=Z("n-descriptions-item"),DA=Z("n-descriptions");return v(),g("div",cb,[s("div",db,[s("div",vb,[U[16]||(U[16]=s("div",{class:"header-left"},[s("img",{src:Bi,alt:"俱乐部图标",class:"header-icon"}),s("div",{class:"header-title"},[s("h2",null,"盐场匹配信息详情"),s("p",null,"俱乐部盐场匹配详情")])],-1)),u.value&&u.value.legionRankList?(v(),g("div",fb,[s("div",gb,[U[14]||(U[14]=s("span",{class:"stat-label"},"查询日期:",-1)),p(AA,{type:"info"},{default:C(()=>[X(f(_A(pr)(w.value)),1)]),_:1})]),s("div",Bb,[U[15]||(U[15]=s("span",{class:"stat-label"},"总俱乐部数:",-1)),p(AA,{type:"success"},{default:C(()=>[X(f(u.value.legionRankList.length),1)]),_:1})])])):tA("",!0)]),s("div",pb,[s("div",mb,[s("div",hb,[p(_A(ya),{value:o.value,"onUpdate:value":U[0]||(U[0]=aA=>o.value=aA),name:"group-exportmethod",size:"small"},{default:C(()=>[p(_A(zt),{value:"1"},{default:C(()=>[...U[17]||(U[17]=[X("表格导出",-1)])]),_:1}),p(_A(zt),{value:"2"},{default:C(()=>[...U[18]||(U[18]=[X("图片导出",-1)])]),_:1})]),_:1},8,["value"])])]),s("div",wb,[p(nA,{value:w.value,"onUpdate:value":U[1]||(U[1]=aA=>w.value=aA),defaultValue:w.value,onChange:RA,valueFormat:"YYYY/MM/DD",format:"YYYY/MM/DD","disabled-date":fA},null,8,["value","defaultValue"]),p(oA,{size:"small",disabled:d.value,onClick:OA,class:"action-btn refresh-btn"},{icon:C(()=>[p(uA,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[U[19]||(U[19]=X("刷新",-1))]),_:1},8,["disabled"]),p(oA,{type:"primary",size:"small",disabled:!u.value||d.value,onClick:xA,class:"action-btn export-btn"},{icon:C(()=>[p(uA,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[U[20]||(U[20]=X("导出",-1))]),_:1},8,["disabled"]),p(oA,{type:"info",size:"small",disabled:!u.value||d.value,onClick:WA,class:"action-btn sort-btn"},{default:C(()=>[...U[21]||(U[21]=[X(" 红淬排序",-1)])]),_:1},8,["disabled"]),n.value===1?(v(),pA(oA,{key:0,type:"info",size:"small",disabled:!u.value||d.value,onClick:YA,class:"action-btn sort-btn"},{default:C(()=>[...U[22]||(U[22]=[X(" 积分排序",-1)])]),_:1},8,["disabled"])):tA("",!0)])]),s("div",{ref_key:"exportDom",ref:r,class:"table-content"},[u.value&&u.value.legionRankList?(v(),g("div",Cb,[...U[23]||(U[23]=[s("div",{class:"announcement-content"},[s("span",{class:"announcement-text"},"盐场匹配信息实时更新中，请关注最新排名变化")],-1)])])):tA("",!0),u.value&&u.value.legionRankList?(v(),g("div",Qb,[s("div",{class:iA(["alliance-tab",{active:Q.value==="大联盟"}]),onClick:U[2]||(U[2]=aA=>Y("大联盟"))},[U[24]||(U[24]=s("span",{class:"tab-text"},"大联盟",-1)),s("span",yb,f(q("大联盟")),1)],2),s("div",{class:iA(["alliance-tab",{active:Q.value==="梦盟"}]),onClick:U[3]||(U[3]=aA=>Y("梦盟"))},[U[25]||(U[25]=s("span",{class:"tab-text"},"梦盟",-1)),s("span",bb,f(q("梦盟")),1)],2),s("div",{class:iA(["alliance-tab",{active:Q.value==="正义联盟"}]),onClick:U[4]||(U[4]=aA=>Y("正义联盟"))},[U[26]||(U[26]=s("span",{class:"tab-text"},"正义联盟",-1)),s("span",Fb,f(q("正义联盟")),1)],2),s("div",{class:iA(["alliance-tab",{active:Q.value==="龙盟"}]),onClick:U[5]||(U[5]=aA=>Y("龙盟"))},[U[27]||(U[27]=s("span",{class:"tab-text"},"龙盟",-1)),s("span",Ub,f(q("龙盟")),1)],2),s("div",{class:iA(["alliance-tab",{active:Q.value==="未知联盟"}]),onClick:U[6]||(U[6]=aA=>Y("未知联盟"))},[U[28]||(U[28]=s("span",{class:"tab-text"},"未知联盟",-1)),s("span",_b,f(q("未知联盟")),1)],2),s("div",{class:iA(["alliance-tab all",{active:Q.value==="all"}]),onClick:U[7]||(U[7]=aA=>Y("all"))},[U[29]||(U[29]=s("span",{class:"tab-text"},"全部",-1)),s("span",kb,f(u.value.legionRankList.length),1)],2)])):tA("",!0),d.value?(v(),g("div",Ib,[p(cA,{size:"large"},{description:C(()=>[...U[30]||(U[30]=[X(" 正在加载盐场匹配数据... ",-1)])]),_:1})])):u.value&&u.value.legionRankList?(v(),g("div",Hb,[s("div",Eb,[U[31]||(U[31]=s("div",{class:"table-cell rank"},"红粹排名",-1)),U[32]||(U[32]=s("div",{class:"table-cell alliance"},"联盟",-1)),U[33]||(U[33]=s("div",{class:"table-cell avatar"},"头像",-1)),U[34]||(U[34]=s("div",{class:"table-cell name"},"名称",-1)),n.value===1?(v(),g("div",Sb,"积分")):tA("",!0),U[35]||(U[35]=yn('<div class="table-cell red-quench" data-v-abba763c>红淬</div><div class="table-cell first-3" data-v-abba763c>前三车头</div><div class="table-cell power" data-v-abba763c>战力</div><div class="table-cell level" data-v-abba763c>等级</div><div class="table-cell server" data-v-abba763c>服务区</div><div class="table-cell announcement" data-v-abba763c>公告</div>',6))]),(v(!0),g(vA,null,yA(O.value,(aA,TA)=>{var gA;return v(),g("div",{key:aA.id,class:iA(["table-row",FA(_A(ht)(aA.announcement))])},[s("div",Tb,[s("div",$b,[K.value[aA.id]===1?(v(),g("span",Db)):K.value[aA.id]===2?(v(),g("span",Lb)):K.value[aA.id]===3?(v(),g("span",Mb)):(v(),g("span",Kb,f(K.value[aA.id]),1))])]),s("div",Ob,[s("span",xb,f(_A(ht)(aA.announcement)||"未知联盟"),1)]),s("div",Pb,[aA.logo?(v(),g("img",{key:0,src:aA.logo,alt:aA.name,class:"member-avatar",onError:wA},null,40,Rb)):(v(),g("div",Vb,f(((gA=aA.name)==null?void 0:gA.charAt(0))||"?"),1))]),s("div",Nb,f(aA.name),1),aA.sRScore!==-1?(v(),g("div",Gb,f(sA(aA.sRScore)||0),1)):tA("",!0),s("div",Wb,f(aA.redQuench||0),1),s("div",Yb,[s("div",zb,[(v(!0),g(vA,null,yA(aA.topHeroes,(lA,bA)=>{var LA;return v(),g("div",{key:bA,class:"hero-card"},[s("div",{class:"hero-avatar-container",onClick:EA=>m(lA)},[lA.headImg?(v(),g("img",{key:0,src:lA.headImg,alt:lA.name,class:"hero-avatar"},null,8,Jb)):(v(),g("div",qb,f(((LA=lA.name)==null?void 0:LA.charAt(0))||"?"),1)),s("div",jb,[U[36]||(U[36]=s("span",{class:"holy-beast-icon"},"🐉",-1)),s("span",Zb,f(lA.holyBeast),1)])],8,Xb),s("div",AF,[s("div",eF,f(lA.name||"未知"),1),s("div",tF,[s("span",nF,f(j(lA.power)),1),s("span",{class:iA(["hero-redquench",UA(lA.redQuench)])},f(lA.redQuench)+"红",3)])])])}),128))])]),s("div",sF,f(j(aA.power)||0),1),s("div",aF,[s("span",null,f(aA.level||30),1)]),s("div",rF,f(aA.serverId||0),1),s("div",oF,f(aA.announcement||""),1)],2)}),128))])):d.value?tA("",!0):(v(),g("div",lF,[p(CA,{description:"暂无盐场匹配数据",size:"large"},{icon:C(()=>[p(uA,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))],512)]),p(_A(mr),{show:F.value,"onUpdate:show":U[11]||(U[11]=aA=>F.value=aA),preset:"card",title:"对手信息",style:{width:"800px"},bordered:!1,segmented:{content:"soft",footer:"soft"},"show-close":!1},{"header-extra":C(()=>[h.value?(v(),g("span",iF,"ID: "+f(h.value.id),1)):tA("",!0)]),default:C(()=>[h.value?(v(),g("div",uF,[s("div",cF,[p(_A(On),{round:"",size:60,src:h.value.headImg,class:"player-avatar"},null,8,["src"]),s("div",dF,[s("h3",null,f(h.value.name),1),s("p",null,"区服: "+f(h.value.serverName||"未知")+" | 战力: "+f(j(h.value.power)),1),s("p",null,"俱乐部: "+f(h.value.legionName||"无")+" | 红淬: "+f(h.value.redQuench||0)+" | 四圣数: "+f(h.value.holyBeast||0),1),s("p",null,"总红数: "+f(h.value.totalRedCount||0)+" | 总开孔数: "+f(h.value.totalHoleCount||0),1)])]),s("div",vF,[s("div",fF,[s("div",gF,[U[37]||(U[37]=s("label",{for:"fightCount",class:"fight-count-label"},"切磋次数:",-1)),p(rA,{id:"fightCount",value:V.value,"onUpdate:value":U[8]||(U[8]=aA=>V.value=aA),type:"number",placeholder:"请输入切磋次数",min:"1",max:"100",step:1,class:"fight-count-input",size:"small",onInput:B},null,8,["value"]),U[38]||(U[38]=s("div",{class:"fight-count-hint"},"范围: 1-100",-1))]),p(oA,{type:"tertiary",onClick:U[9]||(U[9]=aA=>F.value=!1),size:"small",style:{"margin-right":"8px"}},{default:C(()=>[...U[39]||(U[39]=[X(" 关闭 ",-1)])]),_:1})]),p(oA,{type:"primary",onClick:S,disabled:!P.value},{default:C(()=>[...U[40]||(U[40]=[X(" 切磋 ",-1)])]),_:1},8,["disabled"])]),k.visible?(v(),g("div",BF,[s("div",pF,[U[41]||(U[41]=s("div",{class:"progress-title"},"切磋进行中",-1)),s("div",mF,[s("span",null,"总次数: "+f(k.totalCount),1),s("span",null,"已完成: "+f(k.completedCount),1),s("span",null,"剩余: "+f(k.remainingCount),1),s("span",null,"胜: "+f(k.winCount),1),s("span",null,"负: "+f(k.lossCount),1)])]),p(HA,{type:"line",percentage:k.percentage,"show-indicator":!1,"stroke-width":8,status:"processing"},null,8,["percentage"])])):tA("",!0),E.visible?(v(),g("div",hF,[s("div",wF,[U[48]||(U[48]=s("h4",{class:"result-title"},"切磋结果",-1)),s("div",CF,[s("div",QF,[U[42]||(U[42]=s("span",{class:"summary-label"},"总次数：",-1)),s("span",yF,f(E.totalCount),1)]),s("div",bF,[U[43]||(U[43]=s("span",{class:"summary-label"},"胜：",-1)),s("span",FF,f(E.winCount),1)]),s("div",UF,[U[44]||(U[44]=s("span",{class:"summary-label"},"负：",-1)),s("span",_F,f(E.lossCount),1)]),s("div",kF,[U[45]||(U[45]=s("span",{class:"summary-label"},"胜率：",-1)),s("span",IF,f((E.winCount/E.totalCount*100).toFixed(2))+"%",1)]),s("div",HF,[U[46]||(U[46]=s("span",{class:"summary-label"},"我方掉将率：",-1)),s("span",EF,f((R.ourDieHeroGameCount/E.totalCount*100).toFixed(2))+"%",1)]),s("div",SF,[U[47]||(U[47]=s("span",{class:"summary-label"},"敌方掉将率：",-1)),s("span",TF,f((R.enemyDieHeroGameCount/E.totalCount*100).toFixed(2))+"%",1)])])]),s("div",$F,[(v(!0),g(vA,null,yA(E.resultCount,(aA,TA)=>(v(),g("div",{key:TA,class:iA(["battle-result-item",aA.isWin?"win":"loss"])},[s("div",DF,[s("span",LF,"第 "+f(TA+1)+" 场",1),p(AA,{type:aA.isWin?"success":"error",size:"small"},{default:C(()=>[X(f(aA.isWin?"胜利":"失败"),1)]),_:2},1032,["type"])]),s("div",MF,[s("div",KF,[p(_A(On),{round:"",size:32,src:aA.leftheadImg,class:"side-avatar"},null,8,["src"]),s("div",OF,[s("span",xF,f(aA.leftName||"未知"),1),s("span",PF,"战力: "+f(aA.leftpower),1),s("span",RF,"掉将: "+f(aA.leftDieHero)+" 个",1)])]),U[49]||(U[49]=s("div",{class:"battle-vs"},"VS",-1)),s("div",VF,[p(_A(On),{round:"",size:32,src:aA.rightheadImg,class:"side-avatar"},null,8,["src"]),s("div",NF,[s("span",GF,f(aA.rightName||"未知"),1),s("span",WF,"战力: "+f(aA.rightpower),1),s("span",YF,"掉将: "+f(aA.rightDieHero)+" 个",1)])])])],2))),128))]),s("div",zF,[p(oA,{type:"primary",onClick:y},{default:C(()=>[...U[50]||(U[50]=[X("重新切磋",-1)])]),_:1}),p(oA,{onClick:U[10]||(U[10]=aA=>E.visible=!1)},{default:C(()=>[...U[51]||(U[51]=[X("关闭结果",-1)])]),_:1})])])):tA("",!0),s("div",XF,[U[53]||(U[53]=s("h4",null,"武将阵容",-1)),h.value.heroList?(v(),g("div",JF," 武将数量: "+f(h.value.heroList.length),1)):tA("",!0),h.value.heroList&&h.value.heroList.length>0?(v(),g("div",qF,[(v(!0),g(vA,null,yA(h.value.heroList,(aA,TA)=>(v(),g("div",{key:aA.heroId||TA,class:"hero-item",onClick:gA=>J(aA)},[p(_A(On),{round:"",size:40,src:aA.heroAvate,style:{cursor:"pointer"}},null,8,["src"]),s("div",ZF,[s("span",AU,f(aA.heroName),1),s("div",eU,[s("span",null,"战力: "+f(j(aA.power||0)),1),s("span",null,"星级: "+f(aA.star||0),1),s("span",null,"红数: "+f(aA.red||0),1),s("span",null,"开孔: "+f(aA.hole||0),1),s("span",{class:iA(aA.HolyBeast?"opened":"closed")},f(aA.HolyBeast?"已开四圣":"未开四圣"),3)])])],8,jF))),128))])):(v(),g("div",tU,[U[52]||(U[52]=s("p",null,"未查询到武将信息",-1)),h.value.heroList?(v(),g("div",nU," 武将列表为空 ")):(v(),g("div",sU," 武将列表未定义 "))]))])])):tA("",!0)]),_:1},8,["show"]),p(_A(mr),{show:N.value,"onUpdate:show":U[13]||(U[13]=aA=>N.value=aA),class:"hero-detail-modal",preset:"card",title:"武将信息",size:"large",bordered:!1,segmented:{content:"soft",footer:"soft"},style:{width:"600px"},"show-close":!0},{"header-extra":C(()=>{var aA;return[s("span",aU,"武将ID: "+f((aA=_.value)==null?void 0:aA.heroId),1)]}),footer:C(()=>[p(oA,{onClick:U[12]||(U[12]=aA=>N.value=!1)},{default:C(()=>[...U[59]||(U[59]=[X("关闭",-1)])]),_:1})]),default:C(()=>{var aA,TA,gA,lA,bA;return[_.value?(v(),g("div",rU,[s("div",oU,[s("div",lU,[_.value.heroAvate?(v(),g("img",{key:0,src:_.value.heroAvate,alt:_.value.heroName},null,8,iU)):(v(),g("div",uU,f(((aA=_.value.heroName)==null?void 0:aA.substring(0,2))||"?"),1))]),s("div",cU,[s("h3",dU,f(_.value.heroName),1),s("div",vU,[s("span",fU,f(j(_.value.power)),1),s("span",gU,"等级: "+f(_.value.level),1),s("span",BU,"星级: "+f(_.value.star),1),p(AA,{type:_.value.HolyBeast?"success":"warning"},{default:C(()=>[X(f(_.value.HolyBeast?"已激活":"未激活"),1)]),_:1},8,["type"])])])]),s("div",pU,[p(DA,{"label-placement":"left",column:"3",bordered:""},{default:C(()=>[p(dA,{label:"战力"},{default:C(()=>[X(f(j(_.value.power)),1)]),_:1}),p(dA,{label:"等级"},{default:C(()=>[X(f(_.value.level),1)]),_:1}),p(dA,{label:"星级"},{default:C(()=>[X(f(_.value.star),1)]),_:1}),p(dA,{label:"开孔数"},{default:C(()=>[X(f(_.value.hole),1)]),_:1}),p(dA,{label:"红孔数"},{default:C(()=>[X(f(_.value.red),1)]),_:1}),p(dA,{label:"四圣状态"},{default:C(()=>[X(f(_.value.HolyBeast?"已激活":"未激活"),1)]),_:1}),p(dA,{label:"鱼灵"},{default:C(()=>{var LA,EA,NA,QA,BA;return[X(f(((NA=(EA=(LA=_.value)==null?void 0:LA.PearlInfo)==null?void 0:EA.FishInfo)==null?void 0:NA.name)!=null?(BA=(QA=_.value.PearlInfo)==null?void 0:QA.FishInfo)==null?void 0:BA.name:"无"),1)]}),_:1}),p(dA,{label:"鱼灵洗练"},{default:C(()=>{var LA,EA,NA;return[((NA=(EA=(LA=_.value)==null?void 0:LA.PearlInfo)==null?void 0:EA.slotMap)==null?void 0:NA.length)>0?(v(),g("div",mU,[(v(!0),g(vA,null,yA(_.value.PearlInfo.slotMap,QA=>(v(),g("div",{key:QA.id,class:"ModalEquipment",style:lt("background-color:"+QA.value)},null,4))),128))])):(v(),g("div",hU,"无"))]}),_:1}),p(dA,{label:"鱼珠技能"},{default:C(()=>{var LA,EA,NA,QA,BA;return[X(f(((NA=(EA=(LA=_.value)==null?void 0:LA.PearlInfo)==null?void 0:EA.PearlSkill)==null?void 0:NA.name)!=null?(BA=(QA=_.value.PearlInfo)==null?void 0:QA.PearlSkill)==null?void 0:BA.name:"无"),1)]}),_:1})]),_:1})]),s("div",wU,[U[58]||(U[58]=s("h4",{class:"section-title"},"装备详情",-1)),s("div",CU,[s("div",QU,[U[54]||(U[54]=s("span",{class:"equipment-label"},"武器:",-1)),s("div",yU,[(v(!0),g(vA,null,yA(Object.values(((TA=Object.values(_.value.equipment)[0])==null?void 0:TA.quenches)||{}),(LA,EA)=>(v(),g("div",{key:EA,class:iA(["equipment-slot",{"red-slot":LA.colorId===6}])},null,2))),128))])]),s("div",bU,[U[55]||(U[55]=s("span",{class:"equipment-label"},"衣服:",-1)),s("div",FU,[(v(!0),g(vA,null,yA(Object.values(((gA=Object.values(_.value.equipment)[1])==null?void 0:gA.quenches)||{}),(LA,EA)=>(v(),g("div",{key:EA,class:iA(["equipment-slot",{"red-slot":LA.colorId===6}])},null,2))),128))])]),s("div",UU,[U[56]||(U[56]=s("span",{class:"equipment-label"},"头盔:",-1)),s("div",_U,[(v(!0),g(vA,null,yA(Object.values(((lA=Object.values(_.value.equipment)[2])==null?void 0:lA.quenches)||{}),(LA,EA)=>(v(),g("div",{key:EA,class:iA(["equipment-slot",{"red-slot":LA.colorId===6}])},null,2))),128))])]),s("div",kU,[U[57]||(U[57]=s("span",{class:"equipment-label"},"坐骑:",-1)),s("div",IU,[(v(!0),g(vA,null,yA(Object.values(((bA=Object.values(_.value.equipment)[3])==null?void 0:bA.quenches)||{}),(LA,EA)=>(v(),g("div",{key:EA,class:iA(["equipment-slot",{"red-slot":LA.colorId===6}])},null,2))),128))])])])])])):tA("",!0)]}),_:1},8,["show"])])}}},EU=Ae(HU,[["__scopeId","data-v-abba763c"]]),SU={class:"club-month-battle-records-container"},TU={class:"club-month-battle-records-card"},$U={class:"header-section"},DU={class:"header-actions"},LU={class:"battle-records-content"},MU={key:0,class:"loading-state"},KU={class:"monthly-stats-overview"},OU={class:"stats-header"},xU={class:"stats-tags"},PU={class:"stats-grid"},RU={class:"stat-item"},VU={class:"stat-value win"},NU={class:"stat-item"},GU={class:"stat-value loss"},WU={class:"stat-item"},YU={class:"stat-value KD"},zU={class:"stat-item"},XU={class:"stat-value Sscore"},JU={class:"members-list"},qU={class:"members-table-wrapper"},jU={class:"members-table"},ZU={class:"date-label"},A_={class:"date-full"},e_={class:"rank-col"},t_={class:"member-col"},n_={class:"member-info"},s_=["src","alt"],a_={key:1,class:"member-avatar-placeholder"},r_={class:"member-name"},o_={class:"daily-stats"},l_={class:"stat-item win"},i_={class:"stat-item loss"},u_={class:"stat-item KD"},c_={class:"stat-item Sscore"},d_={class:"total-col"},v_={class:"total-stats"},f_={class:"stat-item win"},g_={class:"stat-item loss"},B_={class:"stat-item KD"},p_={class:"stat-item Sscore"},m_={key:2,class:"empty-state"},h_={__name:"ClubMonthBattleRecords",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=W(null),o=t,r=ZA(),i=qA();I({get:()=>n.visible,set:D=>o("update:visible",D)});const l=W(!1),c=W({});W(new Set);const d=W([]),u=()=>{const D=new Date,R=[],N=D.getFullYear(),_=D.getMonth(),J=[],z=new Date(N,_,1),L=new Date(N,_+1,0);for(let y=z.getDate();y<=L.getDate();y++){const T=new Date(N,_,y);T.getDay()===6&&J.push(T)}for(let y=0;y<Math.min(4,J.length);y++)R.push(J[y]);if(J.length>=4){const y=J[3],T=new Date(y);T.setDate(T.getDate()+1),R.push(T)}const $=R.map(y=>{const T=y.getFullYear(),G=String(y.getMonth()+1).padStart(2,"0"),S=String(y.getDate()).padStart(2,"0");return`${T}/${G}/${S}`}),m=new Date,B=`${m.getFullYear()}/${String(m.getMonth()+1).padStart(2,"0")}/${String(m.getDate()).padStart(2,"0")}`;return $.filter(y=>y<=B)},b=D=>D.split("/").slice(1).join("/"),w=I(()=>{const D={totalMembers:0,totalKills:0,totalDeaths:0,totalResurrection:0};if(!c.value||Object.keys(c.value).length===0)return D;const R={};return Object.values(c.value).forEach(N=>{N&&N.roleDetailsList&&N.roleDetailsList.forEach(_=>{R[_.roleId]||(R[_.roleId]={roleId:_.roleId,name:_.name,headImg:_.headImg,totalWinCnt:0,totalLoseCnt:0,totalResurrection:0,dailyRecords:{}}),R[_.roleId].totalWinCnt+=_.winCnt||0,R[_.roleId].totalLoseCnt+=_.loseCnt||0,R[_.roleId].totalResurrection+=Math.max((_.loseCnt||0)-6,0),R[_.roleId].dailyRecords[N.date]=_})}),D.totalMembers=Object.keys(R).length,Object.values(R).forEach(N=>{D.totalKills+=N.totalWinCnt,D.totalDeaths+=N.totalLoseCnt,D.totalResurrection+=N.totalResurrection}),D}),Q=(D,R,N)=>D.dailyRecords&&D.dailyRecords[R]&&D.dailyRecords[R][N]||0,H=I(()=>{const D={};return!c.value||Object.keys(c.value).length===0?[]:(Object.values(c.value).forEach(R=>{R&&R.roleDetailsList&&R.roleDetailsList.forEach(N=>{D[N.roleId]||(D[N.roleId]={roleId:N.roleId,name:N.name,headImg:N.headImg,totalWinCnt:0,totalLoseCnt:0,totalResurrection:0,dailyRecords:{}}),D[N.roleId].totalWinCnt+=N.winCnt||0,D[N.roleId].totalLoseCnt+=N.loseCnt||0,D[N.roleId].totalResurrection+=Math.max((N.loseCnt||0)-6,0),D[N.roleId].dailyRecords[R.date]=N})}),Object.values(D).sort((R,N)=>N.totalWinCnt-R.totalWinCnt))}),M=I(()=>{const D=new Date,R=D.getFullYear(),N=D.getMonth()+1;return`${R}年${N}月`}),F=D=>{D.target.style.display="none"},h=async D=>{if(!i.selectedToken)return r.warning("请先选择游戏角色"),null;const R=i.selectedToken.id;if(i.getWebSocketStatus(R)!=="connected")return r.error("WebSocket未连接，无法查询战绩"),null;try{const _=await i.sendMessageWithPromise(R,"legionwar_getdetails",{date:D},1e4);if(_&&_.roleDetailsList){const J=[..._.roleDetailsList].sort((z,L)=>(L.winCnt||0)-(z.winCnt||0));return{..._,roleDetailsList:J,date:D}}else return{roleDetailsList:[],date:D}}catch(_){return console.error(`查询${D}战绩失败:`,_),r.error(`查询${D}战绩失败: ${_.message}`),{roleDetailsList:[],date:D}}},V=async()=>{if(!i.selectedToken){r.warning("请先选择游戏角色");return}const D=i.selectedToken.id;if(i.getWebSocketStatus(D)!=="connected"){r.error("WebSocket未连接，无法查询战绩");return}l.value=!0;try{d.value=u();const N=d.value.map(z=>h(z)),_=await Promise.all(N),J={};_.forEach(z=>{z&&(J[z.date]=z)}),c.value=J,r.success("本月战绩加载成功")}catch(N){console.error("查询本月战绩失败:",N),r.error(`查询本月战绩失败: ${N.message}`),c.value={}}finally{l.value=!1}},P=()=>{V()},k=async()=>{if(!c.value||Object.keys(c.value).length===0){r.warning("没有可导出的数据");return}try{E(),r.success("导出成功")}catch(D){console.error("导出失败:",D),r.error("导出失败，请重试")}},E=async()=>{if(!a.value){alert("未找到要导出的DOM元素");return}try{const R=(await dt(a.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1})).toDataURL("image/png"),N=document.createElement("a");N.href=R;const _=M.value.replace("年","-").replace("月","");N.download=`${_}月盐场战绩总览.png`,document.body.appendChild(N),N.click(),document.body.removeChild(N)}catch(D){console.error("DOM转图片失败：",D),alert("导出图片失败，请重试")}};return e({fetchMonthlyBattleRecords:V}),ae(()=>{V()}),(D,R)=>{const N=Z("n-icon"),_=Z("n-button"),J=Z("n-spin"),z=Z("n-tag"),L=Z("n-empty");return v(),g("div",SU,[s("div",TU,[s("div",$U,[R[2]||(R[2]=s("div",{class:"header-left"},[s("img",{src:Bi,alt:"俱乐部图标",class:"header-icon"}),s("div",{class:"header-title"},[s("h2",null,"俱乐部盐场本月战绩"),s("p",null,"俱乐部盐场本月战斗记录详情")])],-1)),s("div",DU,[p(_,{size:"small",disabled:l.value,onClick:P},{icon:C(()=>[p(N,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[R[0]||(R[0]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(_,{type:"primary",size:"small",disabled:!c.value||l.value,onClick:k},{icon:C(()=>[p(N,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[R[1]||(R[1]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),s("div",LU,[l.value?(v(),g("div",MU,[p(J,{size:"large"},{description:C(()=>[...R[3]||(R[3]=[X("正在加载本月战绩数据...",-1)])]),_:1})])):c.value&&Object.keys(c.value).length>0?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",KU,[s("div",OU,[R[4]||(R[4]=s("h3",null,"本月统计概览",-1)),s("div",xU,[p(z,{type:"info"},{default:C(()=>[X("统计日期: "+f(M.value),1)]),_:1}),p(z,{type:"warning"},{default:C(()=>[X("总参战成员: "+f(w.value.totalMembers),1)]),_:1})])]),s("div",PU,[s("div",RU,[R[5]||(R[5]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",VU,f(w.value.totalKills),1)]),s("div",NU,[R[6]||(R[6]=s("div",{class:"stat-label"},"总死亡",-1)),s("div",GU,f(w.value.totalDeaths),1)]),s("div",WU,[R[7]||(R[7]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",YU,f(parseFloat(w.value.totalKills&&w.value.totalDeaths?w.value.totalKills/w.value.totalDeaths:0).toFixed(2)),1)]),s("div",zU,[R[8]||(R[8]=s("div",{class:"stat-label"},"总复活丹",-1)),s("div",XU,f(w.value.totalResurrection),1)])])]),s("div",JU,[R[12]||(R[12]=s("h3",null,"成员战绩详情",-1)),s("div",qU,[s("table",jU,[s("thead",null,[s("tr",null,[R[9]||(R[9]=s("th",{class:"rank-col"},"排名",-1)),R[10]||(R[10]=s("th",{class:"member-col"},"成员",-1)),(v(!0),g(vA,null,yA(d.value,$=>(v(),g("th",{key:$,class:"battle-date-col"},[s("div",ZU,f(b($)),1),s("div",A_,f($),1)]))),128)),R[11]||(R[11]=s("th",{class:"total-col"},"本月总计",-1))])]),s("tbody",null,[(v(!0),g(vA,null,yA(H.value,($,m)=>{var B;return v(),g("tr",{key:$.roleId,class:"member-row"},[s("td",e_,f(m+1),1),s("td",t_,[s("div",n_,[$.headImg?(v(),g("img",{key:0,src:$.headImg,alt:$.name,class:"member-avatar",onError:F},null,40,s_)):(v(),g("div",a_,f(((B=$.name)==null?void 0:B.charAt(0))||"?"),1)),s("span",r_,f($.name),1)])]),(v(!0),g(vA,null,yA(d.value,y=>(v(),g("td",{key:y,class:"battle-date-col"},[s("div",o_,[s("div",l_,"击杀: "+f(Q($,y,"winCnt")),1),s("div",i_,"死亡: "+f(Q($,y,"loseCnt")),1),s("div",u_,"KD: "+f(parseFloat(Q($,y,"winCnt")&&Q($,y,"loseCnt")?Q($,y,"winCnt")/Q($,y,"loseCnt"):0).toFixed(2)),1),s("div",c_,"复活丹: "+f(Math.max((Q($,y,"loseCnt")||0)-6,0)),1)])]))),128)),s("td",d_,[s("div",v_,[s("div",f_,"击杀: "+f($.totalWinCnt||0),1),s("div",g_,"死亡: "+f($.totalLoseCnt||0),1),s("div",B_,"KD: "+f(parseFloat($.totalWinCnt&&$.totalLoseCnt?$.totalWinCnt/$.totalLoseCnt:0).toFixed(2)),1),s("div",p_,"复活丹: "+f($.totalResurrection||0),1)])])])}),128))])])])])],512)):(v(),g("div",m_,[p(L,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(N,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])])])}}},w_=Ae(h_,[["__scopeId","data-v-bd9d5a36"]]),C_={class:"status-card club-warrank"},Q_={class:"inline-container"},y_={class:"battle-records-content"},b_={key:0,class:"loading-state"},F_={class:"records-info"},U_={class:"member-header"},__={class:"member-info"},k_={class:"stat-inline Sscore"},I_={class:"member-stats-inline"},H_={class:"stat-inline win"},E_={class:"stat-inline loss"},S_={class:"stat-inline siege"},T_={class:"stat-inline Resurrectio"},$_={class:"stat-inline Sscore"},D_={key:0,class:"pagination-container"},L_={__name:"TopRankListPageCard",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=t,o=ZA(),r=qA();I({get:()=>n.visible,set:k=>a("update:visible",k)});const i=W(!1),l=W(null);W(new Set),W("");const c=W(null),d=W(_t()),u=W(1),b=W(20),w=I(()=>l.value?Math.ceil(Object.keys(l.value).length/b.value):0),Q=I(()=>{if(!l.value)return{};const k=(u.value-1)*b.value,E=k+b.value,D=Object.entries(l.value);return Object.fromEntries(D.slice(k,E))}),H=k=>k?k>=1e8?(k/1e8).toFixed(2)+"亿":k>=1e4?(k/1e4).toFixed(2)+"万":k.toString():"0",M=k=>k.toFixed(0).toString(),F=async()=>{if(!r.selectedToken){o.warning("请先选择游戏角色");return}const k=r.selectedToken.id;if(r.getWebSocketStatus(k)!=="connected"){o.error("WebSocket未连接，无法查询战绩");return}i.value=!0,d.value=_t();try{const D=await r.sendMessageWithPromise(k,"arena_getarearank",{rankType:1},5e3);if(!D.list){l.value=null,o.warning("未查询到巅峰数据");return}const R={};for(const[N,_]of Object.entries(D.list))R[N]={serverId:(_==null?void 0:_.serverId)||0,roleId:(_==null?void 0:_.roleId)||0,name:(_==null?void 0:_.name)||"",power:H(_==null?void 0:_.power)||0,rank:(_==null?void 0:_.rank)||0,score:M(_==null?void 0:_.score)||0};return l.value=R,o.success("巅峰数据加载成功"),R}catch(D){console.error("查询失败:",D),o.error(`查询失败: ${D.message}`),l.value=null}finally{i.value=!1}},h=()=>{F()},V=async()=>{if(!c.value){alert("未找到要导出的DOM元素");return}try{const E=(await dt(c.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1})).toDataURL("image/png"),D=document.createElement("a");D.href=E,console.log(),D.download=d.value.replace("/","年").replace("/","月")+"日巅峰榜信息.png",document.body.appendChild(D),D.click(),document.body.removeChild(D)}catch{alert("导出图片失败，请重试")}},P=k=>{b.value=k,u.value=1};return e({fetchtopranklist:F}),ae(()=>{n.inline&&h()}),(k,E)=>{const D=Z("n-icon"),R=Z("n-button"),N=Z("n-spin"),_=Z("n-tag");return v(),g("div",null,[s("div",C_,[E[4]||(E[4]=s("div",{class:"card-header"},[s("img",{src:Kt,alt:"队伍图标",class:"status-icon"}),s("div",{class:"status-info"},[s("h3",null,"巅峰榜")])],-1)),s("div",Q_,[p(R,{size:"small",disabled:i.value,onClick:h},{icon:C(()=>[p(D,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[E[1]||(E[1]=X("查询",-1))]),_:1},8,["disabled"]),p(R,{type:"primary",size:"small",disabled:!l.value||i.value,onClick:V},{icon:C(()=>[p(D,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[E[2]||(E[2]=X("导出图片",-1))]),_:1},8,["disabled"])]),s("div",y_,[i.value?(v(),g("div",b_,[p(N,{size:"large"},{description:C(()=>[...E[3]||(E[3]=[X(" 正在加载巅峰数据... ",-1)])]),_:1})])):l.value?(v(),g("div",{key:1,ref_key:"exportDom",ref:c,class:"records-list"},[s("div",F_,[p(_,{type:"info"},{default:C(()=>[X("查询日期: "+f(d.value),1)]),_:1})]),(v(!0),g(vA,null,yA(Q.value,(J,z)=>(v(),g("div",{key:z,class:"member-card"},[s("div",U_,[s("div",__,[s("span",k_,"巅峰排名 "+f(J.rank),1)]),s("div",I_,[s("span",H_,"服务器ID "+f(J.serverId),1),s("span",E_,"玩家ID "+f(J.roleId),1),s("span",S_,"玩家名称 "+f(J.name),1),s("span",T_,"玩家战力 "+f(J.power),1),s("span",$_,"巅峰积分 "+f(J.score),1)])])]))),128)),w.value>1?(v(),g("div",D_,[p(_A(Za),{class:"pagination-item",page:u.value,"onUpdate:page":E[0]||(E[0]=J=>u.value=J),"page-count":w.value,"page-size":b.value,"show-quick-jumper":"","show-size-changer":"","page-sizes":[10,20,50,100],"onUpdate:pageSize":P},null,8,["page","page-count","page-size"])])):tA("",!0)],512)):tA("",!0)])])])}}},M_=Ae(L_,[["__scopeId","data-v-e33799b7"]]),K_={class:"status-card club-warrank"},O_={class:"inline-container"},x_={class:"battle-records-content"},P_={key:0,class:"loading-state"},R_={class:"records-info"},V_={class:"member-header"},N_={class:"member-info"},G_={class:"stat-inline Sscore"},W_={class:"member-stats-inline"},Y_={class:"stat-inline win"},z_={class:"stat-inline loss"},X_={class:"stat-inline rednumber"},J_={class:"stat-inline siege"},q_={class:"stat-inline tipsgg"},j_={class:"stat-inline Sscore"},Z_={class:"stat-inline tipsgg"},A2={class:"stat-inline Sscore"},e2={class:"stat-inline tipsgg"},t2={class:"stat-inline Sscore"},n2={key:0,class:"pagination-container"},s2={__name:"TopClubListPageCard",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=t,o=ZA(),r=qA();I({get:()=>n.visible,set:P=>a("update:visible",P)});const i=W(!1),l=W(null);W(new Set),W("");const c=W(null),d=W(_t()),u=W(1),b=W(20),w=I(()=>l.value?Math.ceil(Object.keys(l.value).length/b.value):0),Q=I(()=>{if(!l.value)return{};const P=(u.value-1)*b.value,k=P+b.value,E=Object.entries(l.value);return Object.fromEntries(E.slice(P,k))}),H=P=>P?P>=1e8?(P/1e8).toFixed(2)+"亿":P>=1e4?(P/1e4).toFixed(2)+"万":P.toString():"0",M=async()=>{var E;if(!r.selectedToken){o.warning("请先选择游戏角色");return}const P=r.selectedToken.id;if(r.getWebSocketStatus(P)!=="connected"){o.error("WebSocket未连接，无法查询战绩");return}i.value=!0,d.value=_t();try{const D=await r.sendMessageWithPromise(P,"legion_getarearank",{},5e3);if(!D.list){l.value=null,o.warning("未查询到俱乐部数据");return}const R={};for(const[N,_]of Object.entries(D.list)){const J=await r.sendMessageWithPromise(P,"legion_getinfobyid",{legionId:_==null?void 0:_.id},5e3),z=[],L=[];for(const[$,m]of Object.entries((E=J==null?void 0:J.legionData)==null?void 0:E.members))m.roleId!==void 0&&(z.push(m.roleId),L.push(m.name));R[N]={rank:_.rank||0,ServerId:_.serverId||0,Clubname:_.name||"",redQuench:J.legionData.quenchNum||0,power:H(_.power)||0,roleID1:z[0]||0,roleID2:z[1]||0,roleID3:z[2]||0,name1:L[0]||"",name2:L[1]||"",name3:L[2]||""}}return l.value=R,o.success("俱乐部数据加载成功"),R}catch(D){console.error("查询失败:",D),o.error(`查询失败: ${D.message}`),l.value=null}finally{i.value=!1}},F=()=>{M()},h=async()=>{if(!c.value){alert("未找到要导出的DOM元素");return}try{const k=(await dt(c.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1})).toDataURL("image/png"),E=document.createElement("a");E.href=k,console.log(),E.download=d.value.replace("/","年").replace("/","月")+"日TOP俱乐部信息.png",document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch(P){console.error("DOM转图片失败：",P),alert("导出图片失败，请重试")}},V=P=>{b.value=P,u.value=1};return e({fetchtopranklist:M}),ae(()=>{n.inline&&F()}),(P,k)=>{const E=Z("n-icon"),D=Z("n-button"),R=Z("n-spin"),N=Z("n-tag");return v(),g("div",null,[s("div",K_,[k[4]||(k[4]=s("div",{class:"card-header"},[s("img",{src:Kt,alt:"队伍图标",class:"status-icon"}),s("div",{class:"status-info"},[s("h3",null,"五百服Top俱乐部")])],-1)),s("div",O_,[p(D,{size:"small",disabled:i.value,onClick:F},{icon:C(()=>[p(E,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[k[1]||(k[1]=X("查询 ",-1))]),_:1},8,["disabled"]),p(D,{type:"primary",size:"small",disabled:!l.value||i.value,onClick:h},{icon:C(()=>[p(E,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[k[2]||(k[2]=X("导出图片",-1))]),_:1},8,["disabled"])]),s("div",x_,[i.value?(v(),g("div",P_,[p(R,{size:"large"},{description:C(()=>[...k[3]||(k[3]=[X(" 正在加载俱乐部数据... ",-1)])]),_:1})])):l.value?(v(),g("div",{key:1,ref_key:"exportDom",ref:c,class:"records-list"},[s("div",R_,[p(N,{type:"info"},{default:C(()=>[X("查询日期: "+f(d.value),1)]),_:1})]),(v(!0),g(vA,null,yA(Q.value,(_,J)=>(v(),g("div",{key:J,class:"member-card"},[s("div",V_,[s("div",N_,[s("span",G_,"排名 "+f(_.rank),1)]),s("div",W_,[s("span",Y_,"区服 "+f(_.ServerId),1),s("span",z_,"俱乐部名 "+f(_.Clubname),1),s("span",X_,"总红淬 "+f(_.redQuench)+"红",1),s("span",J_,"战力 "+f(_.power),1),s("span",q_,"玩家名称 "+f(_.name1),1),s("span",j_,"玩家ID "+f(_.roleID1),1),s("span",Z_,"玩家名称 "+f(_.name2),1),s("span",A2,"玩家ID "+f(_.roleID2),1),s("span",e2,"玩家名称 "+f(_.name3),1),s("span",t2,"玩家ID "+f(_.roleID3),1)])])]))),128)),w.value>1?(v(),g("div",n2,[p(_A(Za),{class:"pagination-item",page:u.value,"onUpdate:page":k[0]||(k[0]=_=>u.value=_),"page-count":w.value,"page-size":b.value,"show-quick-jumper":"","show-size-changer":"","page-sizes":[10,20,50,100],"onUpdate:pageSize":V},null,8,["page","page-count","page-size"])])):tA("",!0)],512)):tA("",!0)])])])}}},a2=Ae(s2,[["__scopeId","data-v-21b7076f"]]),mi="/icons/legionCup.png";function ja(){const A=new Date,e=A.getFullYear(),t=String(A.getMonth()+1).padStart(2,"0"),n=String(A.getDate()).padStart(2,"0");return`${e}/${t}/${n}`}function r2(A,e){if(!A||A.length===0)return"暂无战绩数据";const t=[["排名","ID","区服","俱乐部名","战力","红淬","前三红淬","黄金积分","联盟","公告"],...A.sort((w,Q)=>(w.rank||0)-(Q.rank||0)).map((w,Q)=>[w.rank,w.id,w.ServerId,w.Clubname,o2(w.power),w.redQuench,i2(w.redno1,w.redno2,w.redno3),l2(w.score),bo(w.announcement),w.announcement])];let n=0,a=0,o=0,r=0,i=0;A.forEach(w=>{switch(bo(w.announcement)){case"梦盟":n++;break;case"大联盟":a++;break;case"正义联盟":o++;break;case"龙盟":r++;break;default:i++}});const l={梦盟:n,大联盟:a,正义联盟:o,龙盟:r,未知:i},c=qe.book_new(),d=qe.aoa_to_sheet(t);qe.sheet_add_aoa(d,[[]],{origin:-1}),qe.sheet_add_aoa(d,[["联盟名称","俱乐部数量","占比"]],{origin:-1});const u=A.length;for(const[w,Q]of Object.entries(l)){const H=u>0?(Q/u*100).toFixed(1)+"%":"0%";qe.sheet_add_aoa(d,[[w,Q,H]],{origin:-1})}qe.sheet_add_aoa(d,[["总计",u,"100.0%"]],{origin:-1}),d["!cols"]=[{wch:8},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:80}],qe.book_append_sheet(c,d,"黄金积分详情");const b=`黄金积分详情_${e.replace(/\//g,"-")}.xlsx`;return ko(c,b),""}const o2=A=>A?A>=1e8?(A/1e8).toFixed(2)+"亿":A>=1e4?(A/1e4).toFixed(2)+"万":A.toString():"0",l2=A=>A.toFixed(0).toString(),i2=(A,e,t)=>A+","+e+","+t,u2=[{keywords:["大联盟"],value:"大联盟"},{keywords:["正义"],value:"正义联盟"},{keywords:["龙盟","龍盟"],value:"龙盟"},{keywords:["梦","梦盟","梦想之盟"],value:"梦盟"}],bo=A=>{const e=u2.find(t=>t.keywords.some(n=>A.includes(n)));return e?e.value:"未知联盟"},c2={class:"status-card club-warrank"},d2={class:"inline-container"},v2={class:"battle-records-content"},f2={key:0,class:"loading-state"},g2={key:1,class:"records-list"},B2={class:"member-header"},p2={class:"member-info"},m2={class:"stat-inline Sscore"},h2={class:"member-stats-inline"},w2={class:"stat-inline win"},C2={class:"stat-inline loss"},Q2={class:"stat-inline Resurrectio"},y2={class:"stat-inline rednumber"},b2={class:"stat-inline siege"},F2={class:"stat-inline tipsgg"},U2={class:"stat-inline Sscore"},_2={class:"stat-inline tipsgg"},k2={class:"stat-inline Sscore"},I2={class:"stat-inline tipsgg"},H2={class:"stat-inline Sscore"},E2={key:0,class:"pagination-container"},S2={__name:"GoldRankListPageCard",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=t,o=ZA(),r=qA();I({get:()=>n.visible,set:D=>a("update:visible",D)});const i=W(!1),l=W(null);W(new Set),W("");const c=W(""),d=W(""),u=W(null),b=W(1),w=W(20),Q=I(()=>l.value?Math.ceil(Object.keys(l.value).length/w.value):0),H=I(()=>{if(!l.value)return{};const D=(b.value-1)*w.value,R=D+w.value,N=Object.entries(l.value);return Object.fromEntries(N.slice(D,R))}),M=D=>D?D>=1e8?(D/1e8).toFixed(2)+"亿":D>=1e4?(D/1e4).toFixed(2)+"万":D.toString():"0",F=D=>{switch(D){case"gold1":return 1;case"gold2":return 101;case"gold3":return 201;case"gold4":return 301;case"gold5":return 401;default:return 1}},h=D=>{switch(D){case"gold1":return 100;case"gold2":return 200;case"gold3":return 300;case"gold4":return 400;case"gold5":return 500;default:return 100}},V=async()=>{var N,_;if(!r.selectedToken){o.warning("请先选择游戏角色");return}const D=r.selectedToken.id;if(r.getWebSocketStatus(D)!=="connected"){o.error("WebSocket未连接，无法查询战绩");return}i.value=!0,c.value=ja();try{const J=await r.sendMessageWithPromise(D,"legionwar_getgoldmonthwarrank",{startRank:F(d.value),endRank:h(d.value)},5e3);if(!J.legionList){l.value=null,o.warning("未查询到俱乐部数据");return}const z={};for(const[L,$]of Object.entries(J.legionList)){const m=await r.sendMessageWithPromise(D,"legion_getinfobyid",{legionId:$==null?void 0:$.id},5e3),B=[],y=[],T=[];for(const[G,S]of Object.entries((N=m==null?void 0:m.legionData)==null?void 0:N.members))S.roleId!==void 0&&(B.push(S.roleId),y.push(S.name),((_=S.custom)==null?void 0:_.red_quench_cnt)!==void 0&&T.push(S.custom.red_quench_cnt+"红"));z[L]={rank:$.rank||0,id:$.id||0,ServerId:$.serverId||0,redQuench:m.legionData.quenchNum||0,Clubname:$.name||"",power:M($.power)||0,score:$.score||0,roleID1:B[0]||0,roleID2:B[1]||0,roleID3:B[2]||0,name1:y[0]||"",name2:y[1]||"",name3:y[2]||"",announcement:m.legionData.announcement||"",redno:T||0,redno1:T[0]||"0红",redno2:T[1]||"0红",redno3:T[2]||"0红"}}return l.value=z,u.value=Object.values(z),o.success("俱乐部数据加载成功"),z}catch(J){console.error("查询失败:",J),o.error(`查询失败: ${J.message}`),l.value=null}finally{i.value=!1}},P=D=>{w.value=D,b.value=1},k=()=>{V()},E=async()=>{if(!l.value){o.warning("没有可导出的数据");return}try{const D=r2(u.value,c.value);o.success("导出成功")}catch(D){console.error("导出失败:",D),o.error("导出失败，请重试")}};return e({fetchtopranklist:V}),ae(()=>{n.inline&&k()}),(D,R)=>{const N=Z("n-radio-button"),_=Z("n-radio-group"),J=Z("n-icon"),z=Z("n-button"),L=Z("n-spin");return v(),g("div",null,[s("div",c2,[R[10]||(R[10]=s("div",{class:"card-header"},[s("img",{src:mi,alt:"队伍图标",class:"status-icon"}),s("div",{class:"status-info"},[s("h3",null,"黄金积分俱乐部总览")])],-1)),s("div",d2,[p(_,{value:d.value,"onUpdate:value":R[0]||(R[0]=$=>d.value=$),name:"group-radiogroup",size:"small",class:"radio-group"},{default:C(()=>[p(N,{value:"gold1"},{default:C(()=>[...R[2]||(R[2]=[X("1-100",-1)])]),_:1}),p(N,{value:"gold2"},{default:C(()=>[...R[3]||(R[3]=[X("101-200",-1)])]),_:1}),p(N,{value:"gold3"},{default:C(()=>[...R[4]||(R[4]=[X("201-300",-1)])]),_:1}),p(N,{value:"gold4"},{default:C(()=>[...R[5]||(R[5]=[X("301-400",-1)])]),_:1}),p(N,{value:"gold5"},{default:C(()=>[...R[6]||(R[6]=[X("401-500",-1)])]),_:1})]),_:1},8,["value"]),p(z,{size:"small",disabled:i.value,onClick:k},{icon:C(()=>[p(J,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[R[7]||(R[7]=X("查询",-1))]),_:1},8,["disabled"]),p(z,{type:"primary",size:"small",disabled:!l.value||i.value,onClick:E},{icon:C(()=>[p(J,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[R[8]||(R[8]=X("导出",-1))]),_:1},8,["disabled"])]),s("div",v2,[i.value?(v(),g("div",f2,[p(L,{size:"large"},{description:C(()=>[...R[9]||(R[9]=[X(" 正在加载俱乐部数据... ",-1)])]),_:1})])):l.value?(v(),g("div",g2,[(v(!0),g(vA,null,yA(H.value,($,m)=>(v(),g("div",{key:m,class:"member-card"},[s("div",B2,[s("div",p2,[s("span",m2,"排名 "+f($.rank),1)]),s("div",h2,[s("span",w2,"区服 "+f($.ServerId),1),s("span",C2,"俱乐部名 "+f($.Clubname),1),s("span",Q2,"黄金积分 "+f($.score),1),s("span",y2,"总红淬 "+f($.redQuench)+"红",1),s("span",b2,"战力 "+f($.power),1),s("span",F2,"玩家名称 "+f($.name1),1),s("span",U2,"玩家ID "+f($.roleID1),1),s("span",_2,"玩家名称 "+f($.name2),1),s("span",k2,"玩家ID "+f($.roleID2),1),s("span",I2,"玩家名称 "+f($.name3),1),s("span",H2,"玩家ID "+f($.roleID3),1)])])]))),128)),Q.value>1?(v(),g("div",E2,[p(_A(Za),{class:"pagination-item",page:b.value,"onUpdate:page":R[1]||(R[1]=$=>b.value=$),"page-count":Q.value,"page-size":w.value,"show-quick-jumper":"","show-size-changer":"","page-sizes":[10,20,50,100],"onUpdate:pageSize":P},null,8,["page","page-count","page-size"])])):tA("",!0)])):tA("",!0)])])])}}},T2=Ae(S2,[["__scopeId","data-v-37295c4a"]]),$2={class:"fight-pvp-container"},D2={class:"status-card main-card"},L2={class:"action-section"},M2={class:"input-group"},K2={class:"fight-options"},O2={class:"option-item"},x2={class:"option-actions"},P2={key:0,class:"loading-section"},R2={class:"opponent-main-layout"},V2={class:"info-card opponent-card left-card"},N2={class:"opponent-info-table"},G2={class:"info-table"},W2={class:"avatar-cell",rowspan:"8"},Y2={class:"value-cell"},z2={class:"value-cell"},X2={class:"highlight-row"},J2={class:"value-cell power-value"},q2={class:"value-cell"},j2={class:"highlight-row"},Z2={class:"value-cell lineup"},Ak={class:"red-count"},ek={class:"hole-count"},tk={class:"value-cell"},nk={class:"value-cell"},sk={class:"value-cell"},ak={class:"info-card heroes-card right-card"},rk={class:"card-title"},ok={class:"card-title-right"},lk={class:"hero-count"},ik={class:"heroes-grid compact"},uk=["onClick"],ck={class:"hero-avatar-container"},dk={class:"hero-circle"},vk=["src","alt"],fk={key:1,class:"hero-placeholder"},gk={class:"hero-info compact"},Bk={class:"hero-name-row"},pk={class:"hero-name"},mk={class:"hero-stats"},hk={class:"stat-item"},wk={class:"stat-item"},Ck={class:"stat-item"},Qk={key:0,class:"info-card result-card"},yk={class:"card-title"},bk={class:"result-summary"},Fk={class:"summary-item match-count"},Uk={class:"summary-value"},_k={class:"summary-item win-count"},kk={class:"summary-value"},Ik={class:"summary-item loss-count"},Hk={class:"summary-value"},Ek={class:"summary-item win-rate"},Sk={class:"summary-value"},Tk={class:"summary-item die-rate"},$k={class:"summary-value"},Dk={class:"summary-item die-rate"},Lk={class:"summary-value"},Mk={class:"result-list"},Kk={class:"battle-header"},Ok={class:"battle-index"},xk={class:"battle-details"},Pk={class:"battle-side left-side"},Rk={class:"side-info"},Vk={class:"side-name"},Nk={class:"side-power"},Gk={class:"side-die"},Wk={class:"battle-side right-side"},Yk={class:"side-info"},zk={class:"side-name"},Xk={class:"side-power"},Jk={class:"side-die"},qk={key:2,class:"empty-state"},jk={class:"hero-id"},Zk={key:0,class:"hero-modal-content"},AI={class:"hero-modal-header"},eI={class:"hero-modal-avatar"},tI=["src","alt"],nI={class:"hero-modal-basic"},sI={class:"hero-modal-name"},aI={class:"hero-modal-stats"},rI={class:"stat-item"},oI={class:"stat-item"},lI={class:"stat-item"},iI={class:"hero-modal-details"},uI={key:0},cI={key:1},dI={class:"hero-modal-equipment"},vI={class:"equipment-grid"},fI={class:"equipment-item"},gI={class:"equipment-slots"},BI={class:"equipment-item"},pI={class:"equipment-slots"},mI={class:"equipment-item"},hI={class:"equipment-slots"},wI={class:"equipment-item"},CI={class:"equipment-slots"},QI={class:"modal-footer"},yI={__name:"FightPvp",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A,a=t,o=ZA(),r=qA();I({get:()=>n.visible,set:m=>a("update:visible",m)});const i=W(null),l=W(!1),c=W("正在查询对手信息..."),d=W(null);W(new Set),W("");const u=W(""),b=W("");W(null);const w=W(null),Q=W(1),H=W(null);jA(b,(m,B)=>{m!==B&&(H.value=null)});const M=W(!1),F=W(null),h=[{label:"1",value:1},{label:"10",value:10},{label:"25",value:25},{label:"50",value:50}],V=W(1),P=W(20);I(()=>d.value?Math.ceil(Object.keys(d.value).length/P.value):0);const k=m=>{M.value=!0,F.value=m};I(()=>{if(!d.value)return{};const m=(V.value-1)*P.value,B=m+P.value,y=Object.entries(d.value);return Object.fromEntries(y.slice(m,B))});const E=m=>m?m>=1e8?(m/1e8).toFixed(2)+"亿":m>=1e4?(m/1e4).toFixed(2)+"万":m.toString():"0",D=async()=>{if(!r.selectedToken){o.warning("请先选择游戏角色");return}const m=r.selectedToken.id;if(r.getWebSocketStatus(m)!=="connected"){o.error("WebSocket未连接，无法查询战绩");return}l.value=!0,c.value="正在进行切磋，请稍候...",u.value=ja();try{let T=0,G=0,S=0,O=[];for(var y=0;y<Q.value;y++){const Y=await r.sendMessageWithPromise(m,"fight_startpvp",{targetId:b.value},5e3);if(!Y.battleData){H.value=null,o.warning("切磋错误");return}let q=0;Y.battleData.result.sponsor.teamInfo.forEach(wA=>{wA.hp==0&&q++}),G+=q;let j=0;Y.battleData.result.accept.teamInfo.forEach(wA=>{wA.hp==0&&j++}),S+=j;let sA={leftName:Y.battleData.leftTeam.name,leftheadImg:Y.battleData.leftTeam.headImg,leftpower:E(Y.battleData.leftTeam.power),rightName:Y.battleData.rightTeam.name,rightheadImg:Y.battleData.rightTeam.headImg,rightpower:E(Y.battleData.rightTeam.power),leftDieHero:q,rightDieHero:j,isWin:!!Y.battleData.result.isWin};Y.battleData.result.isWin&&T++,O.push(sA)}const K={winCount:T,ourTotalDieHeroCount:G,enemyTotalDieHeroCount:S,resultCount:O};return H.value=K,o.success("切磋完成"),K}catch(T){o.error(`查询失败: ${T.message}`),d.value=null}finally{l.value=!1,c.value="正在查询对手信息..."}},R=async()=>{var y,T,G,S;if(!r.selectedToken){o.warning("请先选择游戏角色");return}const m=r.selectedToken.id;if(r.getWebSocketStatus(m)!=="connected"){o.error("WebSocket未连接，无法查询战绩");return}H.value=null,l.value=!0,c.value="正在查询对手信息...",u.value=ja();try{const O=await r.sendMessageWithPromise(m,"rank_getroleinfo",{bottleType:0,includeBottleTeam:!1,isSearch:!1,roleId:b.value},5e3);if(!O.roleInfo&&!O.legionInfo){w.value=null,o.warning("未查询到对手信息");return}const K={},Y=N(O.roleInfo.heroes),q=pi(O.roleInfo);return Y.heroList.forEach(j=>{j.PearlInfo=q[j.artifactId]||{}}),K.legionName=((y=O.legionInfo)==null?void 0:y.name)||"无俱乐部",K.legionRed=((T=O.legionInfo)==null?void 0:T.statistics["battle:red:quench"])||"无",K.legionMaxRed=((G=O.legionInfo)==null?void 0:G.statistics["red:quench"])||"无",K.MaxPower=E(((S=O.legionInfo)==null?void 0:S.statistics["max:power"])||"0"),K.heroList=Y.heroList,K.headImg=O.roleInfo.headImg,K.lordWeaponId=ub(O.roleInfo.lordWeaponId),K.name=O.roleInfo.name,K.power=E(O.roleInfo.power),K.serverName=O.roleInfo.serverName,K.hole=Y.holeCount,K.red=Y.redCount,w.value=K,o.success("对手信息加载成功"),K}catch(O){o.error(`查询失败: ${O.message}`),d.value=null}finally{l.value=!1,c.value="正在查询对手信息..."}},N=m=>{let B=0,y=0,T=[];return Object.values(m).forEach(G=>{var Y;let S=Cn[G.heroId],O=_(G.equipment),K={heroId:G.heroId,heroSort:G.battleTeamSlot,artifactId:G.artifactId,power:E(G.power),star:G.star,equipment:G.equipment,heroName:S.name,heroAvate:S.avatar,level:G.level,hole:O.holeCount,red:O.redCount,HolyBeast:(Y=G.hB)==null?void 0:Y.active};B+=K.red,y+=K.hole,T.push(K)}),{redCount:B,holeCount:y,heroList:T.sort((G,S)=>G.heroSort-S.heroSort)}},_=m=>{let B=0,y=0;return Object.values(m).forEach(T=>{Object.values(T.quenches).forEach(G=>{y++,G.colorId==6&&B++})}),{redCount:B,holeCount:y}},J=()=>{D()},z=m=>{if(typeof m=="string"){const B=parseInt(m,10);!isNaN(B)&&B>0&&B<=50?Q.value=B:Q.value=1}else m>0&&m<50?Q.value=m:Q.value=1},L=()=>{R()},$=async()=>{if(!i.value){alert("未找到要导出的DOM元素");return}try{const m=i.value.querySelector(".result-list");let B="",y="",T="";m&&(B=m.style.maxHeight,y=m.style.overflowY,T=m.style.paddingRight,m.style.maxHeight="none",m.style.overflowY="visible",m.style.paddingRight="0"),await new Promise(K=>setTimeout(K,100));const G=await dt(i.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1,allowTaint:!0,taintTest:!1});m&&(m.style.maxHeight=B,m.style.overflowY=y,m.style.paddingRight=T);const S=G.toDataURL("image/png"),O=document.createElement("a");O.href=S,O.download="切磋结果.png",document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(m){console.error("导出图片失败:",m),alert("导出图片失败，请重试")}};return e({fetchfightPVP:D}),ae(()=>{}),(m,B)=>{const y=Z("n-input"),T=Z("n-icon"),G=Z("n-button"),S=Z("n-select"),O=Z("n-spin"),K=Z("n-avatar"),Y=Z("n-tag"),q=Z("n-empty"),j=Z("n-descriptions-item"),sA=Z("n-descriptions"),wA=Z("n-modal");return v(),g("div",$2,[s("div",D2,[B[28]||(B[28]=s("div",{class:"card-header"},[s("img",{src:Kt,alt:"切磋图标",class:"status-icon"}),s("div",{class:"status-info"},[s("h3",null,"切磋系统"),s("p",null,"查询对手信息并进行切磋")])],-1)),s("div",L2,[s("div",M2,[p(y,{value:b.value,"onUpdate:value":B[0]||(B[0]=fA=>b.value=fA),type:"text",placeholder:"请输入对手ID",class:"target-input",size:"medium"},null,8,["value"]),p(G,{type:"primary",disabled:l.value||!b.value,onClick:L,size:"medium"},{icon:C(()=>[p(T,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[B[4]||(B[4]=X(" 查询对手 ",-1))]),_:1},8,["disabled"])]),s("div",K2,[s("div",O2,[B[5]||(B[5]=s("span",{class:"option-label"},"切磋次数：",-1)),p(S,{value:Q.value,"onUpdate:value":[B[1]||(B[1]=fA=>Q.value=fA),z],options:h,size:"medium",class:"fight-count-select",filterable:"",tag:"","allow-create":"",placeholder:"请选择或输入切磋次数"},null,8,["value"])]),s("div",x2,[p(G,{type:"success",disabled:l.value||!b.value||!w.value,onClick:J,size:"medium"},{icon:C(()=>[p(T,null,{default:C(()=>[p(_A(gu))]),_:1})]),default:C(()=>[B[6]||(B[6]=X(" 开始切磋 ",-1))]),_:1},8,["disabled"]),p(G,{type:"default",disabled:l.value||!w.value,onClick:$,size:"medium"},{icon:C(()=>[p(T,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[B[7]||(B[7]=X(" 导出数据 ",-1))]),_:1},8,["disabled"])])])]),l.value?(v(),g("div",P2,[p(O,{size:"large"},{description:C(()=>[X(f(c.value),1)]),_:1})])):w.value?(v(),g("div",{key:1,ref_key:"exportDom",ref:i,class:"content-section"},[s("div",R2,[s("div",V2,[B[17]||(B[17]=s("div",{class:"card-title"},[s("h4",null,"对手信息")],-1)),s("div",N2,[s("table",G2,[s("tbody",null,[s("tr",null,[s("td",W2,[p(K,{round:"",size:60,src:w.value.headImg,class:"opponent-avatar"},null,8,["src"])]),B[8]||(B[8]=s("td",{class:"label-cell"},"游戏名：",-1)),s("td",Y2,f(w.value.name),1)]),s("tr",null,[B[9]||(B[9]=s("td",{class:"label-cell"},"区服：",-1)),s("td",z2,f(w.value.serverName),1)]),s("tr",X2,[B[10]||(B[10]=s("td",{class:"label-cell"},"战力：",-1)),s("td",J2,f(w.value.power),1)]),s("tr",null,[B[11]||(B[11]=s("td",{class:"label-cell"},"玩具：",-1)),s("td",q2,f(w.value.lordWeaponId),1)]),s("tr",j2,[B[13]||(B[13]=s("td",{class:"label-cell"},"阵容：",-1)),s("td",Z2,[s("span",Ak,"红数: "+f(w.value.red),1),B[12]||(B[12]=s("span",{class:"separator"},"/",-1)),s("span",ek,"孔数: "+f(w.value.hole),1)])]),s("tr",null,[B[14]||(B[14]=s("td",{class:"label-cell"},"俱乐部：",-1)),s("td",tk,f(w.value.legionName),1)]),s("tr",null,[B[15]||(B[15]=s("td",{class:"label-cell"},"俱乐部战力：",-1)),s("td",nk,f(w.value.MaxPower),1)]),s("tr",null,[B[16]||(B[16]=s("td",{class:"label-cell"},"当前红数：",-1)),s("td",sk,f(w.value.legionRed),1)])])])])]),s("div",ak,[s("div",rk,[B[19]||(B[19]=s("h4",null,"对手阵容",-1)),s("div",ok,[s("span",lk,f(w.value.heroList.length)+" 名武将",1),B[18]||(B[18]=s("span",{class:"click-hint"},"（点击头像图片可看详情）",-1))])]),s("div",ik,[(v(!0),g(vA,null,yA(w.value.heroList,fA=>{var FA;return v(),g("div",{key:fA.heroId||fA.heroName,class:"hero-card compact",onClick:UA=>k(fA)},[s("div",ck,[s("div",dk,[fA.heroAvate?(v(),g("img",{key:0,src:fA.heroAvate,alt:fA.heroName,class:"hero-avatar-img"},null,8,vk)):(v(),g("div",fk,f(((FA=fA.heroName)==null?void 0:FA.substring(0,2))||"?"),1))])]),s("div",gk,[s("div",Bk,[s("h5",pk,f(fA.heroName||"未知武将"),1),p(Y,{type:fA.HolyBeast?"success":"warning",size:"small",class:"holy-beast-tag"},{default:C(()=>[X(f(fA.HolyBeast?"已开四圣":"未开四圣"),1)]),_:2},1032,["type"])]),s("div",mk,[s("span",hk,"战力: "+f(fA.power||"0"),1),s("span",wk,"星级: "+f(fA.star||"0"),1),s("span",Ck,"红数: "+f(fA.red||"0"),1)])])],8,uk)}),128))])])]),H.value?(v(),g("div",Qk,[s("div",yk,[B[26]||(B[26]=s("h4",null,"切磋结果",-1)),s("div",bk,[s("div",Fk,[B[20]||(B[20]=s("span",{class:"summary-label"},"总次数：",-1)),s("span",Uk,f(Q.value),1)]),s("div",_k,[B[21]||(B[21]=s("span",{class:"summary-label"},"胜：",-1)),s("span",kk,f(H.value.winCount),1)]),s("div",Ik,[B[22]||(B[22]=s("span",{class:"summary-label"},"负：",-1)),s("span",Hk,f(Q.value-H.value.winCount),1)]),s("div",Ek,[B[23]||(B[23]=s("span",{class:"summary-label"},"胜率：",-1)),s("span",Sk,f((H.value.winCount/Q.value*100).toFixed(2))+"%",1)]),s("div",Tk,[B[24]||(B[24]=s("span",{class:"summary-label"},"我方掉将率：",-1)),s("span",$k,f((H.value.ourTotalDieHeroCount/(Q.value*5)*100).toFixed(2))+"%",1)]),s("div",Dk,[B[25]||(B[25]=s("span",{class:"summary-label"},"敌方掉将率：",-1)),s("span",Lk,f((H.value.enemyTotalDieHeroCount/(Q.value*5)*100).toFixed(2))+"%",1)])])]),s("div",Mk,[(v(!0),g(vA,null,yA(H.value.resultCount,(fA,FA)=>(v(),g("div",{key:FA,class:iA(["battle-result-item",fA.isWin?"win":"loss"])},[s("div",Kk,[s("span",Ok,"第 "+f(FA+1)+" 场",1),p(Y,{type:fA.isWin?"success":"error",size:"small"},{default:C(()=>[X(f(fA.isWin?"胜利":"失败"),1)]),_:2},1032,["type"])]),s("div",xk,[s("div",Pk,[p(K,{round:"",size:32,src:fA.leftheadImg,class:"side-avatar"},null,8,["src"]),s("div",Rk,[s("span",Vk,f(fA.leftName||"未知"),1),s("span",Nk,"战力: "+f(fA.leftpower),1),s("span",Gk,"掉将: "+f(fA.leftDieHero)+" 个",1)])]),B[27]||(B[27]=s("div",{class:"battle-vs"},"VS",-1)),s("div",Wk,[p(K,{round:"",size:32,src:fA.rightheadImg,class:"side-avatar"},null,8,["src"]),s("div",Yk,[s("span",zk,f(fA.rightName||"未知"),1),s("span",Xk,"战力: "+f(fA.rightpower),1),s("span",Jk,"掉将: "+f(fA.rightDieHero)+" 个",1)])])])],2))),128))])])):tA("",!0)],512)):(v(),g("div",qk,[p(q,{description:"请输入对手ID并点击查询按钮获取对手信息"})]))]),p(wA,{show:M.value,"onUpdate:show":B[3]||(B[3]=fA=>M.value=fA),class:"hero-detail-modal",preset:"card",title:"武将信息",size:"large",bordered:!1,segmented:{content:"soft",footer:"soft"},style:{width:"600px"}},{"header-extra":C(()=>{var fA;return[s("span",jk,"武将ID: "+f((fA=F.value)==null?void 0:fA.heroId),1)]}),footer:C(()=>[s("div",QI,[p(G,{type:"default",onClick:B[2]||(B[2]=fA=>M.value=!1)},{default:C(()=>[...B[34]||(B[34]=[X("关闭",-1)])]),_:1})])]),default:C(()=>{var fA,FA,UA,RA;return[F.value?(v(),g("div",Zk,[s("div",AI,[s("div",eI,[F.value.heroAvate?(v(),g("img",{key:0,src:F.value.heroAvate,alt:F.value.heroName},null,8,tI)):tA("",!0)]),s("div",nI,[s("h3",sI,f(F.value.heroName),1),s("div",aI,[s("span",rI,f(F.value.power),1),s("span",oI,"等级: "+f(F.value.level),1),s("span",lI,"星级: "+f(F.value.star),1),p(Y,{type:F.value.HolyBeast?"success":"warning"},{default:C(()=>[X(f(F.value.HolyBeast?"已激活":"未激活"),1)]),_:1},8,["type"])])])]),s("div",iI,[p(sA,{"label-placement":"left",column:"3",bordered:""},{default:C(()=>[p(j,{label:"战力"},{default:C(()=>[X(f(F.value.power),1)]),_:1}),p(j,{label:"等级"},{default:C(()=>[X(f(F.value.level),1)]),_:1}),p(j,{label:"星级"},{default:C(()=>[X(f(F.value.star),1)]),_:1}),p(j,{label:"开孔数"},{default:C(()=>[X(f(F.value.hole),1)]),_:1}),p(j,{label:"红孔数"},{default:C(()=>[X(f(F.value.red),1)]),_:1}),p(j,{label:"四圣状态"},{default:C(()=>[X(f(F.value.HolyBeast?"已激活":"未激活"),1)]),_:1}),p(j,{label:"鱼灵"},{default:C(()=>{var SA,OA,WA,YA,xA;return[X(f(((WA=(OA=(SA=F.value)==null?void 0:SA.PearlInfo)==null?void 0:OA.FishInfo)==null?void 0:WA.name)!=null?(xA=(YA=F.value.PearlInfo)==null?void 0:YA.FishInfo)==null?void 0:xA.name:"无"),1)]}),_:1}),p(j,{label:"鱼灵洗练"},{default:C(()=>{var SA,OA,WA;return[((WA=(OA=(SA=F.value)==null?void 0:SA.PearlInfo)==null?void 0:OA.slotMap)==null?void 0:WA.length)>0?(v(),g("div",uI,[(v(!0),g(vA,null,yA(F.value.PearlInfo.slotMap,YA=>(v(),g("div",{key:YA.id,class:"ModalEquipment",style:lt("background-color:"+YA.value)},null,4))),128))])):(v(),g("div",cI,"无"))]}),_:1}),p(j,{label:"鱼珠技能"},{default:C(()=>{var SA,OA,WA,YA,xA;return[X(f(((WA=(OA=(SA=F.value)==null?void 0:SA.PearlInfo)==null?void 0:OA.PearlSkill)==null?void 0:WA.name)!=null?(xA=(YA=F.value.PearlInfo)==null?void 0:YA.PearlSkill)==null?void 0:xA.name:"无"),1)]}),_:1})]),_:1})]),s("div",dI,[B[33]||(B[33]=s("h4",{class:"section-title"},"装备详情",-1)),s("div",vI,[s("div",fI,[B[29]||(B[29]=s("span",{class:"equipment-label"},"武器:",-1)),s("div",gI,[(v(!0),g(vA,null,yA(Object.values(((fA=Object.values(F.value.equipment)[0])==null?void 0:fA.quenches)||{}),(SA,OA)=>(v(),g("div",{key:OA,class:iA(["equipment-slot",{"red-slot":SA.colorId===6}])},null,2))),128))])]),s("div",BI,[B[30]||(B[30]=s("span",{class:"equipment-label"},"衣服:",-1)),s("div",pI,[(v(!0),g(vA,null,yA(Object.values(((FA=Object.values(F.value.equipment)[1])==null?void 0:FA.quenches)||{}),(SA,OA)=>(v(),g("div",{key:OA,class:iA(["equipment-slot",{"red-slot":SA.colorId===6}])},null,2))),128))])]),s("div",mI,[B[31]||(B[31]=s("span",{class:"equipment-label"},"头盔:",-1)),s("div",hI,[(v(!0),g(vA,null,yA(Object.values(((UA=Object.values(F.value.equipment)[2])==null?void 0:UA.quenches)||{}),(SA,OA)=>(v(),g("div",{key:OA,class:iA(["equipment-slot",{"red-slot":SA.colorId===6}])},null,2))),128))])]),s("div",wI,[B[32]||(B[32]=s("span",{class:"equipment-label"},"坐骑:",-1)),s("div",CI,[(v(!0),g(vA,null,yA(Object.values(((RA=Object.values(F.value.equipment)[3])==null?void 0:RA.quenches)||{}),(SA,OA)=>(v(),g("div",{key:OA,class:iA(["equipment-slot",{"red-slot":SA.colorId===6}])},null,2))),128))])])])])])):tA("",!0)]}),_:1},8,["show"])])}}},bI=Ae(yI,[["__scopeId","data-v-0e9c5a7c"]]),FI={class:"total-points"},UI={class:"value"},_I={class:"container"},kI={class:"selects"},II={__name:"FightHelperCard",setup(A){const e=qA(),t=ZA(),n=I(()=>{var d;return((d=e.gameData)==null?void 0:d.roleInfo)||null}),a=I(()=>{var d,u,b,w;return((w=(b=(u=(d=n.value)==null?void 0:d.role)==null?void 0:u.items)==null?void 0:b[1007])==null?void 0:w.quantity)||0}),o=d=>{var b,w,Q,H,M;const u=((b=d==null?void 0:d.rankList)==null?void 0:b[0])||((w=d==null?void 0:d.roleList)==null?void 0:w[0])||((Q=d==null?void 0:d.targets)==null?void 0:Q[0])||((H=d==null?void 0:d.targetList)==null?void 0:H[0])||((M=d==null?void 0:d.list)==null?void 0:M[0]);return u!=null&&u.roleId?u.roleId:u!=null&&u.id?u.id:(d==null?void 0:d.roleId)||(d==null?void 0:d.id)},r=W(10),i=[{label:"10",value:10},{label:"50",value:50},{label:"100",value:100},{label:"500",value:500},{label:"1000",value:1e3},{label:"2000",value:2e3},{label:"5000",value:5e3},{label:"10000",value:1e4}],l=W({isRunning:!1}),c=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}if(a.value<r.value){t.warning("咸神门票不足以完成该战斗次数");return}const d=e.selectedToken.id;l.value.isRunning=!0,t.info("竞技场战斗中");for(let u=0;u<r.value;u++){await e.sendMessageWithPromise(d,"arena_startarea",{});let b;try{b=await e.sendMessageWithPromise(d,"arena_getareatarget",{})}catch(Q){t.error(`获取竞技场目标失败：${Q.message}`);break}const w=o(b);if(!w){t.warning("未找到可用的竞技场目标，已停止");break}try{await e.sendMessageWithPromise(d,"fight_startareaarena",{targetId:w})}catch(Q){t.error(`竞技场对决失败：${Q.message}`)}}await e.sendMessage(d,"role_getroleinfo"),t.success("竞技场战斗完毕"),l.value.isRunning=!1};return(d,u)=>{const b=Z("n-select"),w=Ke;return v(),pA(De,{class:"bottle-helper",statusClass:{active:l.value.isRunning}},{icon:C(()=>[...u[1]||(u[1]=[s("img",{src:vr,alt:"竞技场"},null,-1)])]),title:C(()=>[...u[2]||(u[2]=[s("h3",null,"竞技场助手",-1)])]),badge:C(()=>[s("span",null,f(l.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",FI,[u[3]||(u[3]=s("span",{class:"label"},"当前咸神门票数量：",-1)),s("span",UI,f(a.value),1)]),s("div",_I,[s("div",kI,[p(b,{value:r.value,"onUpdate:value":u[0]||(u[0]=Q=>r.value=Q),options:i},null,8,["value"])])])]),action:C(()=>[p(w,{type:"primary",disabled:l.value.isRunning,secondary:"",size:"small",block:"",onClick:c},{default:C(()=>[X(f(l.value.isRunning?"运行中":"开始战斗"),1)]),_:1},8,["disabled"])]),_:1},8,["statusClass"])}}},HI=Ae(II,[["__scopeId","data-v-e34117ae"]]),EI=["src"],SI={class:"dream-helper-content"},TI={class:"tabs"},$I={key:0,class:"tab-content"},DI={key:0,class:"team-info"},LI={class:"team-list"},MI={class:"team-actions"},KI={key:1,class:"tab-content"},OI={class:"merchant-info"},xI={class:"merchant-actions"},PI={key:0,class:"merchant-items"},RI={class:"merchant-name"},VI={class:"items-list"},NI={__name:"DreamHelperCard",setup(A){const e=qA(),t=ZA(),n=I(()=>"/174061875626614.png"),a=W(!1),o=W("battle"),r=W(!1),i=W(!1),l=W([]),c=W({});W(null);const d=W({1:[],2:[],3:[]}),u=W(0);W(new Set);const b=W(!1),w={101:{name:"司马懿",type:"魏国"},102:{name:"郭嘉",type:"魏国"},103:{name:"关羽",type:"蜀国"},104:{name:"诸葛亮",type:"蜀国"},105:{name:"周瑜",type:"吴国"},106:{name:"太史慈",type:"吴国"},107:{name:"吕布",type:"群雄"},108:{name:"华佗",type:"群雄"},109:{name:"甄姬",type:"魏国"},110:{name:"黄月英",type:"蜀国"},111:{name:"孙策",type:"吴国"},112:{name:"贾诩",type:"群雄"},113:{name:"曹仁",type:"魏国"},114:{name:"姜维",type:"蜀国"},115:{name:"孙坚",type:"吴国"},116:{name:"公孙瓒",type:"群雄"},117:{name:"典韦",type:"魏国"},118:{name:"赵云",type:"蜀国"},119:{name:"大乔",type:"吴国"},120:{name:"张角",type:"群雄"}},Q={1:{name:"初级商人",items:["进阶石","精铁","木质宝箱","青铜宝箱","普通鱼竿","挑战票","咸神火把"]},2:{name:"中级商人",items:["梦魇晶石","进阶石","精铁","黄金宝箱","黄金鱼竿","招募令","橙将碎片","紫将碎片"]},3:{name:"高级商人",items:["梦魇晶石","铂金宝箱","黄金鱼竿","招募令","红将碎片","橙将碎片","红将碎片","普通鱼竿"]}},H={1:[5,6],2:[6,7],3:[5,6,7]};function M(){const O=new Date().getDay();return O===0||O===1||O===3||O===4}function F(S){return new Promise(O=>setTimeout(O,S*1e3))}function h(S){return{魏国:"#3b82f6",蜀国:"#10b981",吴国:"#f59e0b",群雄:"#ef4444"}[S]||"#8b5cf6"}function V(S){try{if(!S||!S.presetTeamInfo.presetTeamInfo)return!1;const O=S.presetTeamInfo.useTeamId.toString(),K=S.presetTeamInfo.presetTeamInfo[O].teamInfo;l.value=[];for(let Y=0;Y<5;Y++){const q=Y.toString();if(K[q]){const j=K[q],sA=j.heroId||j;sA!==0&&w[sA]&&l.value.push({id:sA,name:w[sA].name,type:w[sA].type,position:Y})}}return i.value=!0,!0}catch(O){return console.error("提取默认信息出错:",O),!1}}async function P(){if(!M()){t.warning("当前不是梦境开放时间（周三/周四/周日/周一）");return}if(!e.selectedToken){t.warning("请先选择Token");return}r.value=!0;const S=e.selectedToken.id;try{const O=await e.sendMessageWithPromise(S,"presetteam_getinfo",{},15e3);O&&(V(O)?t.success("队伍信息获取成功"):t.error("无法提取队伍数据"))}catch(O){t.error(`获取默认队伍信息出错: ${O.message}`)}finally{r.value=!1}}async function k(){if(!M()){t.warning("当前不是梦境开放时间（周三/周四/周日/周一）");return}if(!e.selectedToken){t.warning("请先选择Token");return}if(!i.value&&!await P()){t.warning("请先获取默认队伍");return}r.value=!0;const S=e.selectedToken.id;try{const O={};let K=!1;for(let q=0;q<5;q++){const j=l.value.find(sA=>sA.position===q);j?(O[q.toString()]=j.id,K=!0):O[q.toString()]=0}if(!K){t.warning("队伍中没有英雄");return}await e.sendMessageWithPromise(S,"dungeon_selecthero",{battleTeam:O},15e3)&&t.success("梦境阵容选择成功")}catch(O){t.error(`选择梦境阵容出错: ${O.message}`)}finally{r.value=!1}}async function E(S){if(!e.selectedToken)return!1;const O=e.selectedToken.id,K=w[S]?w[S].name:`ID:${S}`;try{const Y=await e.sendMessageWithPromise(O,"fight_startdungeon",{heroId:parseInt(S)},15e3);if(Y){const q=Y;return q&&(q.isWin?console.log(`${K} 战斗胜利!`):console.log(`${K} 战斗失败`)),!0}return!1}catch(Y){return Y.message.includes("2600080")||Y.message.includes("2600050")?"stop":(console.error(`${K} 开始战斗出错:`,Y),!1)}}async function D(S){const O=w[S]?w[S].name:`ID:${S}`;for(c.value[S]=!0,t.info(`${O} 开始连续战斗`);c.value[S];){if(await E(S)==="stop"){R(S);break}c.value[S]&&await F(.1)}}function R(S){const O=w[S]?w[S].name:`ID:${S}`;c.value[S]=!1,t.info(`${O} 连续战斗已停止`)}function N(S){c.value[S]?R(S):D(S)}function _(){c.value={},t.info("所有连续战斗已停止")}function J(S,O){const K=Q[S];return K&&K.items[O]!==void 0?K.items[O]:`未知商品(${O})`}function z(S,O){return J(S,O).includes("黄金鱼竿")?"#ffd700":L(S,O)?"#ffa500":"#F3BCD6"}function L(S,O){return H[S]&&H[S].includes(O)}async function $(){if(!e.selectedToken)return;const S=e.selectedToken.id;try{const O=await e.sendMessageWithPromise(S,"role_getroleinfo",{},15e3);if(O&&O&&O.role)return O.role.dungeon&&O.role.dungeon.merchant&&(d.value=O.role.dungeon.merchant),O.role.levelId&&(u.value=O.role.levelId),{merchantData:d.value,levelId:u.value}}catch(O){throw console.error("获取角色信息失败:",O),O}}async function m(S,O,K){if(!e.selectedToken)return!1;const Y=e.selectedToken.id;try{const q=await e.sendMessageWithPromise(Y,"dungeon_buymerchant",{id:S,index:O,pos:K},15e3);return q&&q.code===0}catch(q){return console.error("购买商品失败:",q),!1}}async function B(){if(!M()){t.warning("当前不是梦境开放时间（周三/周四/周日/周一）");return}if(u.value<4e3){t.warning("关卡数小于4000，无法购买金币商品");return}a.value=!0;let S=0,O=0;for(const K in d.value){const Y=d.value[K],q=parseInt(K);for(let j=Y.length-1;j>=0;j--){const sA=Y[j];if(L(q,sA)){try{await m(q,sA,j)?S++:O++}catch{O++}await F(.5)}}}await T(),t.success(`一键购买完成: 成功 ${S} 件, 失败 ${O} 件`),a.value=!1}async function y(){if(!M()){t.warning("当前不是梦境开放时间（周三/周四/周日/周一）");return}if(u.value<4e3){t.warning("关卡数小于4000，无法购买金币商品");return}a.value=!0;let S=0,O=0;const K=d.value[3];for(let Y=K.length-1;Y>=0;Y--){const q=K[Y];if(q===2){try{await m(3,q,Y)?S++:O++}catch{O++}await F(.5)}}await T(),t.success(`一键购买完成: 成功 ${S} 件, 失败 ${O} 件`),a.value=!1}async function T(){if(!M()){t.warning("当前不是梦境开放时间（周三/周四/周日/周一）");return}if(!e.selectedToken){t.warning("请先选择Token");return}try{t.info("开始自动获取商品列表流程...");const S=await P();await k(),await $(),b.value=!0,t.success("商品列表获取完成")}catch(S){t.error(`获取商品列表失败: ${S.message}`)}}const G=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}if(!M()){t.warning("当前不是梦境开放时间（周三/周四/周日/周一）");return}a.value=!0,t.info("梦境助手运行中"),await P(),a.value=!1,t.success("梦境助手运行完毕")};return(S,O)=>{const K=Ke;return v(),pA(De,{class:"dream-helper",statusClass:{active:a.value}},{icon:C(()=>[s("img",{src:n.value,alt:"梦境图标"},null,8,EI)]),title:C(()=>[...O[2]||(O[2]=[s("h3",null,"梦境助手",-1)])]),badge:C(()=>[s("span",null,f(a.value?"运行中":"已停止"),1)]),default:C(()=>[s("div",SI,[s("div",TI,[s("div",{class:iA(["tab",{active:o.value==="battle"}]),onClick:O[0]||(O[0]=Y=>o.value="battle")}," 战斗模块 ",2),s("div",{class:iA(["tab",{active:o.value==="buy"}]),onClick:O[1]||(O[1]=Y=>o.value="buy")}," 购买模块 ",2)]),o.value==="battle"?(v(),g("div",$I,[l.value.length>0?(v(),g("div",DI,[O[3]||(O[3]=s("div",{class:"team-title"},"当前队伍",-1)),s("div",LI,[(v(!0),g(vA,null,yA(l.value,Y=>(v(),g("div",{class:"hero-item",key:Y.id},[s("div",{class:"hero-name",style:lt({borderLeftColor:h(Y.type)})},f(Y.name),5),p(K,{type:"primary",size:"small",class:iA({"stop-btn":c.value[Y.id]}),onClick:q=>N(Y.id)},{default:C(()=>[X(f(c.value[Y.id]?"停止":"连续战斗"),1)]),_:2},1032,["class","onClick"])]))),128))])])):tA("",!0),s("div",MI,[p(K,{type:"primary",size:"small",onClick:P},{default:C(()=>[...O[4]||(O[4]=[X("获取队伍",-1)])]),_:1}),p(K,{type:"primary",size:"small",onClick:k},{default:C(()=>[...O[5]||(O[5]=[X("选择阵容",-1)])]),_:1}),p(K,{type:"primary",size:"small",onClick:_},{default:C(()=>[...O[6]||(O[6]=[X("停止所有",-1)])]),_:1})])])):tA("",!0),o.value==="buy"?(v(),g("div",KI,[s("div",OI,[O[10]||(O[10]=s("div",{class:"merchant-title"},"商品列表",-1)),s("div",xI,[p(K,{type:"primary",size:"small",onClick:T},{default:C(()=>[...O[7]||(O[7]=[X("获取商品",-1)])]),_:1}),p(K,{type:"primary",size:"small",onClick:B},{default:C(()=>[...O[8]||(O[8]=[X("一键购买金币商品",-1)])]),_:1}),p(K,{type:"primary",size:"small",onClick:y},{default:C(()=>[...O[9]||(O[9]=[X("一键购买高级商人鱼竿",-1)])]),_:1})])]),b.value?(v(),g("div",PI,[(v(!0),g(vA,null,yA(d.value,(Y,q)=>(v(),g("div",{class:"merchant-section",key:q},[s("div",RI,f(Q[q].name),1),s("div",VI,[(v(!0),g(vA,null,yA(Y,(j,sA)=>(v(),g("div",{class:"item",key:sA},[s("div",{class:"item-name",style:lt({color:z(parseInt(q),j)})},f(J(parseInt(q),j)),5)]))),128))])]))),128))])):tA("",!0)])):tA("",!0)])]),action:C(()=>[p(K,{type:"primary",disabled:a.value,secondary:"",size:"small",block:"",onClick:G},{default:C(()=>[X(f(a.value?"运行中":"启动梦境助手"),1)]),_:1},8,["disabled"])]),_:1},8,["statusClass"])}}},GI=Ae(NI,[["__scopeId","data-v-b4f85982"]]),WI={class:"settings"},YI={key:0,class:"action-row"},zI={class:"hero-item"},XI=["src","alt"],JI={class:"hero-property"},qI={class:"current-property"},jI={class:"button-area"},ZI={class:"input-area"},A4={class:"button-group"},e4={__name:"HeroUpgradeCard",setup(A){const e=qA(),t=ZA(),n=I(()=>[...Object.values(e.gameData.roleInfo.role.heroes).map(Q=>({label:Cn[Q.heroId].name+"("+Q.level+"/6000)",value:Q.heroId,disabled:Q.level==6e3}))]),a=W(null),o=W(null),r=W(1),i=W({isRunning:!1,showConfirm:!1,progressText:"待开始",stopRequested:!1,total:0,done:0}),l=Q=>{o.value=Object.assign({},e.gameData.roleInfo.role.heroes[Q],Cn[Q])},c=[{label:"1",value:1},{label:"5",value:5},{label:"10",value:10},{label:"50",value:50}];jA(()=>e.gameData.roleInfo.heroes,()=>{a.value&&(e.gameData.roleInfo.role.heroes[a.value].level!=6e3?o.value=Object.assign({},e.gameData.roleInfo.role.heroes[a.value],Cn[a.value]):o.value=null)},{deep:!0});const d=async()=>{if(!e.selectedToken){t.warning("请先选择游戏角色");return}const Q=e.selectedToken.id;if(e.getWebSocketStatus(Q)!=="connected"){t.error("WebSocket未连接，无法执行命令");return}i.value.isRunning=!0;try{if(w(o.value.level,r.value,o.value.order)==o.value.level){const F=await e.sendMessageWithPromise(Q,"hero_heroupgradeorder",{heroId:a.value},5e3);F!=null&&F.role.heroes&&(t.success("进阶成功"),e.sendGetRoleInfo(Q))}else t.warning("进阶失败")}catch(M){t.error(`进阶失败: ${M.message}`),e.sendGetRoleInfo(Q)}finally{i.value.isRunning=!1}},u=async()=>{if(!e.selectedToken){t.warning("请先选择游戏角色");return}const Q=e.selectedToken.id;if(e.getWebSocketStatus(Q)!=="connected"){t.error("WebSocket未连接，无法执行命令");return}i.value.isRunning=!0;try{let M=w(o.value.level,r.value,o.value.order);if(M==!1){const F=await e.sendMessageWithPromise(Q,"hero_heroupgradelevel",{heroId:a.value,upgradeNum:r.value},5e3);F!=null&&F.role.heroes&&e.sendGetRoleInfo(Q)}else t.warning("请手动升级到"+M+"级,然后进行进阶")}catch(M){t.error(`升级失败: ${M.message}`),e.sendGetRoleInfo(Q)}finally{i.value.isRunning=!1}},b=[{level:100,order:1},{level:200,order:2},{level:300,order:3},{level:500,order:4},{level:700,order:5},{level:900,order:6},{level:1100,order:7},{level:1300,order:8},{level:1500,order:9},{level:1800,order:10},{level:2100,order:11},{level:2400,order:12},{level:2800,order:13},{level:3200,order:14},{level:3600,order:15},{level:4e3,order:16},{level:4500,order:17},{level:5e3,order:18},{level:5500,order:19}],w=(Q,H,M)=>{for(const F of b)if(console.log(Q,H,M,M!=F.order,Q<=F.level,F.level<Q+H),M!=F.order&&Q<=F.level&&F.level<Q+H)return F.level;return!1};return(Q,H)=>{const M=Z("n-select"),F=Ke;return v(),pA(De,{class:"star-upgrade",statusClass:{active:i.value.isRunning}},{icon:C(()=>[...H[2]||(H[2]=[s("img",{src:mi,alt:"升级图标"},null,-1)])]),title:C(()=>[...H[3]||(H[3]=[s("h3",null,"武将升级",-1),s("p",null,"武将升级,方便卡速",-1)])]),badge:C(()=>[s("span",null,f(i.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",WI,[H[4]||(H[4]=s("span",{class:"label"},"武将选择",-1)),p(M,{value:a.value,"onUpdate:value":[H[0]||(H[0]=h=>a.value=h),l],options:n.value},null,8,["value","options"])])]),action:C(()=>[o.value!=null?(v(),g("div",YI,[s("div",zI,[s("img",{src:o.value.avatar,alt:o.value.name},null,8,XI)]),s("div",JI,[s("div",qI,[s("div",null,"攻击："+f(o.value.attack),1),s("div",null,"速度："+f(o.value.speed),1)])]),s("div",jI,[s("div",ZI,[H[5]||(H[5]=s("span",{class:"label"},"升级等级",-1)),p(M,{value:r.value,"onUpdate:value":H[1]||(H[1]=h=>r.value=h),options:c},null,8,["value"])]),s("div",A4,[p(F,{type:"primary",disabled:i.value.isRunning,size:"small",onClick:u},{default:C(()=>[...H[6]||(H[6]=[X("升级",-1)])]),_:1},8,["disabled"]),p(F,{type:"primary",disabled:w(o.value.level,1,o.value.order)==!1,size:"small",onClick:d},{default:C(()=>[...H[7]||(H[7]=[X("进阶",-1)])]),_:1},8,["disabled"])])])])):tA("",!0)]),_:1},8,["statusClass"])}}},t4=Ae(e4,[["__scopeId","data-v-d078d1fc"]]),n4={class:"status-card consumption-progress"},s4={class:"item-header"},a4={class:"item-values"},r4={class:"current"},o4={class:"current"},l4={class:"current"},i4={class:"current"},u4={key:0,class:"current"},c4={class:"setting-item"},d4={class:"card-content"},v4={key:0,class:"empty-state"},f4={key:1,class:"progress-list"},g4={class:"item-header"},B4={class:"item-name"},p4={class:"item-values"},m4={class:"current"},h4={class:"target"},w4={class:"item-footer"},C4={key:0,class:"next-reward"},Q4={key:1,class:"completed-text"},y4={key:2,class:"obtained-items"},b4={class:"cp-modal-scroll"},F4={key:0},U4={key:1},Fo=4,_4={__name:"ConsumptionProgressCard",setup(A){const e=qA(),t=ZA(),n=()=>{e.selectedToken&&e.sendMessage(e.selectedToken.id,"activity_get")};ae(()=>{n()}),jA(()=>e.selectedToken,()=>{n()});const a=W({isRunning:!1}),o=W(4),r={招募:1,宝箱:2,捕获:3,盐罐:4,金砖:5},i={[r.招募]:"招募",[r.宝箱]:"宝箱",[r.捕获]:"捕获",[r.盐罐]:"盐罐",[r.金砖]:"金砖"},l={[r.招募]:[{num:80},{num:160},{num:240},{num:320},{num:400},{num:560},{num:720},{num:880},{num:1040},{num:1200},{num:1440},{num:1680},{num:1920},{num:2160},{num:2400},{num:2720},{num:3040},{num:3360},{num:3680},{num:4e3}],[r.宝箱]:[{num:2e3},{num:4e3},{num:6e3},{num:8e3},{num:1e4},{num:14e3},{num:18e3},{num:22e3},{num:26e3},{num:3e4},{num:36e3},{num:42e3},{num:48e3},{num:54e3},{num:6e4},{num:68e3},{num:76e3},{num:84e3},{num:92e3},{num:1e5}],[r.捕获]:[{num:25},{num:50},{num:75},{num:125},{num:175},{num:225},{num:300},{num:375},{num:450},{num:525},{num:625},{num:725},{num:825},{num:925},{num:1050},{num:1175},{num:1300},{num:1450},{num:1600},{num:1750}],[r.盐罐]:[{num:3},{num:6},{num:9},{num:12},{num:15},{num:18},{num:21},{num:24},{num:27},{num:30},{num:33},{num:36},{num:39},{num:42},{num:45},{num:48},{num:51},{num:54},{num:57},{num:60}],[r.金砖]:[{num:1e4},{num:2e4},{num:3e4},{num:4e4},{num:5e4},{num:7e4},{num:9e4},{num:11e4},{num:13e4},{num:15e4},{num:18e4},{num:21e4},{num:24e4},{num:27e4},{num:3e5},{num:34e4},{num:38e4},{num:42e4},{num:46e4},{num:5e5}]},c={[r.招募]:[{num:8},{num:8},{num:8},{num:8},{num:8},{num:16},{num:16},{num:16},{num:16},{num:16},{num:24},{num:24},{num:24},{num:24},{num:24},{num:32},{num:32},{num:32},{num:32},{num:32}],[r.宝箱]:[{num:4},{num:4},{num:4},{num:4},{num:4},{num:8},{num:8},{num:8},{num:8},{num:8},{num:12},{num:12},{num:12},{num:12},{num:12},{num:16},{num:16},{num:16},{num:16},{num:16}],[r.捕获]:[{num:4},{num:4},{num:4},{num:8},{num:8},{num:8},{num:12},{num:12},{num:12},{num:12},{num:16},{num:16},{num:16},{num:16},{num:20},{num:20},{num:20},{num:24},{num:24},{num:24}],[r.盐罐]:[{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1},{num:1}],[r.金砖]:[{num:3},{num:3},{num:3},{num:3},{num:3},{num:6},{num:6},{num:6},{num:6},{num:6},{num:9},{num:9},{num:9},{num:9},{num:9},{num:12},{num:12},{num:12},{num:12},{num:12}]},d=I(()=>{var L;return((L=e.gameData)==null?void 0:L.roleInfo)||null}),u=I(()=>{var L,$,m,B;return((B=(m=($=(L=d.value)==null?void 0:L.role)==null?void 0:$.items)==null?void 0:m[5261])==null?void 0:B.quantity)||0}),b=I(()=>{var L,$,m,B;return((B=(m=($=(L=d.value)==null?void 0:L.role)==null?void 0:$.items)==null?void 0:m[5262])==null?void 0:B.quantity)||0}),w=I(()=>{var $,m;const L=($=e.gameData)==null?void 0:$.commonActivityInfo;return((m=L==null?void 0:L.activity)==null?void 0:m.commonActivityInfo)||(L==null?void 0:L.commonActivityInfo)||{}}),Q=I(()=>(console.log("🚀 ~ commonActivityInfo.value:",w.value),w.value?Object.values(w.value).some(L=>L!=null&&L.task?Object.keys(L.task).some($=>{const m=Number($);return m>=1&&m<=5}):!1):!1)),H=async()=>{if(!e.selectedToken){t.warning("请先选择Token");return}const L=e.selectedToken.id;a.value.isRunning=!0,t.info("道具开启中"),await e.sendMessageWithPromise(L,"item_openpack",{itemId:5261,index:0,number:o.value}),await e.sendMessage(L,"role_getroleinfo"),t.success("道具开启完毕"),a.value.isRunning=!1},M=I(()=>{if(!w.value)return[];const L=Object.values(w.value).find(B=>B!=null&&B.task?Object.keys(B.task).some(y=>{const T=Number(y);return T>=1&&T<=5}):!1);if(!L)return[];const $=L.task||{},m=(B,y)=>{var q,j,sA;const T=c[B];if(!T||!T.length||!y||y<=0)return 0;const G=l[B]||[];let S=0;for(let wA=0;wA<G.length;wA++){const fA=((q=G[wA])==null?void 0:q.num)||0;if(y>=fA)S++;else break}const O=T.length,K=((j=T[O-1])==null?void 0:j.num)||0;let Y=0;for(let wA=0;wA<S;wA++)wA<O?Y+=((sA=T[wA])==null?void 0:sA.num)||0:Y+=K;return Y};return Object.keys(i).map(B=>{const y=Number(B),T=$[y]||0,G=l[y]||[];let S=0,O=!1;const K=G.find(q=>q.num>T);K?S=K.num:G.length>0&&(S=G[G.length-1].num,O=!0);let Y=0;return O?Y=100:S>0&&(Y=Math.min(100,T/S*100)),{id:y,name:i[y],current:T,nextTarget:S,percentage:Y,isCompleted:O,obtainedItems:m(y,T)}})}),F=W(!1),h=I(()=>M.value.reduce((L,$)=>L+($.obtainedItems||0),0)),V=W(250),P=I(()=>b.value||0),k=I(()=>Math.max(0,V.value-P.value)),E=I(()=>{const L=P.value||0,$=h.value||0,m=u.value||0;return L>0&&$>0&&$>m?($-m)/L:null}),D=I(()=>E.value||Fo),R=I(()=>k.value*(D.value||Fo)),N=I(()=>u.value||0),_=I(()=>Math.max(0,Math.ceil(R.value-N.value))),J=I(()=>{var $,m,B;const L=[];for(const y of Object.keys(i)){const T=Number(y),G=i[T],S=(($=M.value.find(j=>j.id===T))==null?void 0:$.current)||0,O=l[T]||[],K=c[T]||[],Y=O.filter(j=>j.num<=S).length,q=[];for(let j=Y;j<O.length;j++){const sA=O[j].num,wA=j+1;let fA=0;for(let UA=Y;UA<wA;UA++)fA+=((m=K[UA])==null?void 0:m.num)||((B=K[K.length-1])==null?void 0:B.num)||0;const FA=Math.max(0,sA-S);fA>0&&FA>0&&q.push({id:T,name:G,threshold:sA,delta:fA,cost:FA,roundsIndex:wA})}L.push({id:T,name:G,current:S,options:q})}return L}),z=I(()=>{const L=Math.ceil(_.value||0),$=J.value||[],m=[],B=$.length,y=1e6;let T=0;const G=(S,O,K,Y)=>{if(T>y)return;if(S===B){K>=L&&m.push({sumDelta:K,sumCost:Y,combo:O.slice(),totalOrd:(h.value||0)+K}),T++;return}const q=$[S];G(S+1,O,K,Y);for(const j of q.options)if(O.push(j),G(S+1,O,K+j.delta,Y+j.cost),O.pop(),T>y)return};return G(0,[],0,0),m.sort((S,O)=>S.sumDelta-O.sumDelta||S.sumCost-O.sumCost),m});return(L,$)=>{const m=Ke,B=Z("n-input-number"),y=Z("n-progress"),T=Z("n-button"),G=Z("n-space"),S=Gi;return v(),g("div",n4,[$[11]||($[11]=s("div",{class:"card-header"},[s("div",{class:"header-left"},[s("span",{class:"icon"},"📊"),s("span",{class:"title"},"消耗活动进度")])],-1)),s("div",s4,[s("div",a4,[s("div",r4," 黄金道具数量:"+f(b.value)+"（还需: "+f(k.value)+"） 获取率:"+f(Math.floor(1/D.value*1e3)/1e3),1),s("div",o4," 普通道具已累计获取: "+f(h.value)+"(剩余:"+f(u.value)+") ",1),s("div",l4," 还需普通道具(库存 "+f(u.value)+" 已计入): "+f(_.value),1),s("div",i4,[$[5]||($[5]=X(" 可行方案: ",-1)),p(m,{type:"primary",size:"small",style:{"margin-left":"8px"},onClick:$[0]||($[0]=O=>F.value=!0)},{default:C(()=>[...$[4]||($[4]=[X("查看所有可行方案",-1)])]),_:1})]),z.value.length===0?(v(),g("div",u4," 暂无可行组合或已满足目标 ")):tA("",!0)])]),s("div",c4,[$[7]||($[7]=s("span",{class:"label"},"使用数量:",-1)),p(B,{value:o.value,"onUpdate:value":$[1]||($[1]=O=>o.value=O),min:1,step:1,size:"small"},null,8,["value"]),p(m,{type:"primary",size:"small",disabled:a.value.isRunning,onClick:H},{default:C(()=>[...$[6]||($[6]=[X("打开普通道具",-1)])]),_:1},8,["disabled"])]),s("div",d4,[Q.value?(v(),g("div",f4,[(v(!0),g(vA,null,yA(M.value,O=>(v(),g("div",{key:O.id,class:"progress-item"},[s("div",g4,[s("span",B4,f(O.name),1),s("span",p4,[s("span",m4,f(O.current),1),$[8]||($[8]=s("span",{class:"separator"},"/",-1)),s("span",h4,f(O.nextTarget),1)])]),p(y,{type:"line",percentage:O.percentage,color:O.isCompleted?"#52c41a":"#1890ff","rail-color":"rgba(0, 0, 0, 0.06)",height:8,"show-indicator":!1},null,8,["percentage","color"]),s("div",w4,[O.isCompleted?(v(),g("span",Q4," 已完成所有档位 ")):(v(),g("span",C4," 下一档: "+f(O.nextTarget)+" (还需 "+f(O.nextTarget-O.current)+") ",1)),O.obtainedItems>0?(v(),g("span",y4," 已获得道具: "+f(O.obtainedItems),1)):tA("",!0)])]))),128))])):(v(),g("div",v4,"暂无活动数据"))]),p(S,{visible:F.value,"onUpdate:visible":$[3]||($[3]=O=>F.value=O),width:"900px",height:"600px",footer:!1},{title:C(()=>[...$[9]||($[9]=[s("h3",null,"所有可行组合（按总普通道具升序）",-1)])]),footer:C(()=>[p(G,{align:"center",justify:"end"},{default:C(()=>[p(T,{onClick:$[2]||($[2]=O=>F.value=!1)},{default:C(()=>[...$[10]||($[10]=[X("关闭",-1)])]),_:1})]),_:1})]),default:C(()=>[s("div",b4,[z.value.length===0?(v(),g("div",F4,"暂无可行组合或已满足目标")):(v(),g("div",U4,[(v(!0),g(vA,null,yA(z.value,(O,K)=>(v(),g("div",{key:K,style:{"margin-bottom":"12px"}},[s("div",null,[s("strong",null,"方案 "+f(K+1)+" : "+f(O.totalOrd)+"档",1)]),s("ol",null,[(v(!0),g(vA,null,yA(O.combo,Y=>(v(),g("li",{key:Y.id+"-"+Y.threshold},f(Y.name)+" -> 达到 "+f(Y.threshold)+" (可得 "+f(Y.delta)+" 普通道具, 还需消耗 "+f(Y.cost)+") ",1))),128))])]))),128))]))])]),_:1},8,["visible"])])}}},k4=Ae(_4,[["__scopeId","data-v-840df809"]]),I4={class:"refine-container"},H4={class:"toolbar"},E4={class:"jade-info"},S4={class:"hero-list-section"},T4={class:"hero-list"},$4={key:0,class:"loading"},D4={key:1,class:"empty"},L4=["onClick"],M4={class:"hero-avatar"},K4=["src","alt"],O4={key:1,class:"hero-placeholder"},x4={class:"hero-info"},P4={class:"hero-name"},R4={class:"hero-level"},V4={key:0,class:"equip-section"},N4={class:"equip-tabs"},G4=["onClick"],W4={class:"tab-name"},Y4={class:"tab-level"},z4={key:1,class:"refine-detail"},X4={class:"stats"},J4={class:"stat-item"},q4={class:"stat-value"},j4={class:"stat-item"},Z4={class:"stat-label"},AH={class:"stat-value"},eH={class:"slots-section"},tH={class:"slots"},nH={class:"slot-label"},sH={key:0,class:"slot-attr"},aH={key:1,class:"slot-empty"},rH={class:"password-section"},oH={key:0,class:"password-info"},lH={key:0,class:"password-error"},iH={key:1,class:"password-validated"},uH={class:"actions"},cH={class:"count-info"},dH={class:"auto-section"},vH={class:"conditions-list"},fH={class:"auto-form"},gH={class:"form-item"},BH={class:"form-item"},pH={class:"form-item"},mH={class:"add-condition"},hH={class:"auto-form delay-setting"},wH={class:"form-item"},CH={__name:"RefineHelperCard",setup(A){const e=qA(),t=ZA(),n=W(!1),a=W([]),o=W(null),r=W(null),i=W(0),l=W(350),c=W([{attrId:null,attrValue:null}]),d=W(0),u=W(0),b=W(""),w=W(!1),Q=W(""),H=W(!1),M=W({isRunning:!1,continuousQuenching:!1,autoQuenching:!1,stopRequested:!1});let F=null,h=null;const V={1:"攻击",2:"血量",3:"防御",4:"速度",5:"破甲",6:"破甲抵抗",7:"精准",8:"格挡",9:"减伤",10:"暴击",11:"暴击抵抗",12:"爆伤",13:"爆伤抵抗",14:"技能伤害",15:"免控",16:"眩晕免疫",17:"冰冻免疫",18:"沉默免疫",19:"流血免疫",20:"中毒免疫",21:"灼烧免疫"},P={1:"武器",2:"铠甲",3:"头冠",4:"坐骑"},k=W({}),E=W({}),D=W([]),R=W(0),N=W("攻击"),_=W(0),J=I(()=>Object.entries(V).map(([x,U])=>({label:U,value:Number(x)}))),z=I(()=>E.value?Object.entries(E.value).map(([x,U])=>({id:Number(x),name:P[Number(x)]||`装备${x}`,level:(U==null?void 0:U.level)||1})):[]),L=async()=>{var nA,uA;const x=e.selectedToken;if(!x){t.warning("请先选择Token");return}const U=x.id;if(e.getWebSocketStatus(U)!=="connected"){t.error("WebSocket未连接，无法刷新阵容");return}n.value=!0;try{const[oA,cA]=await Promise.all([e.sendMessageWithPromise(U,"presetteam_getinfo",{}),e.sendMessageWithPromise(U,"role_getroleinfo",{})]),CA=$(oA),rA=(cA==null?void 0:cA.role)||cA,HA=(rA==null?void 0:rA.heroes)||{},dA=(rA==null?void 0:rA.items)||{};d.value=((nA=dA[1022])==null?void 0:nA.quantity)||0,u.value=((uA=dA[1023])==null?void 0:uA.quantity)||0;const DA=m(CA,HA);a.value=DA,k.value=HA,t.success("阵容刷新成功")}catch(oA){t.error(`刷新阵容失败: ${oA.message}`)}finally{n.value=!1}},$=x=>{var CA;if(!x)return{useTeamId:1,teams:{}};const U=x.presetTeamInfo??x,AA=rA=>{if(!rA||typeof rA!="object")return null;if(typeof rA.useTeamId=="number")return rA.useTeamId;for(const HA of Object.keys(rA)){const dA=AA(rA[HA]);if(dA)return dA}return null},nA=U.useTeamId??((CA=U.presetTeamInfo)==null?void 0:CA.useTeamId)??AA(U)??1,uA=U.presetTeamInfo??U,oA={},cA=Object.keys(uA||{}).filter(rA=>/^\d+$/.test(rA));for(const rA of cA){const HA=Number(rA),dA=uA[rA];if(!dA){oA[HA]={teamInfo:{}};continue}if(dA.teamInfo)oA[HA]={teamInfo:dA.teamInfo};else if(dA.heroes){const DA={};dA.heroes.forEach((aA,TA)=>{DA[String(TA+1)]=aA}),oA[HA]={teamInfo:DA}}else if(typeof dA=="object"){const DA=Object.values(dA).some(aA=>aA&&typeof aA=="object"&&"heroId"in aA);oA[HA]={teamInfo:DA?dA:{}}}else oA[HA]={teamInfo:{}}}return{useTeamId:Number(nA)||1,teams:oA}},m=(x,U)=>{const{useTeamId:AA,teams:nA}=x,oA=(nA[AA]||{teamInfo:{}}).teamInfo,cA=[];for(const[CA,rA]of Object.entries(oA)){const HA=(rA==null?void 0:rA.heroId)||(rA==null?void 0:rA.id);if(!HA)continue;const dA=U[String(HA)]||{};cA.push({id:HA,name:G(HA),position:Number(CA),level:(rA==null?void 0:rA.level)||(dA==null?void 0:dA.level)||1,equipment:(dA==null?void 0:dA.equipment)||{}})}if(cA.length===0&&Object.keys(U).length>0){for(const[CA,rA]of Object.entries(U))if(rA&&rA.equipment&&(cA.push({id:Number(CA),name:G(Number(CA)),position:cA.length+1,level:(rA==null?void 0:rA.level)||1,equipment:(rA==null?void 0:rA.equipment)||{}}),cA.length>=5))break}return cA.sort((CA,rA)=>CA.position-rA.position)},B={101:"/team/simayi.png",102:"/team/guojia.png",103:"/team/guanyu.png",104:"/team/zhugeliang.png",105:"/team/zhouyu.png",106:"/team/taishici.png",107:"/team/lvbu.png",108:"/team/huatuo.png",109:"/team/zhenji.png",110:"/team/huangyueying.png",111:"/team/sunce.png",112:"/team/jiaxu.png",113:"/team/caoren.png",114:"/team/jiangwei.png",115:"/team/sunjian.png",116:"/team/gongsunzan.png",117:"/team/dianwei.png",118:"/team/zhaoyun.png",119:"/team/daqiao.png",120:"/team/zhangjiao.png",201:"/team/xuhuang.png",202:"/team/xunyu.png",203:"/team/xiaodianwei.png",204:"/team/zhangfei.png",205:"/team/xiaozhaoyun.png",206:"/team/pangtong.png",207:"/team/lusu.png",208:"/team/luxun.png",209:"/team/ganning.png",210:"/team/diaochan.png",211:"/team/dongzhuo.png",212:"/team/xiaozhangjiao.png",213:"/team/zhangliao.png",214:"/team/xiahoudun.png",215:"/team/xuzhu.png",216:"/team/xiahouyuan.png",217:"/team/weiyan.png",218:"/team/huangzhong.png",219:"/team/machao.png",220:"/team/madai.png",221:"/team/lvmeng.png",222:"/team/huanggai.png",223:"/team/caiwenji.png",224:"/team/xiaoqiao.png",225:"/team/yuanshao.png",226:"/team/huaxiong.png",227:"/team/yanliang.png",228:"/team/wenchou.png",301:"/team/zhoutai.png",302:"/team/xuyou.png",303:"/team/yujin.png",304:"/team/zhangxingcai.png",305:"/team/guanyinping.png",306:"/team/guanping.png",307:"/team/chengpu.png",308:"/team/zhangzhao.png",309:"/team/luji.png",310:"/team/lvlingqi.png",311:"/team/panfeng.png",312:"/team/xingdaorong.png",313:"/team/zhurongfuren.png",314:"/team/menghuo.png"},y=x=>B[x],T={101:"司马懿",102:"郭嘉",103:"关羽",104:"诸葛亮",105:"周瑜",106:"太史慈",107:"吕布",108:"华佗",109:"甄姬",110:"黄月英",111:"孙策",112:"贾诩",113:"曹仁",114:"姜维",115:"孙坚",116:"公孙瓒",117:"典韦",118:"赵云",119:"大乔",120:"张角",201:"徐晃",202:"荀彧",203:"小典韦",204:"张飞",205:"小赵云",206:"庞统",207:"鲁肃",208:"陆逊",209:"甘宁",210:"貂蝉",211:"董卓",212:"小张角",213:"张辽",214:"夏侯惇",215:"许褚",216:"夏侯渊",217:"魏延",218:"黄忠",219:"马超",220:"马岱",221:"吕蒙",222:"黄盖",223:"蔡文姬",224:"小乔",225:"袁绍",226:"华雄",227:"颜良",228:"文丑",301:"周泰",302:"许攸",303:"于禁",304:"张星彩",305:"关银屏",306:"关平",307:"程普",308:"张昭",309:"陆绩",310:"吕玲绮",311:"潘凤",312:"邢道荣",313:"祝融夫人",314:"孟获"},G=x=>T[x]||`武将${x}`,S=x=>{o.value=x,r.value=null,i.value=0;const U=k.value[String(x)]||{};E.value=(U==null?void 0:U.equipment)||{}},O=x=>{r.value=x,i.value=0;const U=E.value[x];if(U){R.value=U.quenchTimes||0;const AA=x===1?"quenchAttackExt":x===3?"quenchDefenseExt":"quenchHpExt";N.value=x===1?"攻击":x===3?"防御":"血量",_.value=U[AA]||0,K(U.quenches||{})}else R.value=0,_.value=0,D.value=[]},K=x=>{const U=[],AA=Object.keys(x).sort((nA,uA)=>Number(nA)-Number(uA));for(const nA of AA){const uA=Number(nA),oA=x[nA];U.push({id:uA,attrId:oA.attrId||null,attrNum:oA.attrNum||0,isLocked:oA.isLocked||oA.locked||!1,colorId:oA.colorId||0})}D.value=U},Y=x=>V[x]||`属性${x}`,q=async()=>{if(!b.value){Q.value="请输入密码";return}const x=e.selectedToken;if(!x){t.warning("请先选择Token");return}const U=x.id;if(e.getWebSocketStatus(U)!=="connected"){t.error("WebSocket未连接，无法验证密码");return}H.value=!0,Q.value="";try{await e.sendMessageWithPromise(U,"role_commitpassword",{password:b.value,passwordType:1}),w.value=!0,t.success("密码验证成功")}catch(nA){Q.value=`验证失败: ${nA.message}`,t.error(`密码验证失败: ${nA.message}`)}finally{H.value=!1}},j=()=>{w.value=!1,b.value="",Q.value=""},sA=async(x,U)=>{const AA=e.selectedToken;if(!AA||!o.value||!r.value){t.warning("请先选择武将和装备");return}if(!U&&!w.value){t.warning("请先验证二级密码以解锁孔位");const uA=D.value.find(oA=>oA.id===x);uA&&(uA.isLocked=!0);return}const nA=AA.id;try{await e.sendMessageWithPromise(nA,"equipment_updatequenchlock",{heroId:o.value,part:r.value,slot:x,isLocked:U});const uA=D.value.find(oA=>oA.id===x);uA&&(uA.isLocked=U),t.success(U?"孔位已锁定":"孔位已解锁")}catch(uA){t.error(`锁定孔位失败: ${uA.message}`)}},wA=async()=>{if(!o.value||!r.value){t.warning("请先选择武将和装备部位");return}await SA()},fA=()=>{if(M.value.continuousQuenching)return;if(!o.value||!r.value){t.warning("请先选择武将和装备部位");return}M.value.continuousQuenching=!0,M.value.isRunning=!0,t.info("开始连续淬炼，出现橙色或红色属性时自动暂停");const x=async()=>{if(M.value.continuousQuenching)try{const U=await SA();if(U&&WA(U)){t.success("发现橙色或红色属性，已自动暂停"),xA();return}const AA=Math.floor(Math.random()*150)+l.value;F=setTimeout(x,AA)}catch(U){t.error(`连续淬炼失败: ${U.message}`),xA()}};x()},FA=()=>{c.value.push({attrId:null,attrValue:null})},UA=x=>{if(c.value.length<=1){t.warning("至少需要保留一个条件");return}c.value.splice(x,1)},RA=()=>{if(!c.value.some(nA=>nA.attrId!==null&&nA.attrValue!==null)){t.warning("请至少设置一个有效的目标属性和数值");return}if(!o.value||!r.value){t.warning("请先选择武将和装备部位");return}M.value.autoQuenching=!0,M.value.isRunning=!0;const U=c.value.filter(nA=>nA.attrId&&nA.attrValue).map(nA=>`${Y(nA.attrId)} ≥ ${nA.attrValue}`);t.info(`开始自动淬炼，目标：${U.join(" 或 ")}`);const AA=async()=>{if(M.value.autoQuenching)try{const nA=await SA();if(nA&&YA(nA)){t.success("已达到目标条件，自动淬炼已停止"),xA();return}const uA=Math.floor(Math.random()*150)+l.value;h=setTimeout(AA,uA)}catch(nA){t.error(`自动淬炼失败: ${nA.message}`),xA()}};AA()},SA=async()=>{var nA,uA,oA,cA,CA,rA,HA,dA;const x=e.selectedToken;if(!x)return t.warning("请先选择Token"),null;const U=x.id;if(e.getWebSocketStatus(U)!=="connected")return t.error("WebSocket未连接，无法执行淬炼"),null;if(r.value===1){const DA=E.value[r.value];if((DA==null?void 0:DA.level)<4e3)return t.warning(`武器等级不足，需要4000级以上（当前${(DA==null?void 0:DA.level)||0}级）`),null}try{const DA=E.value[r.value];if(!(DA!=null&&DA.quenches))return t.error("未获取到装备孔位信息"),null;const TA=Object.values(DA.quenches).filter(EA=>EA.attrNum>50&&!EA.isLocked).length>0;let gA=0;if(TA){const EA={heroId:o.value,part:r.value,quenchId:0,quenches:DA.quenches},NA=await e.sendMessageWithPromise(U,"equipment_confirm",EA,15e3);if((nA=NA==null?void 0:NA.role)!=null&&nA.heroes){const QA=NA.role.heroes[String(o.value)];(oA=(uA=QA==null?void 0:QA.equipment)==null?void 0:uA[r.value])!=null&&oA.seed&&(gA=QA.equipment[r.value].seed,console.log("✅ 从Equipment_ConfirmResp中提取seed:",gA))}else NA!=null&&NA.seed?(gA=NA.seed,console.log("✅ 从Equipment_ConfirmResp的body中提取seed:",gA)):(cA=NA==null?void 0:NA.equipment)!=null&&cA.seed?(gA=NA.equipment.seed,console.log("✅ 从Equipment_ConfirmResp的equipment中提取seed:",gA)):console.log("❌ 未能从Equipment_ConfirmResp中提取seed，响应内容:",JSON.stringify(NA))}const lA={heroId:o.value,part:r.value,quenchId:0,quenches:DA.quenches,seed:gA,skipOrange:!1},bA=await e.sendMessageWithPromise(U,"equipment_quench",lA,15e3);i.value++;let LA=null;if(bA!=null&&bA.equipment)LA=bA.equipment;else if((CA=bA==null?void 0:bA.role)!=null&&CA.heroes){const EA=bA.role.heroes[String(o.value)];EA!=null&&EA.equipment&&(LA=EA.equipment[r.value])}else bA!=null&&bA.quenches&&(LA={...E.value[r.value],quenches:bA.quenches,quenchTimes:(E.value[r.value].quenchTimes||0)+1});if(LA){E.value[r.value]=LA,R.value=LA.quenchTimes||0;const EA=r.value===1?"quenchAttackExt":r.value===3?"quenchDefenseExt":"quenchHpExt";_.value=LA[EA]||0,LA.quenches&&K(LA.quenches)}if((rA=bA==null?void 0:bA.role)!=null&&rA.items){const EA=bA.role.items;d.value=((HA=EA[1022])==null?void 0:HA.quantity)||d.value,u.value=((dA=EA[1023])==null?void 0:dA.quantity)||u.value}return bA}catch(DA){return t.error(`淬炼失败: ${DA.message}`),null}},OA=x=>{var U;if(x!=null&&x.equipment)return x.equipment;if((U=x==null?void 0:x.role)!=null&&U.heroes){const AA=x.role.heroes[String(o.value)];if(AA!=null&&AA.equipment)return AA.equipment[r.value]}else if(x!=null&&x.quenches)return{...E.value[r.value],quenches:x.quenches,quenchTimes:(E.value[r.value].quenchTimes||0)+1};return E.value[r.value]},WA=x=>{const U=OA(x);if(!(U!=null&&U.quenches))return!1;for(const AA of Object.values(U.quenches))if(AA.colorId&&AA.colorId>=5)return!0;return!1},YA=x=>{const U=c.value.filter(uA=>uA.attrId&&uA.attrValue);if(U.length===0)return!1;const AA=OA(x);if(!(AA!=null&&AA.quenches))return!1;const nA=Object.values(AA.quenches);return U.some(uA=>nA.some(oA=>oA.attrId===uA.attrId&&oA.attrNum>=uA.attrValue))},xA=()=>{M.value.continuousQuenching=!1,M.value.autoQuenching=!1,M.value.isRunning=!1,F&&(clearTimeout(F),F=null),h&&(clearTimeout(h),h=null),t.success("淬炼已停止")},eA=()=>{i.value=0,t.success("已清零")};return(x,U)=>{const AA=Z("n-button"),nA=Z("n-checkbox"),uA=Z("n-input"),oA=Z("n-tag"),cA=Z("n-select"),CA=Z("n-input-number");return v(),pA(De,{class:"refine-helper",statusClass:{active:M.value.isRunning}},{icon:C(()=>[...U[3]||(U[3]=[s("img",{src:gi,alt:"洗练图标"},null,-1)])]),title:C(()=>[...U[4]||(U[4]=[s("h3",null,"洗练助手",-1),s("p",null,"装备洗练、锁定孔位、自动洗练",-1)])]),badge:C(()=>[s("span",null,f(M.value.isRunning?"运行中":"已停止"),1)]),default:C(()=>[s("div",I4,[s("div",H4,[p(AA,{type:"primary",size:"small",onClick:L},{default:C(()=>[...U[5]||(U[5]=[X("刷新阵容",-1)])]),_:1}),p(AA,{size:"small",onClick:eA},{default:C(()=>[...U[6]||(U[6]=[X("清零",-1)])]),_:1}),s("div",E4,[s("span",null,"白玉: "+f(d.value),1),s("span",null,"彩玉: "+f(u.value),1)])]),s("div",S4,[U[7]||(U[7]=s("h4",null,"选择武将",-1)),s("div",T4,[n.value?(v(),g("div",$4,"加载中...")):a.value.length===0?(v(),g("div",D4," 暂无武将数据 ")):tA("",!0),(v(!0),g(vA,null,yA(a.value,rA=>{var HA;return v(),g("div",{key:rA.id,class:iA(["hero-item",{active:o.value===rA.id}]),onClick:dA=>S(rA.id)},[s("div",M4,[y(rA.id)?(v(),g("img",{key:0,src:y(rA.id),alt:rA.name},null,8,K4)):(v(),g("div",O4,f(((HA=rA.name)==null?void 0:HA.substring(0,2))||"?"),1))]),s("div",x4,[s("div",P4,f(rA.name),1),s("div",R4,"Lv."+f(rA.level),1)])],10,L4)}),128))])]),o.value?(v(),g("div",V4,[U[8]||(U[8]=s("h4",null,"选择装备",-1)),s("div",N4,[(v(!0),g(vA,null,yA(z.value,rA=>(v(),g("div",{key:rA.id,class:iA(["equip-tab",{active:r.value===rA.id}]),onClick:HA=>O(rA.id)},[s("div",W4,f(rA.name),1),s("div",Y4,"Lv."+f(rA.level),1)],10,G4))),128))])])):tA("",!0),r.value?(v(),g("div",z4,[s("div",X4,[s("div",J4,[U[9]||(U[9]=s("span",{class:"stat-label"},"淬炼次数",-1)),s("span",q4,f(R.value),1)]),s("div",j4,[s("span",Z4,f(N.value),1),s("span",AH,"+"+f(_.value),1)])]),s("div",eH,[U[10]||(U[10]=s("h4",null,"孔位锁定",-1)),s("div",tH,[(v(!0),g(vA,null,yA(D.value,rA=>(v(),g("div",{key:rA.id,class:iA(["slot",{locked:rA.isLocked,[`color-${rA.colorId}`]:rA.colorId>0}])},[p(nA,{checked:rA.isLocked,"onUpdate:checked":HA=>rA.isLocked=HA,onChange:HA=>sA(rA.id,rA.isLocked)},null,8,["checked","onUpdate:checked","onChange"]),s("span",nH,"孔"+f(rA.id),1),rA.attrId?(v(),g("div",sH,[s("span",null,f(Y(rA.attrId)),1),s("span",null,"+"+f(rA.attrNum)+"%",1)])):(v(),g("div",aH,"未淬炼"))],2))),128))])]),s("div",rH,[w.value?(v(),g("div",iH,[p(oA,{type:"success",size:"small"},{default:C(()=>[...U[13]||(U[13]=[X("密码已验证",-1)])]),_:1}),p(AA,{type:"warning",size:"small",onClick:j},{default:C(()=>[...U[14]||(U[14]=[X(" 重新验证 ",-1)])]),_:1})])):(v(),g("div",oH,[U[12]||(U[12]=s("span",{class:"password-label"},"解锁二级密码：",-1)),p(uA,{value:b.value,"onUpdate:value":U[0]||(U[0]=rA=>b.value=rA),type:"password",placeholder:"请输入二级密码",size:"small",style:{width:"150px"},onInput:U[1]||(U[1]=rA=>Q.value="")},null,8,["value"]),p(AA,{type:"primary",size:"small",onClick:q,loading:H.value},{default:C(()=>[...U[11]||(U[11]=[X(" 验证 ",-1)])]),_:1},8,["loading"]),Q.value?(v(),g("span",lH,f(Q.value),1)):tA("",!0)]))]),s("div",uH,[p(AA,{type:"primary",size:"small",disabled:M.value.isRunning,onClick:wA},{default:C(()=>[...U[15]||(U[15]=[X(" 淬炼一次 ",-1)])]),_:1},8,["disabled"]),p(AA,{type:"success",size:"small",disabled:M.value.isRunning,onClick:fA},{default:C(()=>[...U[16]||(U[16]=[X(" 连续淬炼 ",-1)])]),_:1},8,["disabled"]),p(AA,{type:"warning",size:"small",disabled:M.value.isRunning,onClick:RA},{default:C(()=>[...U[17]||(U[17]=[X(" 自动淬炼 ",-1)])]),_:1},8,["disabled"]),p(AA,{type:"error",size:"small",disabled:!M.value.isRunning,onClick:xA},{default:C(()=>[...U[18]||(U[18]=[X(" 停止 ",-1)])]),_:1},8,["disabled"]),s("div",cH,[U[19]||(U[19]=X(" 已淬炼: ",-1)),s("strong",null,f(i.value),1)])]),s("div",dH,[U[25]||(U[25]=s("h4",null,"自动淬炼设置",-1)),s("div",vH,[(v(!0),g(vA,null,yA(c.value,(rA,HA)=>(v(),g("div",{key:HA,class:"condition-item"},[s("div",fH,[s("div",gH,[U[20]||(U[20]=s("span",{class:"form-label"},"属性",-1)),p(cA,{value:rA.attrId,"onUpdate:value":dA=>rA.attrId=dA,options:J.value,placeholder:"选择属性",size:"small",style:{width:"120px"}},null,8,["value","onUpdate:value","options"])]),s("div",BH,[U[21]||(U[21]=s("span",{class:"form-label"},"≥",-1)),p(CA,{value:rA.attrValue,"onUpdate:value":dA=>rA.attrValue=dA,min:1,max:100,size:"small",style:{width:"80px"}},null,8,["value","onUpdate:value"])]),s("div",pH,[p(AA,{type:"error",size:"small",onClick:dA=>UA(HA),disabled:c.value.length<=1},{default:C(()=>[...U[22]||(U[22]=[X(" 删除 ",-1)])]),_:1},8,["onClick","disabled"])])])]))),128))]),s("div",mH,[p(AA,{type:"primary",size:"small",onClick:FA},{default:C(()=>[...U[23]||(U[23]=[X(" + 添加条件 ",-1)])]),_:1})]),s("div",hH,[s("div",wH,[U[24]||(U[24]=s("span",{class:"form-label"},"延迟(ms)",-1)),p(CA,{value:l.value,"onUpdate:value":U[2]||(U[2]=rA=>l.value=rA),min:0,step:100,size:"small",style:{width:"100px"}},null,8,["value"])])])])])):tA("",!0)])]),_:1},8,["statusClass"])}}},QH=Ae(CH,[["__scopeId","data-v-5557f460"]]),yH={class:"status-card tower-status"},bH={class:"card-header"},FH={class:"energy-display"},UH={class:"energy-count"},_H={class:"card-content"},kH={class:"tower-floor"},IH={class:"floor-number"},HH={class:"card-actions"},EH=["disabled"],SH={__name:"TowerStatus",setup(A){let e=!1;const t=()=>{e=!0,r.value&&(clearTimeout(r.value),r.value=null),o.value=!1,a.info("已手动停止批量爬塔")},n=qA(),a=ZA(),o=W(!1),r=W(null);W(null);const i=I(()=>{var H;return((H=n.gameData)==null?void 0:H.roleInfo)||null}),l=I(()=>{var h,V;const Q=(V=(h=i.value)==null?void 0:h.role)==null?void 0:V.tower;if(!Q||!Q.id&&Q.id!==0)return"0 - 0";const H=Q.id,M=Math.floor(H/10)+1,F=H%10+1;return`${M} - ${F}`}),c=I(()=>{var M,F;const Q=(F=(M=i.value)==null?void 0:M.role)==null?void 0:F.tower;return(Q==null?void 0:Q.energy)||0}),d=I(()=>{const Q=c.value>0,H=!o.value;return Q&&H}),u=async()=>{var M,F;if(!n.selectedToken){a.warning("请先选择Token");return}if(!d.value){a.warning("体力不足或正在爬塔中");return}r.value&&(clearTimeout(r.value),r.value=null),o.value=!0,e=!1;let Q=0,H=100;r.value=setTimeout(()=>{o.value=!1,r.value=null,e=!0,a.info("批量爬塔已超时自动停止")},6e4);try{const h=n.selectedToken.id;for(let V=0;V<H&&!e;V++){await b();const P=(F=(M=i.value)==null?void 0:M.role)==null?void 0:F.tower;if(((P==null?void 0:P.energy)||0)<=0)break;await n.sendMessageWithPromise(h,"fight_starttower",{},1e4),Q++,a.success(`第${Q}次爬塔命令已发送`),await new Promise(E=>setTimeout(E,2e3))}a.success(`已自动爬塔${Q}次，体力已耗尽或达到上限。`)}catch(h){a.error("批量爬塔失败: "+(h.message||"未知错误"))}r.value&&(clearTimeout(r.value),r.value=null),o.value=!1},b=async()=>{if(n.selectedToken)try{const Q=n.selectedToken.id;if(n.getWebSocketStatus(Q)!=="connected")return;const M=n.sendMessage(Q,"role_getroleinfo"),F=n.sendMessage(Q,"tower_getinfo")}catch{}},w=I(()=>n.selectedToken?n.getWebSocketStatus(n.selectedToken.id):"disconnected");return jA(w,(Q,H)=>{Q==="connected"&&H!=="connected"&&setTimeout(()=>{b()},1e3)}),jA(()=>n.selectedToken,(Q,H)=>{Q&&Q.id!==(H==null?void 0:H.id)&&n.getWebSocketStatus(Q.id)==="connected"&&b()}),jA(()=>n.gameData.towerResult,(Q,H)=>{Q&&Q.timestamp!==(H==null?void 0:H.timestamp)&&(Q.success?(a.success("咸将塔挑战成功！"),Q.autoReward&&setTimeout(()=>{a.success(`自动领取第${Q.rewardFloor}层奖励`)},1e3)):a.error("咸将塔挑战失败"),e||setTimeout(()=>{r.value&&(clearTimeout(r.value),r.value=null),o.value=!1},2e3))},{deep:!0}),ae(()=>{n.selectedToken&&n.getWebSocketClient(n.selectedToken.id),n.selectedToken&&w.value==="connected"&&b()}),(Q,H)=>(v(),g("div",yH,[s("div",bH,[H[1]||(H[1]=s("img",{src:zQ,alt:"爬塔图标",class:"status-icon"},null,-1)),H[2]||(H[2]=s("div",{class:"status-info"},[s("h3",null,"咸将塔"),s("p",null,"一个不小心就过了")],-1)),s("div",FH,[H[0]||(H[0]=s("img",{src:Ko,alt:"小鱼干",class:"energy-icon"},null,-1)),s("span",UH,f(c.value),1)])]),s("div",_H,[s("div",kH,[H[3]||(H[3]=s("span",{class:"label"},"当前层数",-1)),s("span",IH,f(l.value),1)])]),s("div",HH,[s("button",{class:iA(["climb-button",{active:d.value,disabled:!d.value}]),disabled:!d.value,onClick:u},f(o.value.value?"爬塔中...":"开始爬塔"),11,EH),s("button",{class:"stop-button",onClick:t},"停止爬塔"),tA("",!0)])]))}},TH=Ae(SH,[["__scopeId","data-v-b4ce1553"]]),$H={class:"status-card tower-status weird-tower"},DH={class:"card-header"},LH={class:"energy-display"},MH={class:"energy-count"},KH={class:"card-content"},OH={class:"tower-floor"},xH={class:"floor-number"},PH={class:"card-actions"},RH=["disabled"],VH={__name:"WeirdTowerStatus",setup(A){let e=!1;const t=()=>{e=!0,r.value&&(clearTimeout(r.value),r.value=null),o.value=!1,a.info("已手动停止批量爬塔")},n=qA(),a=ZA(),o=W(!1),r=W(null);W(null);const i=I(()=>{var V;return((V=n.gameData)==null?void 0:V.evoTowerInfo)||null}),l=I(()=>{var h;return((h=i.value)==null?void 0:h.evoTower)||null}),c=I(()=>{var h;return((h=l.value)==null?void 0:h.towerId)||0}),d=I(()=>{const h=c.value;if(h===0)return"1-1";{const V=Math.floor(h/10)+1,P=h%10+1;return`${V}-${P}`}}),u=I(()=>{var h;return((h=l.value)==null?void 0:h.energy)||0}),b=I(()=>{const h=u.value>0,V=!o.value;return h&&V}),w=I(()=>{const h=new Date,V=new Date("2025-12-12T12:00:00"),P=7*24*60*60*1e3,k=3*P,E=h-V;if(E<0)return null;const D=E%k;return D<P?"黑市周":D<2*P?"招募周":"宝箱周"}),Q=I(()=>w.value==="黑市周"),H=async()=>{if(!n.selectedToken){a.warning("请先选择Token");return}if(!Q.value){a.warning("怪异塔活动未开始或已结束");return}if(!b.value){a.warning("体力不足或正在爬塔中");return}r.value&&(clearTimeout(r.value),r.value=null),o.value=!0,e=!1;let h=0,V=100;r.value=setTimeout(()=>{o.value=!1,r.value=null,e=!0,a.info("批量爬塔已超时自动停止")},6e4);try{const P=n.selectedToken.id;for(let E=0;E<V&&!(e||(await M(),u.value<=0));E++){await n.sendMessageWithPromise(P,"evotower_readyfight",{},5e3);const R=await n.sendMessageWithPromise(P,"evotower_fight",{battleNum:1,winNum:1},1e4);h++,a.success(`第${h}次爬塔命令已发送`),await M();const N=c.value,_=N%10+1;R&&R.winList&&R.winList[0]===!0&&_===1&&(await n.sendMessageWithPromise(P,"evotower_claimreward",{},5e3),a.success(`成功领取第${Math.floor(N/10)}章通关奖励！`)),await new Promise(J=>setTimeout(J,400))}const k=await n.sendMessageWithPromise(P,"mergebox_getinfo",{actType:1},5e3);k&&k.mergeBox.freeEnergy>0&&(await n.sendMessageWithPromise(P,"mergebox_claimfreeenergy",{actType:1},5e3),a.success(`成功领取免费道具${k.mergeBox.freeEnergy}个！`)),await new Promise(E=>setTimeout(E,500)),a.success(`已自动爬塔${h}次，体力已耗尽或达到上限。`)}catch(P){a.error("批量爬塔失败: "+(P.message||"未知错误"))}r.value&&(clearTimeout(r.value),r.value=null),o.value=!1},M=async()=>{if(n.selectedToken)try{const h=n.selectedToken.id;if(n.getWebSocketStatus(h)!=="connected")return;await n.sendMessageWithPromise(h,"evotower_getinfo",{},5e3),await n.sendMessage(h,"role_getroleinfo")}catch{}},F=I(()=>n.selectedToken?n.getWebSocketStatus(n.selectedToken.id):"disconnected");return jA(F,(h,V)=>{h==="connected"&&V!=="connected"&&setTimeout(()=>{M()},1e3)}),jA(()=>n.selectedToken,(h,V)=>{h&&h.id!==(V==null?void 0:V.id)&&n.getWebSocketStatus(h.id)==="connected"&&M()}),ae(()=>{n.selectedToken&&n.getWebSocketClient(n.selectedToken.id),n.selectedToken&&F.value==="connected"&&M()}),(h,V)=>(v(),g("div",$H,[s("div",DH,[V[1]||(V[1]=s("img",{src:er,alt:"怪异塔图标",class:"status-icon"},null,-1)),V[2]||(V[2]=s("div",{class:"status-info"},[s("h3",null,"怪异塔"),s("p",null,"一个不小心就过了")],-1)),s("div",LH,[V[0]||(V[0]=s("img",{src:Ko,alt:"小鱼干",class:"energy-icon"},null,-1)),s("span",MH,f(u.value),1)])]),s("div",KH,[s("div",OH,[V[3]||(V[3]=s("span",{class:"label"},"当前层数",-1)),s("span",xH,f(d.value),1)])]),s("div",PH,[s("button",{class:iA(["climb-button",{active:b.value,disabled:!b.value}]),disabled:!b.value,onClick:H},f(o.value.value?"爬塔中...":"开始爬塔"),11,RH),s("button",{class:"stop-button",onClick:t},"停止爬塔")])]))}},NH=Ae(VH,[["__scopeId","data-v-9eaebff5"]]),GH={class:"time-display"},WH={__name:"BossTower",setup(A){const e=qA(),t=ZA();I(()=>{var l;return((l=e.gameData)==null?void 0:l.roleInfo)||null});const n=new Date().getDay(),a=I(()=>{var c;return((c=e.gameData)==null?void 0:c.bossTowerInfo)||null}),o=I(()=>{var c;const l=(c=a.value)==null?void 0:c.bossTower;return(l==null?void 0:l.towerId)??1}),r=W({isRunning:!1}),i=async()=>{if(!e.selectedToken)return t.warning("请先选择Token");const l=e.selectedToken.id;if(r.value.isRunning=!0,n!=1&&n!=2)if(o===1||o===2||o===3)try{r.value.isExtending=!0,t.info("正在战斗...");for(let c=0;c<2;c++)e.sendMessage(l,"bosstower_startboss",{});for(let c=0;c<9;c++)e.sendMessage(l,"bosstower_startbox",{});await e.sendMessageWithPromise(l,"bosstower_getinfo",{},1e4),t.success("战斗已完成，请上线手动领取奖励")}catch(c){t.error("战斗失败: "+((c==null?void 0:c.message)||"未知错误"))}else if(o===4||o===5)try{r.value.isExtending=!0,t.info("正在战斗...");for(let c=0;c<2;c++)e.sendMessage(l,"bosstower_startboss",{});await e.sendMessageWithPromise(l,"bosstower_getinfo",{},1e4),t.success("战斗已完成")}catch(c){t.error("战斗失败: "+((c==null?void 0:c.message)||"未知错误"))}else t.error("当前层数暂不支持");else t.error("未到活动开放时间");r.value.isRunning=!1};return(l,c)=>{const d=Ke;return v(),pA(De,{class:"hang-up",statusClass:{active:r.value.isRunning}},{icon:C(()=>[...c[0]||(c[0]=[s("img",{src:Kt,alt:"宝库图标"},null,-1)])]),title:C(()=>[...c[1]||(c[1]=[s("h3",null,"咸王功能",-1)])]),default:C(()=>[s("div",GH,"宝库当前层数："+f(o.value),1)]),action:C(()=>[p(d,{type:"primary",secondary:"",size:"small",block:"",onClick:i},{default:C(()=>[...c[2]||(c[2]=[X("宝库战斗",-1)])]),_:1})]),_:1},8,["statusClass"])}}},YH=Ae(WH,[["__scopeId","data-v-a32474df"]]),zH={key:0,class:"inline-wrapper"},XH={class:"inline-header"},JH={class:"header-actions"},qH={class:"header-actions"},jH={class:"battle-records-content"},ZH={key:0,class:"loading-state"},AE={class:"battle-header"},eE={class:"club-info"},tE={class:"club-side own"},nE=["src","alt"],sE={class:"club-name"},aE={class:"club-id"},rE={class:"club-power"},oE={class:"club-side opponent"},lE=["src","alt"],iE={class:"club-name"},uE={class:"club-id"},cE={class:"club-power"},dE={class:"overall-stats"},vE={class:"stats-side own"},fE={class:"stats-grid"},gE={class:"stat-item stat-kills"},BE={class:"stat-value"},pE={class:"stat-item stat-revives"},mE={class:"stat-value"},hE={class:"stat-item stat-kd"},wE={class:"stat-value"},CE={class:"stats-side opponent"},QE={class:"stats-grid"},yE={class:"stat-item stat-kills"},bE={class:"stat-value"},FE={class:"stat-item stat-revives"},UE={class:"stat-value"},_E={class:"stat-item stat-kd"},kE={class:"stat-value"},IE={class:"battle-rankings"},HE={class:"ranking-card"},EE={class:"ranking-content"},SE={class:"ranking-side own"},TE={class:"rank-number"},$E=["src","alt"],DE={key:1,class:"player-avatar-placeholder"},LE={class:"player-name"},ME={class:"player-value"},KE={class:"ranking-side opponent"},OE={class:"rank-number"},xE=["src","alt"],PE={key:1,class:"player-avatar-placeholder"},RE={class:"player-name"},VE={class:"player-value"},NE={class:"ranking-card"},GE={class:"ranking-content"},WE={class:"ranking-side own"},YE={class:"rank-number"},zE=["src","alt"],XE={key:1,class:"player-avatar-placeholder"},JE={class:"player-name"},qE={class:"player-value"},jE={class:"ranking-side opponent"},ZE={class:"rank-number"},AS=["src","alt"],eS={key:1,class:"player-avatar-placeholder"},tS={class:"player-name"},nS={class:"player-value"},sS={class:"ranking-card"},aS={class:"ranking-content"},rS={class:"ranking-side own"},oS={class:"rank-number"},lS=["src","alt"],iS={key:1,class:"player-avatar-placeholder"},uS={class:"player-name"},cS={class:"player-value"},dS={class:"ranking-side opponent"},vS={class:"rank-number"},fS=["src","alt"],gS={key:1,class:"player-avatar-placeholder"},BS={class:"player-name"},pS={class:"player-value"},mS={class:"god-rankings"},hS={class:"god-ranking own"},wS={class:"god-ranking-content"},CS={class:"god-rank-number"},QS={class:"player-avatar-cell"},yS=["src","alt"],bS={key:1,class:"player-avatar-placeholder"},FS={class:"header-player"},US={class:"player-stat"},_S={class:"player-stat"},kS={class:"player-stat"},IS={class:"player-stat"},HS={class:"player-stat"},ES={class:"god-ranking opponent"},SS={class:"god-ranking-content"},TS={class:"god-rank-number"},$S={class:"player-avatar-cell"},DS=["src","alt"],LS={key:1,class:"player-avatar-placeholder"},MS={class:"header-player"},KS={class:"player-stat"},OS={class:"player-stat"},xS={class:"player-stat"},PS={class:"player-stat"},RS={class:"player-stat"},VS={key:2,class:"empty-state"},NS={class:"header-actions"},GS={class:"battle-records-content"},WS={key:0,class:"loading-state"},YS={class:"battle-header"},zS={class:"club-info"},XS={class:"club-side own"},JS=["src","alt"],qS={class:"club-name"},jS={class:"club-id"},ZS={class:"club-power"},AT={class:"club-side opponent"},eT=["src","alt"],tT={class:"club-name"},nT={class:"club-id"},sT={class:"club-power"},aT={class:"overall-stats"},rT={class:"stats-side own"},oT={class:"stats-grid"},lT={class:"stat-item stat-kills"},iT={class:"stat-value"},uT={class:"stat-item stat-revives"},cT={class:"stat-value"},dT={class:"stat-item stat-kd"},vT={class:"stat-value"},fT={class:"stats-side opponent"},gT={class:"stats-grid"},BT={class:"stat-item stat-kills"},pT={class:"stat-value"},mT={class:"stat-item stat-revives"},hT={class:"stat-value"},wT={class:"stat-item stat-kd"},CT={class:"stat-value"},QT={class:"battle-rankings"},yT={class:"ranking-card"},bT={class:"ranking-content"},FT={class:"ranking-side own"},UT={class:"rank-number"},_T=["src","alt"],kT={key:1,class:"player-avatar-placeholder"},IT={class:"player-name"},HT={class:"player-value"},ET={class:"ranking-side opponent"},ST={class:"rank-number"},TT=["src","alt"],$T={key:1,class:"player-avatar-placeholder"},DT={class:"player-name"},LT={class:"player-value"},MT={class:"ranking-card"},KT={class:"ranking-content"},OT={class:"ranking-side own"},xT={class:"rank-number"},PT=["src","alt"],RT={key:1,class:"player-avatar-placeholder"},VT={class:"player-name"},NT={class:"player-value"},GT={class:"ranking-side opponent"},WT={class:"rank-number"},YT=["src","alt"],zT={key:1,class:"player-avatar-placeholder"},XT={class:"player-name"},JT={class:"player-value"},qT={class:"ranking-card"},jT={class:"ranking-content"},ZT={class:"ranking-side own"},A3={class:"rank-number"},e3=["src","alt"],t3={key:1,class:"player-avatar-placeholder"},n3={class:"player-name"},s3={class:"player-value"},a3={class:"ranking-side opponent"},r3={class:"rank-number"},o3=["src","alt"],l3={key:1,class:"player-avatar-placeholder"},i3={class:"player-name"},u3={class:"player-value"},c3={class:"god-rankings"},d3={class:"god-ranking own"},v3={class:"god-ranking-content"},f3={class:"god-rank-number"},g3={class:"player-avatar-cell"},B3=["src","alt"],p3={key:1,class:"player-avatar-placeholder"},m3={class:"header-player"},h3={class:"player-stat"},w3={class:"player-stat"},C3={class:"player-stat"},Q3={class:"player-stat"},y3={class:"player-stat"},b3={class:"god-ranking opponent"},F3={class:"god-ranking-content"},U3={class:"god-rank-number"},_3={class:"player-avatar-cell"},k3=["src","alt"],I3={key:1,class:"player-avatar-placeholder"},H3={class:"header-player"},E3={class:"player-stat"},S3={class:"player-stat"},T3={class:"player-stat"},$3={class:"player-stat"},D3={class:"player-stat"},L3={key:2,class:"empty-state"},M3={__name:"PeachBattleRecords",props:{visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},emits:["update:visible"],setup(A,{expose:e,emit:t}){const n=A;W(["1"]);const a=W(null),o=t,r=ZA(),i=qA(),l=I(()=>{var N;return((N=i.gameData)==null?void 0:N.legionInfo)||null});I(()=>{var N;return((N=l.value)==null?void 0:N.info)||null});const c=I({get:()=>n.visible,set:N=>o("update:visible",N)}),d=W(!1),u=W(null),b=W(new Set),w=W("");W({isRegistered:!1});const Q=N=>N?N>=1e8?(N/1e8).toFixed(2)+"亿":N>=1e4?(N/1e4).toFixed(2)+"万":N.toString():"0",H=N=>{if(!N)return"";const _=N.split("/");if(_.length!==3)return N;const[J,z,L]=_;return J.slice(2)+z+L},M=()=>{const N=new Date,_=N.getDay();let J=0;_===0?J=0:J=_;const z=new Date(N);z.setDate(N.getDate()-J);const L=z.getFullYear(),$=String(z.getMonth()+1).padStart(2,"0"),m=String(z.getDate()).padStart(2,"0");return`${L}/${$}/${m}`},F=N=>{N.target.style.display="none"},h=N=>N.getDay()!=0||N>Date.now(),V=N=>{N!=null?w.value=N:w.value=M(),P()},P=async()=>{var J,z,L,$,m,B,y,T,G,S,O,K,Y,q;if(!i.selectedToken){r.warning("请先选择游戏角色");return}const N=i.selectedToken.id;if(i.getWebSocketStatus(N)!=="connected"){r.error("WebSocket未连接，无法查询战绩");return}d.value=!0;try{const j=await i.sendMessageWithPromise(N,"legion_getpayloadtask",{},1e4);if(!j){r.error("未获取到对战俱乐部");return}const sA=j.firstLegionId,wA=await i.sendMessageWithPromise(N,"legion_getpayloadrecord",{},1e4);if(!wA){r.error("未获取到对战俱乐部");return}const fA=wA.enemyLegionMap[H(w.value)].id;if(!sA||!fA){r.error("未获取到对战俱乐部ID");return}const FA=await i.sendMessageWithPromise(N,"legion_getinfobyid",{legionId:sA},1e4),UA=await i.sendMessageWithPromise(N,"legion_getinfobyid",{legionId:fA},1e4),RA=await i.sendMessageWithPromise(N,"legion_getpayloadkillrecord",{date:H(w.value)},1e4);if(!RA){r.error("未获取到对战俱乐部战绩");return}const SA=RA.recordsMap&&RA.recordsMap[Number(sA)]?[...RA.recordsMap[Number(sA)]]:[],OA=RA.recordsMap&&RA.recordsMap[Number(fA)]?[...RA.recordsMap[Number(fA)]]:[],WA=lA=>{const bA=lA.killCnt||0,LA=lA.reviveCnt||0;return LA>0?parseFloat((bA/LA).toFixed(2)):0},YA=SA.map(lA=>({...lA,kd:WA(lA)})),xA=OA.map(lA=>({...lA,kd:WA(lA)})),eA=[...YA].sort((lA,bA)=>(bA.killCnt||0)-(lA.killCnt||0)).slice(0,3),x=[...YA].sort((lA,bA)=>bA.kd-lA.kd).slice(0,3),U=[...YA].sort((lA,bA)=>(bA.reviveCnt||0)-(lA.reviveCnt||0)).slice(0,3),AA=[...YA].sort((lA,bA)=>(bA.killCnt||0)-(lA.killCnt||0)),nA=[...xA].sort((lA,bA)=>(bA.killCnt||0)-(lA.killCnt||0)).slice(0,3),uA=[...xA].sort((lA,bA)=>bA.kd-lA.kd).slice(0,3),oA=[...xA].sort((lA,bA)=>(bA.reviveCnt||0)-(lA.reviveCnt||0)).slice(0,3),cA=[...xA].sort((lA,bA)=>(bA.killCnt||0)-(lA.killCnt||0)),CA=YA.reduce((lA,bA)=>lA+(bA.killCnt||0),0),rA=YA.reduce((lA,bA)=>lA+(bA.reviveCnt||0),0),HA=rA>0?parseFloat((CA/rA).toFixed(2)):0,dA=YA.reduce((lA,bA)=>lA+(bA.roleInfo.power||0),0),DA=xA.reduce((lA,bA)=>lA+(bA.killCnt||0),0),aA=xA.reduce((lA,bA)=>lA+(bA.reviveCnt||0),0),TA=aA>0?parseFloat((DA/aA).toFixed(2)):0,gA=xA.reduce((lA,bA)=>lA+(bA.roleInfo.power||0),0);u.value={ownClub:{id:sA,name:((J=FA==null?void 0:FA.legionData)==null?void 0:J.name)||"我方俱乐部",level:((z=FA==null?void 0:FA.legionData)==null?void 0:z.level)||0,power:((L=FA==null?void 0:FA.legionData)==null?void 0:L.power)||0,serverId:(($=FA==null?void 0:FA.legionData)==null?void 0:$.serverId)||"",logo:((m=FA==null?void 0:FA.legionData)==null?void 0:m.logo)||"",quenchNum:((B=FA==null?void 0:FA.legionData)==null?void 0:B.quenchNum)||0,announcement:((y=FA==null?void 0:FA.legionData)==null?void 0:y.announcement)||"",memberCount:YA.length,totalPower:dA,totalKills:CA,totalRevives:rA,totalKD:HA,killRank:eA,kdRank:x,reviveRank:U,godRank:AA},opponentClub:{id:fA,name:((T=UA==null?void 0:UA.legionData)==null?void 0:T.name)||"敌方俱乐部",level:((G=UA==null?void 0:UA.legionData)==null?void 0:G.level)||0,power:((S=UA==null?void 0:UA.legionData)==null?void 0:S.power)||0,serverId:((O=UA==null?void 0:UA.legionData)==null?void 0:O.serverId)||"",logo:((K=UA==null?void 0:UA.legionData)==null?void 0:K.logo)||"",quenchNum:((Y=UA==null?void 0:UA.legionData)==null?void 0:Y.quenchNum)||0,announcement:((q=UA==null?void 0:UA.legionData)==null?void 0:q.announcement)||"",memberCount:xA.length,totalPower:gA,totalKills:DA,totalRevives:aA,totalKD:TA,killRank:nA,kdRank:uA,reviveRank:oA,godRank:cA}},r.success("战绩加载成功")}catch(j){console.error("查询战绩失败:",j),r.error(`查询失败: ${j.message}`),u.value=null}finally{d.value=!1}},k=()=>{P()},E=async()=>{if(!u.value){r.warning("没有可导出的数据");return}try{D(),r.success("导出成功")}catch(N){console.error("导出失败:",N),r.error("导出失败，请重试")}},D=async()=>{if(!a.value){alert("未找到要导出的DOM元素");return}try{const N=a.value.querySelectorAll(".god-ranking-content"),_=[];N.forEach($=>{_.push({element:$,maxHeight:$.style.maxHeight,overflow:$.style.overflow}),$.style.maxHeight="none",$.style.overflow="visible"});const J=await dt(a.value,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1});_.forEach(({element:$,maxHeight:m,overflow:B})=>{$.style.maxHeight=m,$.style.overflow=B});const z=J.toDataURL("image/png"),L=document.createElement("a");L.href=z,L.download=w.value.replace("/","年").replace("/","月")+"日蟠桃园战报.png",document.body.appendChild(L),L.click(),document.body.removeChild(L)}catch(N){console.error("DOM转图片失败：",N),alert("导出图片失败，请重试")}},R=()=>{b.value.clear()};return e({fetchBattleRecords:P}),ae(()=>{n.inline&&(w.value=M(),P())}),(N,_)=>{const J=ar,z=Z("n-icon"),L=Z("n-button"),$=Z("n-spin"),m=Z("n-empty"),B=Z("n-modal");return v(),g("div",null,[A.inline?(v(),g("div",zH,[s("div",XH,[_[5]||(_[5]=s("div",{class:"inline-title"},"蟠桃园战绩",-1)),s("div",JH,[p(J,{value:w.value,"onUpdate:value":_[0]||(_[0]=y=>w.value=y),onChange:V,valueFormat:"YYYY/MM/DD","disabled-date":h},null,8,["value"]),p(L,{size:"small",disabled:d.value,onClick:k},{icon:C(()=>[p(z,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[_[3]||(_[3]=X(" 刷新 ",-1))]),_:1},8,["disabled"])]),s("div",qH,[p(L,{type:"primary",size:"small",disabled:!u.value||d.value,onClick:E},{icon:C(()=>[p(z,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[_[4]||(_[4]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),s("div",jH,[d.value?(v(),g("div",ZH,[p($,{size:"large"},{description:C(()=>[..._[6]||(_[6]=[X("正在加载战绩数据...",-1)])]),_:1})])):u.value&&u.value.ownClub&&u.value.opponentClub?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",AE,[s("h2",null,f(w.value)+" "+f(u.value.ownClub.name)+" VS "+f(u.value.opponentClub.name)+" 蟠桃大会对战战绩",1),s("div",eE,[s("div",tE,[u.value.ownClub.logo?(v(),g("img",{key:0,src:u.value.ownClub.logo,alt:u.value.ownClub.name,class:"club-logo"},null,8,nE)):tA("",!0),s("div",sE,f(u.value.ownClub.serverId)+"服 "+f(u.value.ownClub.name),1),s("div",aE,"ID: "+f(u.value.ownClub.id),1),s("div",rE,f(u.value.ownClub.memberCount)+"人 | "+f(Q(u.value.ownClub.totalPower)),1)]),_[7]||(_[7]=s("div",{class:"vs"},"VS",-1)),s("div",oE,[u.value.opponentClub.logo?(v(),g("img",{key:0,src:u.value.opponentClub.logo,alt:u.value.opponentClub.name,class:"club-logo"},null,8,lE)):tA("",!0),s("div",iE,f(u.value.opponentClub.serverId)+"服 "+f(u.value.opponentClub.name),1),s("div",uE,"ID: "+f(u.value.opponentClub.id),1),s("div",cE,f(u.value.opponentClub.memberCount)+"人 | "+f(Q(u.value.opponentClub.totalPower)),1)])])]),s("div",dE,[s("div",vE,[_[11]||(_[11]=s("div",{class:"stats-title"},"我方总体数据",-1)),s("div",fE,[s("div",gE,[_[8]||(_[8]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",BE,f(u.value.ownClub.totalKills||0),1)]),s("div",pE,[_[9]||(_[9]=s("div",{class:"stat-label"},"总复活",-1)),s("div",mE,f(u.value.ownClub.totalRevives||0),1)]),s("div",hE,[_[10]||(_[10]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",wE,f(u.value.ownClub.totalKD||0),1)])])]),s("div",CE,[_[15]||(_[15]=s("div",{class:"stats-title"},"敌方总体数据",-1)),s("div",QE,[s("div",yE,[_[12]||(_[12]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",bE,f(u.value.opponentClub.totalKills||0),1)]),s("div",FE,[_[13]||(_[13]=s("div",{class:"stat-label"},"总复活",-1)),s("div",UE,f(u.value.opponentClub.totalRevives||0),1)]),s("div",_E,[_[14]||(_[14]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",kE,f(u.value.opponentClub.totalKD||0),1)])])])]),s("div",IE,[s("div",HE,[_[18]||(_[18]=s("div",{class:"ranking-title"},"击杀榜",-1)),s("div",EE,[s("div",SE,[_[16]||(_[16]=s("div",{class:"ranking-subtitle"},"我方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.ownClub.killRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",TE,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,$E)):(v(),g("div",DE,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",LE,f(y.roleInfo.name),1),s("span",ME,f(y.killCnt||0),1)])}),128))]),s("div",KE,[_[17]||(_[17]=s("div",{class:"ranking-subtitle"},"敌方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.killRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",OE,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,xE)):(v(),g("div",PE,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",RE,f(y.roleInfo.name),1),s("span",VE,f(y.killCnt||0),1)])}),128))])])]),s("div",NE,[_[21]||(_[21]=s("div",{class:"ranking-title"},"K/D榜",-1)),s("div",GE,[s("div",WE,[_[19]||(_[19]=s("div",{class:"ranking-subtitle"},"我方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.ownClub.kdRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",YE,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,zE)):(v(),g("div",XE,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",JE,f(y.roleInfo.name),1),s("span",qE,f(y.kd||0),1)])}),128))]),s("div",jE,[_[20]||(_[20]=s("div",{class:"ranking-subtitle"},"敌方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.kdRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",ZE,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,AS)):(v(),g("div",eS,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",tS,f(y.roleInfo.name),1),s("span",nS,f(y.kd||0),1)])}),128))])])]),s("div",sS,[_[24]||(_[24]=s("div",{class:"ranking-title"},"复活榜",-1)),s("div",aS,[s("div",rS,[_[22]||(_[22]=s("div",{class:"ranking-subtitle"},"我方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.ownClub.reviveRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",oS,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,lS)):(v(),g("div",iS,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",uS,f(y.roleInfo.name),1),s("span",cS,f(y.reviveCnt||0),1)])}),128))]),s("div",dS,[_[23]||(_[23]=s("div",{class:"ranking-subtitle"},"敌方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.reviveRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",vS,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,fS)):(v(),g("div",gS,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",BS,f(y.roleInfo.name),1),s("span",pS,f(y.reviveCnt||0),1)])}),128))])])])]),s("div",mS,[s("div",hS,[_[26]||(_[26]=s("div",{class:"god-ranking-title"},"我方战神榜",-1)),s("div",wS,[_[25]||(_[25]=yn('<div class="god-ranking-header" data-v-6fd67aac><div class="god-rank-number" data-v-6fd67aac>排名</div><div class="header-avatar" data-v-6fd67aac></div><div class="header-player" data-v-6fd67aac>玩家</div><div class="header-stat" data-v-6fd67aac>击杀</div><div class="header-stat" data-v-6fd67aac>连杀</div><div class="header-stat" data-v-6fd67aac>抢船</div><div class="header-stat" data-v-6fd67aac>复活</div><div class="header-stat" data-v-6fd67aac>K/D</div></div>',1)),(v(!0),g(vA,null,yA(u.value.ownClub.godRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"god-ranking-item"},[s("div",CS,f(T+1),1),s("div",QS,[y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,yS)):(v(),g("div",bS,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1))]),s("span",FS,f(y.roleInfo.name),1),s("span",US,f(y.killCnt||0),1),s("span",_S,f(y.mCKCnt||0),1),s("span",kS,f(y.carCnt||0),1),s("span",IS,f(y.reviveCnt||0),1),s("span",HS,f(y.kd||0),1)])}),128))])]),s("div",ES,[_[28]||(_[28]=s("div",{class:"god-ranking-title"},"敌方战神榜",-1)),s("div",SS,[_[27]||(_[27]=yn('<div class="god-ranking-header" data-v-6fd67aac><div class="god-rank-number" data-v-6fd67aac>排名</div><div class="header-avatar" data-v-6fd67aac></div><div class="header-player" data-v-6fd67aac>玩家</div><div class="header-stat" data-v-6fd67aac>击杀</div><div class="header-stat" data-v-6fd67aac>连杀</div><div class="header-stat" data-v-6fd67aac>抢船</div><div class="header-stat" data-v-6fd67aac>复活</div><div class="header-stat" data-v-6fd67aac>K/D</div></div>',1)),(v(!0),g(vA,null,yA(u.value.opponentClub.godRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"god-ranking-item"},[s("div",TS,f(T+1),1),s("div",$S,[y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,DS)):(v(),g("div",LS,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1))]),s("span",MS,f(y.roleInfo.name),1),s("span",KS,f(y.killCnt||0),1),s("span",OS,f(y.mCKCnt||0),1),s("span",xS,f(y.carCnt||0),1),s("span",PS,f(y.reviveCnt||0),1),s("span",RS,f(y.kd||0),1)])}),128))])])])],512)):(v(),g("div",VS,[p(m,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(z,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])])):(v(),pA(B,{key:1,show:c.value,"onUpdate:show":_[2]||(_[2]=y=>c.value=y),preset:"card",title:"蟠桃园战绩",style:{width:"90%","max-width":"1200px"},onAfterLeave:R},{"header-extra":C(()=>[s("div",NS,[p(J,{value:w.value,"onUpdate:value":_[1]||(_[1]=y=>w.value=y),onChange:V,valueFormat:"YYYY/MM/DD","disabled-date":h},null,8,["value"]),p(L,{size:"small",disabled:d.value,onClick:k},{icon:C(()=>[p(z,null,{default:C(()=>[p(_A(_e))]),_:1})]),default:C(()=>[_[29]||(_[29]=X(" 刷新 ",-1))]),_:1},8,["disabled"]),p(L,{type:"primary",size:"small",disabled:!u.value||d.value,onClick:E},{icon:C(()=>[p(z,null,{default:C(()=>[p(_A(Me))]),_:1})]),default:C(()=>[_[30]||(_[30]=X(" 导出 ",-1))]),_:1},8,["disabled"])])]),default:C(()=>[s("div",GS,[d.value?(v(),g("div",WS,[p($,{size:"large"},{description:C(()=>[..._[31]||(_[31]=[X("正在加载战绩数据...",-1)])]),_:1})])):u.value&&u.value.ownClub&&u.value.opponentClub?(v(),g("div",{key:1,ref_key:"exportDom",ref:a,class:"records-list"},[s("div",YS,[s("h2",null,f(w.value)+" "+f(u.value.ownClub.name)+" VS "+f(u.value.opponentClub.name)+" 蟠桃大会对战战绩",1),s("div",zS,[s("div",XS,[u.value.ownClub.logo?(v(),g("img",{key:0,src:u.value.ownClub.logo,alt:u.value.ownClub.name,class:"club-logo"},null,8,JS)):tA("",!0),s("div",qS,f(u.value.ownClub.serverId)+"服 "+f(u.value.ownClub.name),1),s("div",jS,"ID: "+f(u.value.ownClub.id),1),s("div",ZS,f(u.value.ownClub.memberCount)+"人 | "+f(Q(u.value.ownClub.totalPower)),1)]),_[32]||(_[32]=s("div",{class:"vs"},"VS",-1)),s("div",AT,[u.value.opponentClub.logo?(v(),g("img",{key:0,src:u.value.opponentClub.logo,alt:u.value.opponentClub.name,class:"club-logo"},null,8,eT)):tA("",!0),s("div",tT,f(u.value.opponentClub.serverId)+"服 "+f(u.value.opponentClub.name),1),s("div",nT,"ID: "+f(u.value.opponentClub.id),1),s("div",sT,f(u.value.opponentClub.memberCount)+"人 | "+f(Q(u.value.opponentClub.totalPower)),1)])])]),s("div",aT,[s("div",rT,[_[36]||(_[36]=s("div",{class:"stats-title"},"我方总体数据",-1)),s("div",oT,[s("div",lT,[_[33]||(_[33]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",iT,f(u.value.ownClub.totalKills||0),1)]),s("div",uT,[_[34]||(_[34]=s("div",{class:"stat-label"},"总复活",-1)),s("div",cT,f(u.value.ownClub.totalRevives||0),1)]),s("div",dT,[_[35]||(_[35]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",vT,f(u.value.ownClub.totalKD||0),1)])])]),s("div",fT,[_[40]||(_[40]=s("div",{class:"stats-title"},"敌方总体数据",-1)),s("div",gT,[s("div",BT,[_[37]||(_[37]=s("div",{class:"stat-label"},"总击杀",-1)),s("div",pT,f(u.value.opponentClub.totalKills||0),1)]),s("div",mT,[_[38]||(_[38]=s("div",{class:"stat-label"},"总复活",-1)),s("div",hT,f(u.value.opponentClub.totalRevives||0),1)]),s("div",wT,[_[39]||(_[39]=s("div",{class:"stat-label"},"总K/D",-1)),s("div",CT,f(u.value.opponentClub.totalKD||0),1)])])])]),s("div",QT,[s("div",yT,[_[43]||(_[43]=s("div",{class:"ranking-title"},"击杀榜",-1)),s("div",bT,[s("div",FT,[_[41]||(_[41]=s("div",{class:"ranking-subtitle"},"我方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.ownClub.killRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",UT,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,_T)):(v(),g("div",kT,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",IT,f(y.roleInfo.name),1),s("span",HT,f(y.killCnt||0),1)])}),128))]),s("div",ET,[_[42]||(_[42]=s("div",{class:"ranking-subtitle"},"敌方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.killRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",ST,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,TT)):(v(),g("div",$T,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",DT,f(y.roleInfo.name),1),s("span",LT,f(y.killCnt||0),1)])}),128))])])]),s("div",MT,[_[46]||(_[46]=s("div",{class:"ranking-title"},"K/D榜",-1)),s("div",KT,[s("div",OT,[_[44]||(_[44]=s("div",{class:"ranking-subtitle"},"我方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.ownClub.kdRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",xT,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,PT)):(v(),g("div",RT,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",VT,f(y.roleInfo.name),1),s("span",NT,f(y.kd||0),1)])}),128))]),s("div",GT,[_[45]||(_[45]=s("div",{class:"ranking-subtitle"},"敌方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.kdRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",WT,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,YT)):(v(),g("div",zT,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",XT,f(y.roleInfo.name),1),s("span",JT,f(y.kd||0),1)])}),128))])])]),s("div",qT,[_[49]||(_[49]=s("div",{class:"ranking-title"},"复活榜",-1)),s("div",jT,[s("div",ZT,[_[47]||(_[47]=s("div",{class:"ranking-subtitle"},"我方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.ownClub.reviveRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",A3,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,e3)):(v(),g("div",t3,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",n3,f(y.roleInfo.name),1),s("span",s3,f(y.reviveCnt||0),1)])}),128))]),s("div",a3,[_[48]||(_[48]=s("div",{class:"ranking-subtitle"},"敌方 Top3",-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.reviveRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"ranking-item"},[s("div",r3,f(T+1),1),y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,o3)):(v(),g("div",l3,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1)),s("span",i3,f(y.roleInfo.name),1),s("span",u3,f(y.reviveCnt||0),1)])}),128))])])])]),s("div",c3,[s("div",d3,[_[51]||(_[51]=s("div",{class:"god-ranking-title"},"我方战神榜",-1)),s("div",v3,[_[50]||(_[50]=s("div",{class:"god-ranking-header"},[s("div",{class:"god-rank-number"},"排名"),s("div",{class:"header-avatar"}),s("div",{class:"header-player"},"玩家"),s("div",{class:"header-stat"},"击杀"),s("div",{class:"header-stat"},"连杀"),s("div",{class:"header-stat"},"抢船"),s("div",{class:"header-stat"},"复活"),s("div",{class:"header-stat"},"K/D")],-1)),(v(!0),g(vA,null,yA(u.value.ownClub.godRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"god-ranking-item"},[s("div",f3,f(T+1),1),s("div",g3,[y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,B3)):(v(),g("div",p3,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1))]),s("span",m3,f(y.roleInfo.name),1),s("span",h3,f(y.killCnt||0),1),s("span",w3,f(y.mCKCnt||0),1),s("span",C3,f(y.carCnt||0),1),s("span",Q3,f(y.reviveCnt||0),1),s("span",y3,f(y.kd||0),1)])}),128))])]),s("div",b3,[_[53]||(_[53]=s("div",{class:"god-ranking-title"},"敌方战神榜",-1)),s("div",F3,[_[52]||(_[52]=s("div",{class:"god-ranking-header"},[s("div",{class:"god-rank-number"},"排名"),s("div",{class:"header-avatar"}),s("div",{class:"header-player"},"玩家"),s("div",{class:"header-stat"},"击杀"),s("div",{class:"header-stat"},"连杀"),s("div",{class:"header-stat"},"抢船"),s("div",{class:"header-stat"},"复活"),s("div",{class:"header-stat"},"K/D")],-1)),(v(!0),g(vA,null,yA(u.value.opponentClub.godRank,(y,T)=>{var G;return v(),g("div",{key:T,class:"god-ranking-item"},[s("div",U3,f(T+1),1),s("div",_3,[y.roleInfo.headImg?(v(),g("img",{key:0,src:y.roleInfo.headImg,alt:y.roleInfo.name,class:"player-avatar",onError:F},null,40,k3)):(v(),g("div",I3,f(((G=y.roleInfo.name)==null?void 0:G.charAt(0))||"?"),1))]),s("span",H3,f(y.roleInfo.name),1),s("span",E3,f(y.killCnt||0),1),s("span",S3,f(y.mCKCnt||0),1),s("span",T3,f(y.carCnt||0),1),s("span",$3,f(y.reviveCnt||0),1),s("span",D3,f(y.kd||0),1)])}),128))])])])],512)):(v(),g("div",L3,[p(m,{description:"暂无战绩数据",size:"large"},{icon:C(()=>[p(z,null,{default:C(()=>[p(_A(it))]),_:1})]),_:1})]))])]),_:1},8,["show"]))])}}},K3=Ae(M3,[["__scopeId","data-v-6fd67aac"]]),O3={key:0},x3={key:0,class:"empty-club"},P3={class:"actions"},R3={key:1},V3={class:"toolbar"},N3={class:"overview"},G3={class:"club-header"},W3={class:"meta"},Y3={class:"name"},z3={class:"sub"},X3={class:"grid"},J3={class:"item"},q3={class:"value"},j3={class:"item"},Z3={class:"value"},A$={key:0,class:"announcement"},e$={class:"text"},t$={__name:"PeachInfo",setup(A){const e=qA(),t=ZA(),n=I(()=>{var b;return((b=e.gameData)==null?void 0:b.legionInfo)||null}),a=I(()=>{var b;return((b=n.value)==null?void 0:b.info)||null}),o=W(!1),r=W(null),i=W("overview"),l=b=>b?b>=1e8?(b/1e8).toFixed(2)+"亿":b>=1e4?(b/1e4).toFixed(2)+"万":b.toString():"0",c=b=>{if(!b)return"";const w=b.split("/");if(w.length!==3)return b;const[Q,H,M]=w;return Q.slice(2)+H+M},d=()=>{const b=new Date,w=b.getDay();let Q=0;w===0?Q=0:Q=w;const H=new Date(b);H.setDate(b.getDate()-Q);const M=H.getFullYear(),F=String(H.getMonth()+1).padStart(2,"0"),h=String(H.getDate()).padStart(2,"0");return`${M}/${F}/${h}`},u=async()=>{var Q,H,M,F,h,V,P,k;if(!e.selectedToken){t.warning("请先选择游戏角色");return}const b=e.selectedToken.id;if(e.getWebSocketStatus(b)!=="connected"){t.error("WebSocket未连接，无法查询战绩");return}o.value=!0;try{let E;if(d()===_t()){const R=await e.sendMessageWithPromise(b,"legion_getpayloadbf",{},1e4);if(!R){t.error("未获取到对战俱乐部");return}if(E=R.legions[0].id,a.value.id===E&&(E=R.legions[1].id),!E){t.error("未获取到对战俱乐部ID");return}}else{const R=await e.sendMessageWithPromise(b,"legion_getpayloadrecord",{},1e4);if(!R){t.error("未获取到对战俱乐部");return}if(E=(Q=R.enemyLegionMap[c(d())])==null?void 0:Q.id,!E){t.error("未获取到对战俱乐部ID");return}}const D=await e.sendMessageWithPromise(b,"legion_getinfobyid",{legionId:E},1e4);r.value={id:E,level:((H=D==null?void 0:D.legionData)==null?void 0:H.level)||0,power:((M=D==null?void 0:D.legionData)==null?void 0:M.power)||0,name:((F=D==null?void 0:D.legionData)==null?void 0:F.name)||"",serverId:((h=D==null?void 0:D.legionData)==null?void 0:h.serverId)||"",logo:((V=D==null?void 0:D.legionData)==null?void 0:V.logo)||"",quenchNum:((P=D==null?void 0:D.legionData)==null?void 0:P.quenchNum)||0,announcement:((k=D==null?void 0:D.legionData)==null?void 0:k.announcement)||""},t.success("查询对战信息成功")}catch(E){console.error("查询对战信息失败:",E),t.error(`查询失败: ${E.message}`)}finally{o.value=!1}};return ae(()=>{u()}),(b,w)=>{const Q=Z("n-empty"),H=Z("n-button"),M=Z("n-space"),F=Z("n-avatar"),h=Z("n-tab-pane"),V=Z("n-tabs"),P=De;return v(),pA(P,{class:"club-info",statusClass:{active:!!a.value}},kn({icon:C(()=>[w[1]||(w[1]=s("img",{src:er,alt:"俱乐部图标"},null,-1))]),title:C(()=>[w[2]||(w[2]=s("h3",null,"蟠桃园信息",-1))]),default:C(()=>[a.value?(v(),g("div",R3,[s("div",V3,[p(M,{size:"small"},{default:C(()=>[p(H,{size:"small",onClick:u},{default:C(()=>[...w[4]||(w[4]=[X("刷新",-1)])]),_:1})]),_:1})]),p(V,{value:i.value,"onUpdate:value":w[0]||(w[0]=k=>i.value=k),type:"line",animated:""},{default:C(()=>[p(h,{name:"overview",tab:"对手信息","display-directive":"show:lazy"},{default:C(()=>{var k,E,D,R,N,_,J,z,L;return[s("div",N3,[s("div",G3,[p(F,{size:48,src:((k=r.value)==null?void 0:k.logo)||"/icons/xiaoyugan.png"},null,8,["src"]),s("div",W3,[s("div",Y3,f(((E=r.value)==null?void 0:E.name)||"暂无名称"),1),s("div",z3," ID "+f(((D=r.value)==null?void 0:D.id)||"0")+" · Lv."+f(((R=r.value)==null?void 0:R.level)||"0")+" · 服务器 "+f(((N=r.value)==null?void 0:N.serverId)||"0"),1)])]),s("div",X3,[s("div",J3,[w[5]||(w[5]=s("div",{class:"label"},"战力",-1)),s("div",q3,f(l(((_=r.value)==null?void 0:_.power)||0)),1)]),s("div",j3,[w[6]||(w[6]=s("div",{class:"label"},"红粹",-1)),s("div",Z3,f(((J=r.value)==null?void 0:J.quenchNum)||"0"),1)])]),(z=r.value)!=null&&z.announcement?(v(),g("div",A$,[w[7]||(w[7]=s("div",{class:"label"},"公告",-1)),s("div",e$,f(((L=r.value)==null?void 0:L.announcement)||"暂无公告"),1)])):tA("",!0)])]}),_:1}),p(h,{name:"records",tab:"蟠桃园战绩","display-directive":"show:lazy"},{default:C(()=>[p(K3,{inline:""})]),_:1})]),_:1},8,["value"])])):(v(),g("div",x3,[p(Q,{description:"暂无俱乐部"}),s("div",P3,[p(H,{size:"small",onClick:u},{default:C(()=>[...w[3]||(w[3]=[X("刷新",-1)])]),_:1})])]))]),_:2},[a.value?void 0:{name:"badge",fn:C(()=>[a.value?tA("",!0):(v(),g("span",O3,f("暂无俱乐部")))]),key:"0"}]),1032,["statusClass"])}}},n$=Ae(t$,[["__scopeId","data-v-2ac47862"]]),s$={key:11,class:"warrank-full-container"},a$={key:12,class:"warrank-full-container"},r$=!0,o$={__name:"GameStatus",setup(A){const e=qA();ZA();const t=W({isRegistered:!1});W(!1);const n=W("daily");I(()=>{const w=new Date().getDay();return w>=1&&w<=3});const a=W({isRunning:!1,remainingTime:0,stopTime:0}),o=W({isActive:!1,remainingTime:0,elapsedTime:0,lastTime:0,hangUpTime:0,isExtending:!1,isClaiming:!1}),r=W({isSignedIn:!1,clubName:""});I(()=>e.gameData.studyStatus);const i=I(()=>{var w;return((w=e.gameData)==null?void 0:w.roleInfo)||null}),l=I(()=>{var M,F;const w=(F=(M=i.value)==null?void 0:M.role)==null?void 0:F.tower,Q=w==null?void 0:w.id;return!(Math.floor(Q/10)+1>450)});I(()=>e.selectedToken?e.getWebSocketStatus(e.selectedToken.id)==="connected":!1);const c=()=>{if(!i.value)return;const w=i.value.role;if(w.bottleHelpers){const Q=Date.now()/1e3;a.value.stopTime=w.bottleHelpers.helperStopTime,a.value.isRunning=w.bottleHelpers.helperStopTime>Q,a.value.remainingTime=Math.max(0,Math.floor(w.bottleHelpers.helperStopTime-Q))}if(w.hangUp){const Q=Date.now()/1e3;o.value.lastTime=w.hangUp.lastTime,o.value.hangUpTime=w.hangUp.hangUpTime;const H=Q-o.value.lastTime;H<=o.value.hangUpTime?(o.value.remainingTime=Math.floor(o.value.hangUpTime-H),o.value.isActive=!0):(o.value.remainingTime=0,o.value.isActive=!1),o.value.elapsedTime=Math.floor(o.value.hangUpTime-o.value.remainingTime)}if(w.statistics){const Q=new Date;Q.setHours(0,0,0,0);const H=Q.getTime()/1e3;t.value.isRegistered=Number(w.statistics["last:legion:match:sign:up:time"])>H}if(w.statisticsTime){const Q=new Date;Q.setHours(0,0,0,0);const H=Q.getTime()/1e3;r.value.isSignedIn=w.statisticsTime["legion:sign:in"]>H}};let d=null;const u=()=>{d&&clearInterval(d),d=setInterval(()=>{a.value.isRunning&&a.value.remainingTime>0&&(a.value.remainingTime=Math.max(0,a.value.remainingTime-1),a.value.remainingTime<=0&&(a.value.isRunning=!1)),o.value.isActive&&o.value.remainingTime>0&&(o.value.remainingTime=Math.max(0,o.value.remainingTime-1),o.value.elapsedTime=o.value.elapsedTime+1,o.value.remainingTime<=0&&(o.value.isActive=!1))},1e3)};jA(i,w=>{w&&c()},{deep:!0,immediate:!0});const b=W(!1);return jA(()=>e.selectedToken?e.getWebSocketStatus(e.selectedToken.id):"disconnected",w=>{if(w==="connected"&&!b.value&&e.selectedToken){b.value=!0;const Q=e.selectedToken.id;e.sendMessage(Q,"legion_getinfo")}}),ae(()=>{if(c(),u(),e.selectedToken&&e.getWebSocketStatus(e.selectedToken.id)==="connected"){const w=e.selectedToken.id;e.sendMessage(w,"legion_getinfo"),b.value=!0}}),kt(()=>{d&&clearInterval(d)}),(w,Q)=>{const H=YQ,M=Z("n-tab-pane"),F=Z("n-tabs"),h=dQ,V=RC,P=lC,k=Gu;return v(),g("div",{class:iA(["game-status-container",n.value==="fightPvp"?"full-grid":""])},[p(H,{embedded:""}),p(F,{class:"section-tabs",value:n.value,"onUpdate:value":Q[0]||(Q[0]=E=>n.value=E),type:"line",animated:"",size:"small"},{default:C(()=>[p(M,{name:"daily",tab:"日常"}),p(M,{name:"club",tab:"俱乐部"}),p(M,{name:"activity",tab:"活动"}),r$?(v(),pA(M,{key:0,name:"tools",tab:"工具"})):tA("",!0),p(M,{name:"warrank",tab:"盐场"}),p(M,{name:"monthBattle",tab:"本月盐场战绩"}),p(M,{name:"peach",tab:"蟠桃园"}),p(M,{name:"toprank",tab:"巅峰榜"}),p(M,{name:"topclubrank",tab:"俱乐部榜"}),p(M,{name:"goldclubrank",tab:"黄金积分榜"}),p(M,{name:"fightPvp",tab:"切磋"})]),_:1},8,["value"]),Pe(p(h,null,null,512),[[Re,n.value==="daily"]]),Pe(p(V,null,null,512),[[Re,n.value==="daily"]]),Pe(p(TH,null,null,512),[[Re,n.value==="daily"&&l.value]]),Pe(p(NH,null,null,512),[[Re,n.value==="daily"]]),Pe(p(jQ,null,null,512),[[Re,n.value==="daily"]]),Pe(p(zy,null,null,512),[[Re,n.value==="daily"]]),Pe(p(uy,null,null,512),[[Re,n.value==="tools"]]),Pe(p(wy,null,null,512),[[Re,n.value==="tools"]]),Pe(p(Hy,null,null,512),[[Re,n.value==="tools"]]),n.value==="tools"?(v(),pA(Ky,{key:0})):tA("",!0),n.value==="tools"?(v(),pA(HI,{key:1})):tA("",!0),n.value==="tools"?(v(),pA(GI,{key:2})):tA("",!0),n.value==="tools"?(v(),pA(t4,{key:3})):tA("",!0),n.value==="tools"?(v(),pA(QH,{key:4})):tA("",!0),n.value==="tools"?(v(),pA(k4,{key:5})):tA("",!0),n.value==="tools"?(v(),pA(YH,{key:6})):tA("",!0),tA("",!0),tA("",!0),n.value==="club"?(v(),pA(P,{key:9})):tA("",!0),n.value==="club"?(v(),pA(k,{key:10})):tA("",!0),Pe(p(ab,null,null,512),[[Re,n.value==="activity"]]),Pe(p(rb,null,null,512),[[Re,n.value==="activity"]]),n.value==="warrank"?(v(),g("div",s$,[p(EU)])):tA("",!0),n.value==="monthBattle"?(v(),g("div",a$,[p(w_)])):tA("",!0),n.value==="toprank"?(v(),pA(M_,{key:13})):tA("",!0),n.value==="topclubrank"?(v(),pA(a2,{key:14})):tA("",!0),n.value==="goldclubrank"?(v(),pA(T2,{key:15})):tA("",!0),n.value==="fightPvp"?(v(),pA(bI,{key:16})):tA("",!0),n.value==="peach"?(v(),pA(n$,{key:17})):tA("",!0)],2)}}},l$=Ae(o$,[["__scopeId","data-v-2e55b67a"]]),i$={class:"game-features-page"},u$={class:"page-header"},c$={class:"container"},d$={class:"header-content"},v$={class:"header-left"},f$={class:"page-subtitle"},g$={class:"header-actions"},B$={key:0,class:"feedback-section"},p$={class:"features-grid-section"},m$={class:"container"},h$={class:"ws-status-section"},w$={class:"container"},C$={class:"ws-status-card"},Q$={class:"status-header"},y$={class:"status-content"},b$={class:"status-item"},F$={key:0,class:"status-item"},U$={key:1,class:"status-item"},_$={__name:"GameFeatures",setup(A){const e=Ki(),t=ZA(),n=qA(),a=W(!0),o=W(null),r=I(()=>n.selectedToken&&n.getWebSocketStatus(n.selectedToken.id)==="connected"?"connected":"disconnected"),i=I(()=>n.selectedToken?n.getWebSocketStatus(n.selectedToken.id)==="connected"?"已连接":"未连接":"未选择Token"),l=I(()=>r.value==="connected"?"status-connected":"status-disconnected"),c=I(()=>r.value==="connected"),d=()=>{if(!n.selectedToken){t.warning("请先选择一个Token"),e.push("/tokens");return}try{const Q=n.selectedToken.id,H=n.selectedToken.token;n.createWebSocketConnection(Q,H),t.info("正在建立 WebSocket 连接..."),setTimeout(async()=>{n.getWebSocketStatus(Q)==="connected"&&(t.success("WebSocket 连接成功"),await w())},2e3)}catch(Q){console.error("WebSocket连接失败:",Q),t.error("WebSocket连接失败")}},u=()=>{if(n.selectedToken){const Q=n.selectedToken.id;n.closeWebSocketConnection(Q),t.info("WebSocket连接已断开")}},b=()=>{r.value==="connected"?u():d()};ae(()=>{n.selectedToken&&(n.getWebSocketStatus(n.selectedToken.id)!=="connected"?d():w())}),jA(()=>{if(!n.selectedToken)return{status:"disconnected",lastError:null};const Q=n.wsConnections[n.selectedToken.id];return{status:Q==null?void 0:Q.status,lastError:Q==null?void 0:Q.lastError}},Q=>{if(Q&&Q.status==="error"&&Q.lastError){const H=String(Q.lastError.error||"").toLowerCase();H.includes("token")&&H.includes("expired")&&(t.error("当前 Token 已过期，请重新导入后再试"),e.push("/tokens"))}},{deep:!0});const w=async()=>{var Q;if(n.selectedToken)try{const H=n.selectedToken.id;n.sendMessage(H,"role_getroleinfo"),n.sendMessage(H,"tower_getinfo"),n.sendMessage(H,"evotower_getinfo"),n.sendMessage(H,"presetteam_getinfo");const M=await n.sendMessageWithPromise(H,"fight_startlevel");n.setBattleVersion((Q=M==null?void 0:M.battleData)==null?void 0:Q.version)}catch{}};return kt(()=>{}),(Q,H)=>{var V;const M=Z("n-icon"),F=l$,h=Z("n-button");return v(),g("div",i$,[s("div",u$,[s("div",c$,[s("div",d$,[s("div",v$,[H[0]||(H[0]=s("h1",{class:"page-title"},"游戏功能",-1)),s("p",f$,f(((V=_A(n).selectedToken)==null?void 0:V.name)||"未选择Token"),1)]),s("div",g$,[s("div",{class:iA(["connection-status",r.value])},[p(M,null,{default:C(()=>[p(_A(nu))]),_:1}),s("span",null,f(i.value),1)],2)])])])]),a.value?(v(),g("div",B$)):tA("",!0),s("div",p$,[s("div",m$,[p(F)])]),s("div",h$,[s("div",w$,[s("div",C$,[s("div",Q$,[H[1]||(H[1]=s("h3",null,"连接状态",-1)),p(h,{text:"",onClick:b},{default:C(()=>[X(f(c.value?"断开连接":"重新连接"),1)]),_:1})]),s("div",y$,[s("div",b$,[H[2]||(H[2]=s("span",null,"WebSocket状态:",-1)),s("span",{class:iA(l.value)},f(i.value),3)]),_A(n).selectedToken?(v(),g("div",F$,[H[3]||(H[3]=s("span",null,"当前Token:",-1)),s("span",null,f(_A(n).selectedToken.name),1)])):tA("",!0),o.value?(v(),g("div",U$,[H[4]||(H[4]=s("span",null,"最后活动:",-1)),s("span",null,f(o.value),1)])):tA("",!0)])])])])])}}},O$=Ae(_$,[["__scopeId","data-v-a5e2abd3"]]);export{O$ as default};
